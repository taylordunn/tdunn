<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
<title>tdunn: TidyTuesday 2021 Week 21</title>

<meta property="description" itemprop="description" content="#TidyTuesday 2021-05-18: Ask a Manager Salary Survey."/>

<link rel="canonical" href="https://tdunn.ca/posts/2021-05-18-tidytuesday-2021-week-21/"/>
<link rel="icon" type="image/vnd.microsoft.icon" href="../../content/images/td.ico"/>

<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2021-05-18"/>
<meta property="article:created" itemprop="dateCreated" content="2021-05-18"/>
<meta name="article:author" content="Taylor Dunn"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="tdunn: TidyTuesday 2021 Week 21"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="#TidyTuesday 2021-05-18: Ask a Manager Salary Survey."/>
<meta property="og:url" content="https://tdunn.ca/posts/2021-05-18-tidytuesday-2021-week-21/"/>
<meta property="og:image" content="https://tdunn.ca/posts/2021-05-18-tidytuesday-2021-week-21/tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-47-1.png"/>
<meta property="og:image:width" content="1248"/>
<meta property="og:image:height" content="768"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="tdunn"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary_large_image"/>
<meta property="twitter:title" content="tdunn: TidyTuesday 2021 Week 21"/>
<meta property="twitter:description" content="#TidyTuesday 2021-05-18: Ask a Manager Salary Survey."/>
<meta property="twitter:url" content="https://tdunn.ca/posts/2021-05-18-tidytuesday-2021-week-21/"/>
<meta property="twitter:image" content="https://tdunn.ca/posts/2021-05-18-tidytuesday-2021-week-21/tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-47-1.png"/>
<meta property="twitter:image:width" content="1248"/>
<meta property="twitter:image:height" content="768"/>
<meta property="twitter:site" content="@TDunn12"/>
<meta property="twitter:creator" content="@TDunn12"/>

<!--  https://scholar.google.com/intl/en/scholar/inclusion.html#indexing -->
<meta name="citation_title" content="tdunn: TidyTuesday 2021 Week 21"/>
<meta name="citation_fulltext_html_url" content="https://tdunn.ca/posts/2021-05-18-tidytuesday-2021-week-21/"/>
<meta name="citation_online_date" content="2021/05/18"/>
<meta name="citation_publication_date" content="2021/05/18"/>
<meta name="citation_author" content="Taylor Dunn"/>
<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","params","categories","draft","output","citation_url","canonical_url"]}},"value":[{"type":"character","attributes":{},"value":["TidyTuesday 2021 Week 21"]},{"type":"character","attributes":{},"value":["#TidyTuesday 2021-05-18: Ask a Manager Salary Survey."]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name"]}},"value":[{"type":"character","attributes":{},"value":["Taylor Dunn"]}]}]},{"type":"character","attributes":{},"value":["2021-05-18"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["date","slug"]}},"value":[{"type":"character","attributes":{},"value":["2021-05-18"]},{"type":"character","attributes":{},"value":["tidytuesday-2021-week-21"]}]},{"type":"character","attributes":{},"value":["TidyTuesday","text mining","data visualization"]},{"type":"logical","attributes":{},"value":[false]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["toc","self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[false]}]}]},{"type":"character","attributes":{},"value":["https://tdunn.ca/posts/2021-05-18-tidytuesday-2021-week-21/"]},{"type":"character","attributes":{},"value":["https://tdunn.ca/posts/2021-05-18-tidytuesday-2021-week-21/"]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["tidytuesday-2021-week-21_files/anchor-4.2.2/anchor.min.js","tidytuesday-2021-week-21_files/bowser-1.9.3/bowser.min.js","tidytuesday-2021-week-21_files/distill-2.2.21/template.v2.js","tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-14-1.png","tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-21-1.png","tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-22-1.png","tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-24-1.png","tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-26-1.png","tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-28-1.png","tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-31-1.png","tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-32-1.png","tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-35-1.png","tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-4-1.png","tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-42-1.png","tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-46-1.png","tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-47-1.png","tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-6-1.png","tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-9-1.png","tidytuesday-2021-week-21_files/header-attrs-2.11/header-attrs.js","tidytuesday-2021-week-21_files/jquery-3.6.0/jquery-3.6.0.js","tidytuesday-2021-week-21_files/jquery-3.6.0/jquery-3.6.0.min.js","tidytuesday-2021-week-21_files/jquery-3.6.0/jquery-3.6.0.min.map","tidytuesday-2021-week-21_files/pagedtable-1.1/css/pagedtable.css","tidytuesday-2021-week-21_files/pagedtable-1.1/js/pagedtable.js","tidytuesday-2021-week-21_files/popper-2.6.0/popper.min.js","tidytuesday-2021-week-21_files/tippy-6.2.7/tippy-bundle.umd.min.js","tidytuesday-2021-week-21_files/tippy-6.2.7/tippy-light-border.css","tidytuesday-2021-week-21_files/tippy-6.2.7/tippy.css","tidytuesday-2021-week-21_files/tippy-6.2.7/tippy.umd.min.js","tidytuesday-2021-week-21_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      if ($(this).children()[0].nodeName == "D-FOOTNOTE") {
        var fn = $(this).children()[0]
        $(this).html(fn.shadowRoot.querySelector("sup"))
        $(this).id = fn.id
        fn.remove()
      }
      var refs = $(this).attr('data-cites').split(" ");
      var refHtml = refs.map(function(ref) {
        return "<p>" + $('#ref-' + ref).html() + "</p>";
      }).join("\n");
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // fix footnotes in tables (#411)
    // replacing broken distill.pub feature
    $('table d-footnote').each(function() {
      // we replace internal showAtNode methode which is triggered when hovering a footnote
      this.hoverBox.showAtNode = function(node) {
        // ported from https://github.com/distillpub/template/pull/105/files
        calcOffset = function(elem) {
            let x = elem.offsetLeft;
            let y = elem.offsetTop;
            // Traverse upwards until an `absolute` element is found or `elem`
            // becomes null.
            while (elem = elem.offsetParent && elem.style.position != 'absolute') {
                x += elem.offsetLeft;
                y += elem.offsetTop;
            }

            return { left: x, top: y };
        }
        // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop
        const bbox = node.getBoundingClientRect();
        const offset = calcOffset(node);
        this.show([offset.left + bbox.width, offset.top + bbox.height]);
      }
    })

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    // ignore leaflet img layers (#106)
    figures = figures.filter(':not(img[class*="leaflet"])')
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace(/^index[.]html/, "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */



html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    sans-serif;
  --mono-font:       monospace;
  --body-font:       sans-serif;
  --navbar-font:     sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */
</style>
<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */
@import url('https://fonts.googleapis.com/css2?family=Roboto+Condensed');
@import url('https://fonts.googleapis.com/css2?family=Fira+Code');

html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       12px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    'Roboto Condensed', sans-serif;
  --mono-font:       'Fira Code', monospace;
  --body-font:       'Roboto Condensed', sans-serif;
  --navbar-font:     'Roboto Condensed', sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */

/* Change code snippet background color */
/* https://github.com/rstudio/distill/issues/298#issuecomment-766374934 */
d-article div.sourceCode pre {
  background: #f5f5f5;
}

code {
  background-color: #f5f5f5;
}

d-article pre {
  background-color: #f5f5f5;
}

/* Reduce the spacing between bullet points */
ul li {
  padding: 0px 0px;
  margin-bottom: 0px;
}

/* Trying to adjust the post preview image size
/*.posts-list .post-preview .thumbnail img {
  max-width: 100%;
}*/

/* Remove the all caps transformation on the h4 header */
d-article h4 {
  text-transform: none;
}</style>
<style type="text/css">
/* base style */

/* FONT FAMILIES */

:root {
  --heading-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  --mono-default: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  --body-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

body,
.posts-list .post-preview p,
.posts-list .description p {
  font-family: var(--body-font), var(--body-default);
}

h1, h2, h3, h4, h5, h6,
.posts-list .post-preview h2,
.posts-list .description h2 {
  font-family: var(--heading-font), var(--heading-default);
}

d-article div.sourceCode code,
d-article pre code {
  font-family: var(--mono-font), var(--mono-default);
}


/*-- TITLE --*/
d-title h1,
.posts-list > h1 {
  color: var(--title-color, black);
}

d-title h1 {
  font-size: var(--title-size, 50px);
}

/*-- HEADERS --*/
d-article h1,
d-article h2,
d-article h3,
d-article h4,
d-article h5,
d-article h6 {
  color: var(--header-color, rgba(0, 0, 0, 0.8));
}

/*-- BODY --*/
d-article > p,  /* only text inside of <p> tags */
d-article > ul, /* lists */
d-article > ol {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
  font-size: var(--body-size, 1.06rem);
}


/*-- CODE --*/
d-article div.sourceCode code,
d-article pre code {
  font-size: var(--code-size, 14px);
}

/*-- ASIDE --*/
d-article aside {
  font-size: var(--aside-size, 12px);
  color: var(--aside-color, rgba(0, 0, 0, 0.6));
}

/*-- FIGURE CAPTIONS --*/
figure .caption,
figure figcaption,
.figure .caption {
  font-size: var(--fig-cap-size, 13px);
  color: var(--fig-cap-color, rgba(0, 0, 0, 0.6));
}

/*-- METADATA --*/
d-byline h3 {
  font-size: var(--heading-size, 0.6rem);
  color: var(--heading-color, rgba(0, 0, 0, 0.5));
}

d-byline {
  font-size: var(--body-size, 0.8rem);
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

d-byline a,
d-article d-byline a {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

/*-- TABLE OF CONTENTS --*/
.d-contents nav h3 {
  font-size: var(--heading-size, 18px);
}

.d-contents nav a {
  font-size: var(--contents-size, 13px);
}

/*-- APPENDIX --*/
d-appendix h3 {
  font-size: var(--heading-size, 15px);
  color: var(--heading-color, rgba(0, 0, 0, 0.65));
}

d-appendix {
  font-size: var(--text-size, 0.8em);
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

d-appendix d-footnote-list a.footnote-backlink {
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

/*-- WEBSITE HEADER + FOOTER --*/
.distill-site-header .title {
  font-size: var(--title-size, 18px);
  font-family: var(--navbar-font), var(--heading-default);
}

.distill-site-header a,
.nav-dropdown .nav-dropbtn {
  font-family: var(--navbar-font), var(--heading-default);
}

.nav-dropdown .nav-dropbtn {
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  font-size: var(--text-size, 15px);
}

.distill-site-header a:hover,
.nav-dropdown:hover .nav-dropbtn {
  color: var(--hover-color, white);
}

.distill-site-header {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer a:hover {
  color: var(--hover-color, white);
}</style>
<!--/radix_placeholder_distill-->
  <script src="../../site_libs/header-attrs-2.11/header-attrs.js"></script>
  <link href="../../site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
  <script src="../../site_libs/pagedtable-1.1/js/pagedtable.js"></script>
  <script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    if (!/posts/.test(location.pathname)) {
      return;
    }

    var script = document.createElement("script");
    script.src = "https://utteranc.es/client.js";
    script.setAttribute("repo", "taylordunn/tdunn");
    script.setAttribute("issue-term", "title");
    script.setAttribute("crossorigin", "anonymous");
    script.setAttribute("label", "comment");
    script.setAttribute("theme", "github-light");

    /* wait for article to load, append script to article element */
    var observer = new MutationObserver(function (mutations, observer) {
      var article = document.querySelector("d-article");
      if (article) {
        observer.disconnect();
        /* HACK: article scroll */
        article.setAttribute("style", "overflow-y: hidden");
        article.appendChild(script);
      }
    });

    observer.observe(document.body, { childList: true });
  });
</script>

<!-- <script src="https://utteranc.es/client.js" -->
<!--         repo="sciencificity/Blog_Vebash" -->
<!--         issue-term="title" -->
<!--         label="comments 💬" -->
<!--         theme="github-light" -->
<!--         crossorigin="anonymous" -->
<!--         async> -->
<!-- </script> -->

<script type="text/javascript" cookie-consent="tracking" async src="https://www.googletagmanager.com/gtag/js?id=UA-196523553-1"></script>
<script type="text/javascript" cookie-consent="tracking">
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-196523553-1');
</script>
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"TidyTuesday 2021 Week 21","description":"#TidyTuesday 2021-05-18: Ask a Manager Salary Survey.","authors":[{"author":"Taylor Dunn","authorURL":"#","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-05-18T00:00:00.000+00:00","citationText":"Dunn, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">tdunn</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../index.html">Posts</a>
<a href="../../content/docs/tdunn-cv.html">CV</a>
<a href="../../projects.html">Projects</a>
<a href="https://twitter.com/TDunn12">
<i class="fa fa-twitter" aria-hidden="true"></i>
</a>
<a href="https://github.com/taylordunn">
<i class="fa fa-github" aria-hidden="true"></i>
</a>
<a href="https://www.linkedin.com/in/taylor-dunn-83090843/">
<i class="fa fa-linkedin" aria-hidden="true"></i>
</a>
<a href="../../index.xml">
<i class="fa fa-rss" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>TidyTuesday 2021 Week 21</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
  <a href="../../index.html#category:TidyTuesday" class="dt-tag">TidyTuesday</a>
  <a href="../../index.html#category:text_mining" class="dt-tag">text mining</a>
  <a href="../../index.html#category:data_visualization" class="dt-tag">data visualization</a>
</div>
<!--/radix_placeholder_categories-->
<p><p>#TidyTuesday 2021-05-18: Ask a Manager Salary Survey.</p></p>
</div>

<div class="d-byline">
  Taylor Dunn  
  
<br/>2021-05-18
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#load-the-data">Load the data</a></li>
<li><a href="#explore-the-data">Explore the data</a></li>
<li><a href="#analysis-data-oriented-professions-in-north-america">Analysis: data-oriented professions in North America</a>
<ul>
<li><a href="#final-plot">Final plot</a></li>
<li><a href="#reproducibility">Reproducibility</a></li>
</ul></li>
</ul>
</nav>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Setup
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>knitr</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/knitr/man/opts_chunk.html'>opts_chunk</a></span><span class='op'>$</span><span class='fu'>set</span><span class='op'>(</span>echo <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/thebioengineer/tidytuesdayR'>tidytuesdayR</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://lubridate.tidyverse.org'>lubridate</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://gt.rstudio.com/'>gt</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/taylordunn/dunnr'>dunnr</a></span><span class='op'>)</span>
<span class='fu'>extrafont</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/extrafont/man/loadfonts.html'>loadfonts</a></span><span class='op'>(</span>device <span class='op'>=</span> <span class='st'>"win"</span>, quiet <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme_get.html'>theme_set</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/dunnr/man/theme_td.html'>theme_td</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/pkg/dunnr/man/set_geom_fonts.html'>set_geom_fonts</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/pkg/dunnr/man/set_palette.html'>set_palette</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<h2 id="load-the-data">Load the data</h2>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>tt</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/tidytuesdayR/man/tt_load.html'>tt_load</a></span><span class='op'>(</span><span class='st'>"2021-05-18"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>
    Downloading file 1 of 1: `survey.csv`</code></pre>
</div>
<p>The data this week comes from the Ask a Manager Survey. From the README:</p>
<blockquote>
<p>The salary survey a few weeks ago got a huge response — 24,000+ people shared their salaries and other info, which is a lot of raw data to sift through. Reader Elisabeth Engl kindly took the raw data and analyzed some of the trends in it and here’s what she found. (She asked me to note that she did this as a fun project to share some insights from the survey, rather than as a paid engagement.)</p>
<p>This data does not reflect the general population; it reflects Ask a Manager readers who self-selected to respond, which is a very different group (as you can see just from the demographic breakdown below, which is very white and very female).</p>
</blockquote>
<h2 id="explore-the-data">Explore the data</h2>
<p>It comes with just the single dataframe:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'>&lt;-</span> <span class='va'>tt</span><span class='op'>$</span><span class='va'>survey</span>
<span class='fu'><a href='https://pillar.r-lib.org/reference/glimpse.html'>glimpse</a></span><span class='op'>(</span><span class='va'>survey</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Rows: 26,232
Columns: 18
$ timestamp                                &lt;chr&gt; &quot;4/27/2021 11:02:10~
$ how_old_are_you                          &lt;chr&gt; &quot;25-34&quot;, &quot;25-34&quot;, &quot;~
$ industry                                 &lt;chr&gt; &quot;Education (Higher ~
$ job_title                                &lt;chr&gt; &quot;Research and Instr~
$ additional_context_on_job_title          &lt;chr&gt; NA, NA, NA, NA, NA,~
$ annual_salary                            &lt;dbl&gt; 55000, 54600, 34000~
$ other_monetary_comp                      &lt;dbl&gt; 0, 4000, NA, 3000, ~
$ currency                                 &lt;chr&gt; &quot;USD&quot;, &quot;GBP&quot;, &quot;USD&quot;~
$ currency_other                           &lt;chr&gt; NA, NA, NA, NA, NA,~
$ additional_context_on_income             &lt;chr&gt; NA, NA, NA, NA, NA,~
$ country                                  &lt;chr&gt; &quot;United States&quot;, &quot;U~
$ state                                    &lt;chr&gt; &quot;Massachusetts&quot;, NA~
$ city                                     &lt;chr&gt; &quot;Boston&quot;, &quot;Cambridg~
$ overall_years_of_professional_experience &lt;chr&gt; &quot;5-7 years&quot;, &quot;8 - 1~
$ years_of_experience_in_field             &lt;chr&gt; &quot;5-7 years&quot;, &quot;5-7 y~
$ highest_level_of_education_completed     &lt;chr&gt; &quot;Master&#39;s degree&quot;, ~
$ gender                                   &lt;chr&gt; &quot;Woman&quot;, &quot;Non-binar~
$ race                                     &lt;chr&gt; &quot;White&quot;, &quot;White&quot;, &quot;~</code></pre>
</div>
<p>Looks like each row corresponds to a single survey. 26232 survey responses is really impressive. Here is how those were gathered over time:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Convert character timestamp to a datetime object so we can plot it</span>
<span class='va'>survey</span> <span class='op'>&lt;-</span> <span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>
    timestamp <span class='op'>=</span> <span class='fu'>lubridate</span><span class='fu'>::</span><span class='fu'><a href='https://lubridate.tidyverse.org/reference/parse_date_time.html'>parse_date_time</a></span><span class='op'>(</span><span class='va'>timestamp</span>, orders <span class='op'>=</span> <span class='st'>"mdy HMS"</span><span class='op'>)</span>,
    survey_date <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='va'>timestamp</span><span class='op'>)</span>
  <span class='op'>)</span>
<span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>survey_date</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>td_colors</span><span class='op'>$</span><span class='va'>nice</span><span class='op'>$</span><span class='va'>day9_yellow</span>, alpha <span class='op'>=</span> <span class='fl'>0.6</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>expand <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/expansion.html'>expansion</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0.07</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_date.html'>scale_x_date</a></span><span class='op'>(</span>breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.Date.html'>seq.Date</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2021-05-01"</span><span class='op'>)</span>,
                                 <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2021-06-01"</span><span class='op'>)</span>, by <span class='op'>=</span> <span class='st'>"week"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-4-1.png" width="624" /></p>
</div>
<p>Over 10,000 responses in one day!</p>
<p>Here are the age ranges:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>how_old_are_you</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://gt.rstudio.com/reference/gt.html'>gt</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<div id="zdtqchpdsm" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#zdtqchpdsm .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zdtqchpdsm .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zdtqchpdsm .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zdtqchpdsm .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zdtqchpdsm .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zdtqchpdsm .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zdtqchpdsm .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zdtqchpdsm .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zdtqchpdsm .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zdtqchpdsm .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zdtqchpdsm .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zdtqchpdsm .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#zdtqchpdsm .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zdtqchpdsm .gt_from_md > :first-child {
  margin-top: 0;
}

#zdtqchpdsm .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zdtqchpdsm .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zdtqchpdsm .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#zdtqchpdsm .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zdtqchpdsm .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#zdtqchpdsm .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zdtqchpdsm .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zdtqchpdsm .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zdtqchpdsm .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zdtqchpdsm .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zdtqchpdsm .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#zdtqchpdsm .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zdtqchpdsm .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#zdtqchpdsm .gt_left {
  text-align: left;
}

#zdtqchpdsm .gt_center {
  text-align: center;
}

#zdtqchpdsm .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zdtqchpdsm .gt_font_normal {
  font-weight: normal;
}

#zdtqchpdsm .gt_font_bold {
  font-weight: bold;
}

#zdtqchpdsm .gt_font_italic {
  font-style: italic;
}

#zdtqchpdsm .gt_super {
  font-size: 65%;
}

#zdtqchpdsm .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 65%;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">how_old_are_you</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">n</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">18-24</td>
<td class="gt_row gt_right">1015</td></tr>
    <tr><td class="gt_row gt_left">25-34</td>
<td class="gt_row gt_right">11748</td></tr>
    <tr><td class="gt_row gt_left">35-44</td>
<td class="gt_row gt_right">9398</td></tr>
    <tr><td class="gt_row gt_left">45-54</td>
<td class="gt_row gt_right">3042</td></tr>
    <tr><td class="gt_row gt_left">55-64</td>
<td class="gt_row gt_right">931</td></tr>
    <tr><td class="gt_row gt_left">65 or over</td>
<td class="gt_row gt_right">88</td></tr>
    <tr><td class="gt_row gt_left">under 18</td>
<td class="gt_row gt_right">10</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
<p>Convert to an ordered factor:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'>&lt;-</span> <span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>
    age_range <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_reorder.html'>fct_reorder</a></span><span class='op'>(</span>
      <span class='va'>how_old_are_you</span>,
      <span class='co'># This will order the factor by the first number in how_old_are_you</span>
      <span class='fu'><a href='https://readr.tidyverse.org/reference/parse_number.html'>parse_number</a></span><span class='op'>(</span><span class='va'>how_old_are_you</span><span class='op'>)</span>
    <span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
      <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_relevel.html'>fct_relevel</a></span><span class='op'>(</span><span class='st'>"under 18"</span><span class='op'>)</span>
  <span class='op'>)</span>
<span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>age_range</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>age_range</span><span class='op'>)</span>, show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_viridis.html'>scale_fill_viridis_d</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>expand <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/expansion.html'>expansion</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0.05</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-6-1.png" width="624" /></p>
</div>
<p>Out of curiosity, these are the 10 survey respondents listed as “under 18”:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>age_range</span> <span class='op'>==</span> <span class='st'>"under 18"</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>industry</span>, <span class='va'>job_title</span>, <span class='va'>annual_salary</span>, <span class='va'>country</span>,
         <span class='va'>overall_years_of_professional_experience</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://gt.rstudio.com/reference/gt.html'>gt</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<div id="cimpjxvgqx" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#cimpjxvgqx .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#cimpjxvgqx .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cimpjxvgqx .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#cimpjxvgqx .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#cimpjxvgqx .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cimpjxvgqx .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cimpjxvgqx .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#cimpjxvgqx .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#cimpjxvgqx .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#cimpjxvgqx .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#cimpjxvgqx .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#cimpjxvgqx .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#cimpjxvgqx .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#cimpjxvgqx .gt_from_md > :first-child {
  margin-top: 0;
}

#cimpjxvgqx .gt_from_md > :last-child {
  margin-bottom: 0;
}

#cimpjxvgqx .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#cimpjxvgqx .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#cimpjxvgqx .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cimpjxvgqx .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#cimpjxvgqx .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cimpjxvgqx .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#cimpjxvgqx .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#cimpjxvgqx .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cimpjxvgqx .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cimpjxvgqx .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#cimpjxvgqx .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cimpjxvgqx .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#cimpjxvgqx .gt_left {
  text-align: left;
}

#cimpjxvgqx .gt_center {
  text-align: center;
}

#cimpjxvgqx .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#cimpjxvgqx .gt_font_normal {
  font-weight: normal;
}

#cimpjxvgqx .gt_font_bold {
  font-weight: bold;
}

#cimpjxvgqx .gt_font_italic {
  font-style: italic;
}

#cimpjxvgqx .gt_super {
  font-size: 65%;
}

#cimpjxvgqx .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 65%;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">industry</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">job_title</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">annual_salary</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">country</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">overall_years_of_professional_experience</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">Education (Primary/Secondary)</td>
<td class="gt_row gt_left">Teacher</td>
<td class="gt_row gt_right">45000</td>
<td class="gt_row gt_left">USA</td>
<td class="gt_row gt_left">21 - 30 years</td></tr>
    <tr><td class="gt_row gt_left">Health care</td>
<td class="gt_row gt_left">Undergraduate Research Assistant</td>
<td class="gt_row gt_right">17000</td>
<td class="gt_row gt_left">United States</td>
<td class="gt_row gt_left">2 - 4 years</td></tr>
    <tr><td class="gt_row gt_left">Retail</td>
<td class="gt_row gt_left">Walmart cashier</td>
<td class="gt_row gt_right">32552</td>
<td class="gt_row gt_left">Canada</td>
<td class="gt_row gt_left">2 - 4 years</td></tr>
    <tr><td class="gt_row gt_left">Health care</td>
<td class="gt_row gt_left">Intern</td>
<td class="gt_row gt_right">29120</td>
<td class="gt_row gt_left">U.S.</td>
<td class="gt_row gt_left">2 - 4 years</td></tr>
    <tr><td class="gt_row gt_left">Nonprofits</td>
<td class="gt_row gt_left">Finance Director</td>
<td class="gt_row gt_right">118000</td>
<td class="gt_row gt_left">United States</td>
<td class="gt_row gt_left">31 - 40 years</td></tr>
    <tr><td class="gt_row gt_left">Health care</td>
<td class="gt_row gt_left">Doctor</td>
<td class="gt_row gt_right">220000</td>
<td class="gt_row gt_left">United States</td>
<td class="gt_row gt_left">2 - 4 years</td></tr>
    <tr><td class="gt_row gt_left">Leisure, Sport &amp; Tourism</td>
<td class="gt_row gt_left">Lifeguard, Swim Instructor</td>
<td class="gt_row gt_right">34320</td>
<td class="gt_row gt_left">United States</td>
<td class="gt_row gt_left">1 year or less</td></tr>
    <tr><td class="gt_row gt_left">Leisure, Sport &amp; Tourism</td>
<td class="gt_row gt_left">Head Lifegaurd</td>
<td class="gt_row gt_right">31200</td>
<td class="gt_row gt_left">United States</td>
<td class="gt_row gt_left">2 - 4 years</td></tr>
    <tr><td class="gt_row gt_left">Law</td>
<td class="gt_row gt_left">Records manager</td>
<td class="gt_row gt_right">106000</td>
<td class="gt_row gt_left">USA</td>
<td class="gt_row gt_left">41 years or more</td></tr>
    <tr><td class="gt_row gt_left">Retail</td>
<td class="gt_row gt_left">Technology Manager</td>
<td class="gt_row gt_right">100200</td>
<td class="gt_row gt_left">USA</td>
<td class="gt_row gt_left">21 - 30 years</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
<p>Some pretty impressive teenagers here. I think my favorite are the ones with more years of experience than years alive.</p>
<p>As for the <code>industry</code> variable, I know from checking out <a href="https://www.askamanager.org/2021/04/how-much-money-do-you-make-4.html">the survey itself</a> that there are 26 options, +1 “Other” option to enter free-text. Do the most frequent 26 <code>industry</code> correspond to those preset options?</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>industry</span>, sort <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fl'>30</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>rank <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/context.html'>n</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/relocate.html'>relocate</a></span><span class='op'>(</span><span class='va'>rank</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://gt.rstudio.com/reference/gt.html'>gt</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://gt.rstudio.com/reference/tab_options.html'>tab_options</a></span><span class='op'>(</span>container.height <span class='op'>=</span> <span class='fl'>300</span>, container.overflow.y <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</code></pre>
</div>
<div id="upfmxdushr" style="overflow-x:auto;overflow-y:auto;width:auto;height:300px;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#upfmxdushr .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#upfmxdushr .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#upfmxdushr .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#upfmxdushr .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#upfmxdushr .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#upfmxdushr .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#upfmxdushr .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#upfmxdushr .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#upfmxdushr .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#upfmxdushr .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#upfmxdushr .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#upfmxdushr .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#upfmxdushr .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#upfmxdushr .gt_from_md > :first-child {
  margin-top: 0;
}

#upfmxdushr .gt_from_md > :last-child {
  margin-bottom: 0;
}

#upfmxdushr .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#upfmxdushr .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#upfmxdushr .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#upfmxdushr .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#upfmxdushr .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#upfmxdushr .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#upfmxdushr .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#upfmxdushr .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#upfmxdushr .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#upfmxdushr .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#upfmxdushr .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#upfmxdushr .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#upfmxdushr .gt_left {
  text-align: left;
}

#upfmxdushr .gt_center {
  text-align: center;
}

#upfmxdushr .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#upfmxdushr .gt_font_normal {
  font-weight: normal;
}

#upfmxdushr .gt_font_bold {
  font-weight: bold;
}

#upfmxdushr .gt_font_italic {
  font-style: italic;
}

#upfmxdushr .gt_super {
  font-size: 65%;
}

#upfmxdushr .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 65%;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">rank</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">industry</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">n</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_right">1</td>
<td class="gt_row gt_left">Computing or Tech</td>
<td class="gt_row gt_right">4360</td></tr>
    <tr><td class="gt_row gt_right">2</td>
<td class="gt_row gt_left">Education (Higher Education)</td>
<td class="gt_row gt_right">2359</td></tr>
    <tr><td class="gt_row gt_right">3</td>
<td class="gt_row gt_left">Nonprofits</td>
<td class="gt_row gt_right">2331</td></tr>
    <tr><td class="gt_row gt_right">4</td>
<td class="gt_row gt_left">Government and Public Administration</td>
<td class="gt_row gt_right">1821</td></tr>
    <tr><td class="gt_row gt_right">5</td>
<td class="gt_row gt_left">Health care</td>
<td class="gt_row gt_right">1739</td></tr>
    <tr><td class="gt_row gt_right">6</td>
<td class="gt_row gt_left">Accounting, Banking &amp; Finance</td>
<td class="gt_row gt_right">1688</td></tr>
    <tr><td class="gt_row gt_right">7</td>
<td class="gt_row gt_left">Engineering or Manufacturing</td>
<td class="gt_row gt_right">1519</td></tr>
    <tr><td class="gt_row gt_right">8</td>
<td class="gt_row gt_left">Marketing, Advertising &amp; PR</td>
<td class="gt_row gt_right">1064</td></tr>
    <tr><td class="gt_row gt_right">9</td>
<td class="gt_row gt_left">Law</td>
<td class="gt_row gt_right">1050</td></tr>
    <tr><td class="gt_row gt_right">10</td>
<td class="gt_row gt_left">Education (Primary/Secondary)</td>
<td class="gt_row gt_right">805</td></tr>
    <tr><td class="gt_row gt_right">11</td>
<td class="gt_row gt_left">Business or Consulting</td>
<td class="gt_row gt_right">778</td></tr>
    <tr><td class="gt_row gt_right">12</td>
<td class="gt_row gt_left">Media &amp; Digital</td>
<td class="gt_row gt_right">732</td></tr>
    <tr><td class="gt_row gt_right">13</td>
<td class="gt_row gt_left">Insurance</td>
<td class="gt_row gt_right">500</td></tr>
    <tr><td class="gt_row gt_right">14</td>
<td class="gt_row gt_left">Retail</td>
<td class="gt_row gt_right">450</td></tr>
    <tr><td class="gt_row gt_right">15</td>
<td class="gt_row gt_left">Recruitment or HR</td>
<td class="gt_row gt_right">429</td></tr>
    <tr><td class="gt_row gt_right">16</td>
<td class="gt_row gt_left">Property or Construction</td>
<td class="gt_row gt_right">350</td></tr>
    <tr><td class="gt_row gt_right">17</td>
<td class="gt_row gt_left">Art &amp; Design</td>
<td class="gt_row gt_right">327</td></tr>
    <tr><td class="gt_row gt_right">18</td>
<td class="gt_row gt_left">Utilities &amp; Telecommunications</td>
<td class="gt_row gt_right">324</td></tr>
    <tr><td class="gt_row gt_right">19</td>
<td class="gt_row gt_left">Transport or Logistics</td>
<td class="gt_row gt_right">270</td></tr>
    <tr><td class="gt_row gt_right">20</td>
<td class="gt_row gt_left">Sales</td>
<td class="gt_row gt_right">262</td></tr>
    <tr><td class="gt_row gt_right">21</td>
<td class="gt_row gt_left">Social Work</td>
<td class="gt_row gt_right">260</td></tr>
    <tr><td class="gt_row gt_right">22</td>
<td class="gt_row gt_left">Entertainment</td>
<td class="gt_row gt_right">234</td></tr>
    <tr><td class="gt_row gt_right">23</td>
<td class="gt_row gt_left">Hospitality &amp; Events</td>
<td class="gt_row gt_right">234</td></tr>
    <tr><td class="gt_row gt_right">24</td>
<td class="gt_row gt_left">Agriculture or Forestry</td>
<td class="gt_row gt_right">130</td></tr>
    <tr><td class="gt_row gt_right">25</td>
<td class="gt_row gt_left">Leisure, Sport &amp; Tourism</td>
<td class="gt_row gt_right">96</td></tr>
    <tr><td class="gt_row gt_right">26</td>
<td class="gt_row gt_left">Publishing</td>
<td class="gt_row gt_right">59</td></tr>
    <tr><td class="gt_row gt_right">27</td>
<td class="gt_row gt_left">NA</td>
<td class="gt_row gt_right">59</td></tr>
    <tr><td class="gt_row gt_right">28</td>
<td class="gt_row gt_left">Library</td>
<td class="gt_row gt_right">54</td></tr>
    <tr><td class="gt_row gt_right">29</td>
<td class="gt_row gt_left">Libraries</td>
<td class="gt_row gt_right">51</td></tr>
    <tr><td class="gt_row gt_right">30</td>
<td class="gt_row gt_left">Biotech</td>
<td class="gt_row gt_right">48</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
<p>Not quite. <code>industry</code> = “Publishing” is the 26th most frequent despite not being a preset option, for example. Make a factor out of this variable, and group anything infrequent (&lt;100 occurrences) into “Other”:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'>&lt;-</span> <span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>
    industry_factor <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_inorder.html'>fct_infreq</a></span><span class='op'>(</span><span class='va'>industry</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
      <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_lump.html'>fct_lump_min</a></span><span class='op'>(</span>min <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>
  <span class='op'>)</span>
<span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>industry_factor</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>td_colors</span><span class='op'>$</span><span class='va'>nice</span><span class='op'>$</span><span class='va'>indigo_blue</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-9-1.png" width="624" /></p>
</div>
<p>The “Other” category accounts for a lot of responses.</p>
<p>The <code>job_title</code> variable is entirely free-text so will be difficult to use for any analysis/visualization, but here are the most common responses:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>job_title</span>, sort <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fl'>50</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'>rmarkdown</span><span class='fu'>::</span><span class='fu'><a href='https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html'>paged_table</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["job_title"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"Software Engineer","2":"289"},{"1":"Project Manager","2":"242"},{"1":"Director","2":"211"},{"1":"Senior Software Engineer","2":"200"},{"1":"Executive Assistant","2":"171"},{"1":"Librarian","2":"160"},{"1":"Teacher","2":"160"},{"1":"Program Manager","2":"152"},{"1":"Manager","2":"146"},{"1":"Product Manager","2":"122"},{"1":"Administrative Assistant","2":"119"},{"1":"Attorney","2":"107"},{"1":"Associate","2":"103"},{"1":"Data Analyst","2":"97"},{"1":"Marketing Manager","2":"95"},{"1":"Office Manager","2":"93"},{"1":"Analyst","2":"89"},{"1":"Engineering Manager","2":"88"},{"1":"Consultant","2":"87"},{"1":"Paralegal","2":"87"},{"1":"Software Developer","2":"85"},{"1":"Executive Director","2":"83"},{"1":"Assistant Professor","2":"81"},{"1":"Operations Manager","2":"81"},{"1":"Business Analyst","2":"76"},{"1":"Editor","2":"76"},{"1":"HR Manager","2":"75"},{"1":"Associate Director","2":"69"},{"1":"Associate Attorney","2":"66"},{"1":"Senior Manager","2":"64"},{"1":"Software engineer","2":"64"},{"1":"Account Manager","2":"63"},{"1":"Assistant Director","2":"61"},{"1":"Data Scientist","2":"60"},{"1":"Program Coordinator","2":"58"},{"1":"Project Coordinator","2":"55"},{"1":"Vice President","2":"54"},{"1":"Controller","2":"51"},{"1":"HR Generalist","2":"49"},{"1":"Senior Associate","2":"49"},{"1":"Director of Operations","2":"48"},{"1":"Senior Consultant","2":"48"},{"1":"Associate Professor","2":"47"},{"1":"Senior Analyst","2":"45"},{"1":"Senior Project Manager","2":"42"},{"1":"Graphic Designer","2":"41"},{"1":"Partner","2":"41"},{"1":"Senior Engineer","2":"41"},{"1":"Technical Writer","2":"41"},{"1":"Accountant","2":"40"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<p>How about job titles related to data or statistics or machine learning?</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>job_title</span>,
               <span class='fu'><a href='https://stringr.tidyverse.org/reference/modifiers.html'>regex</a></span><span class='op'>(</span><span class='st'>"data|statistic|machine learn"</span>, ignore_case <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span>
  <span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>job_title</span>, sort <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'>rmarkdown</span><span class='fu'>::</span><span class='fu'><a href='https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html'>paged_table</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["job_title"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"Data Analyst","2":"97"},{"1":"Data Scientist","2":"60"},{"1":"Data analyst","2":"25"},{"1":"Senior Data Scientist","2":"21"},{"1":"Data Engineer","2":"20"},{"1":"Data scientist","2":"16"},{"1":"Senior Data Analyst","2":"14"},{"1":"Data Manager","2":"12"},{"1":"Database Administrator","2":"12"},{"1":"Statistician","2":"9"},{"1":"Biostatistician","2":"6"},{"1":"Director of Data Science","2":"5"},{"1":"Data Architect","2":"4"},{"1":"Database Manager","2":"4"},{"1":"Lead Data Scientist","2":"4"},{"1":"Machine Learning Engineer","2":"4"},{"1":"Senior data analyst","2":"4"},{"1":"Senior Data Manager","2":"4"},{"1":"Sr Data Analyst","2":"4"},{"1":"data analyst","2":"3"},{"1":"Data science manager","2":"3"},{"1":"Data Science Manager","2":"3"},{"1":"data scientist","2":"3"},{"1":"Database Analyst","2":"3"},{"1":"Metadata Librarian","2":"3"},{"1":"Senior Data Engineer","2":"3"},{"1":"Chief Data Scientist","2":"2"},{"1":"Data Analyst II","2":"2"},{"1":"Data analytics manager","2":"2"},{"1":"Data Analytics Manager","2":"2"},{"1":"Data Entry","2":"2"},{"1":"Data Entry Specialist","2":"2"},{"1":"Data Processor","2":"2"},{"1":"Data Scientist II","2":"2"},{"1":"Data Specialist","2":"2"},{"1":"Data Strategist","2":"2"},{"1":"Database Specialist","2":"2"},{"1":"Junior Data Scientist","2":"2"},{"1":"Master Data Analyst","2":"2"},{"1":"Principal Data Scientist","2":"2"},{"1":"Research and Data Analyst","2":"2"},{"1":"senior data analyst","2":"2"},{"1":"Senior data scientist","2":"2"},{"1":"Senior Machine Learning Engineer","2":"2"},{"1":"Senior Statistician","2":"2"},{"1":"Actuarial data /systems programmer","2":"1"},{"1":"Admin / Data Entry","2":"1"},{"1":"Administrative and Data Coordinator","2":"1"},{"1":"Admission Prospect Data Specialist","2":"1"},{"1":"Annual Fund and Database Manager","2":"1"},{"1":"Applied Data Scientist","2":"1"},{"1":"Assistant Director, Data Integrity","2":"1"},{"1":"Assistant Professor/Director of Cataloging & Metadata Services","2":"1"},{"1":"Assistant Statistician","2":"1"},{"1":"Assoc Dir Data Analysis","2":"1"},{"1":"Associate Data Analyst","2":"1"},{"1":"Associate Data Scientist","2":"1"},{"1":"Biostatistician I","2":"1"},{"1":"Business Analyst, Enterprise Data Governance","2":"1"},{"1":"Business Data Analyst","2":"1"},{"1":"Business Operations (Data Analyst)","2":"1"},{"1":"Client Data Analyst","2":"1"},{"1":"Consultant- Data Analytics","2":"1"},{"1":"Consultant, data analyst","2":"1"},{"1":"Crime Data Analyst","2":"1"},{"1":"Customer Data Management","2":"1"},{"1":"Data & Analytics Director","2":"1"},{"1":"Data & Evaluation Specialist","2":"1"},{"1":"Data & Systems Analyst","2":"1"},{"1":"Data / Document Specialist","2":"1"},{"1":"Data Admin","2":"1"},{"1":"Data Analysis Manager","2":"1"},{"1":"data Analyst","2":"1"},{"1":"Data Analyst (EC-05)","2":"1"},{"1":"Data Analyst 2","2":"1"},{"1":"Data Analyst Engineer","2":"1"},{"1":"Data Analyst III","2":"1"},{"1":"Data Analyst Manager","2":"1"},{"1":"Data Analyst Supervisor (Public Health)","2":"1"},{"1":"Data Analyst, Fundraising","2":"1"},{"1":"Data Analytics","2":"1"},{"1":"Data Analytics Consultant","2":"1"},{"1":"Data Analytics Developer","2":"1"},{"1":"Data Analytics Lead","2":"1"},{"1":"Data and Analytics Lead","2":"1"},{"1":"Data and Analytics Product Manager","2":"1"},{"1":"Data and Evaluation Specialist","2":"1"},{"1":"Data and Insights Analyst","2":"1"},{"1":"Data and insights exec","2":"1"},{"1":"Data and layout","2":"1"},{"1":"Data and policy specialist","2":"1"},{"1":"Data and Quality Assurance Manager","2":"1"},{"1":"Data and Reporting Analyst","2":"1"},{"1":"Data architect","2":"1"},{"1":"data associate","2":"1"},{"1":"Data Associate","2":"1"},{"1":"Data Consultant","2":"1"},{"1":"Data Conversion Analyst IV","2":"1"},{"1":"data coordinator","2":"1"},{"1":"Data coordinator","2":"1"},{"1":"Data Coordinator","2":"1"},{"1":"Data curation","2":"1"},{"1":"Data curator","2":"1"},{"1":"Data engineer","2":"1"},{"1":"Data Engineering Manager","2":"1"},{"1":"Data Entry and Records Specialist","2":"1"},{"1":"Data Entry Associate","2":"1"},{"1":"Data entry clerk","2":"1"},{"1":"Data Finance Administrator","2":"1"},{"1":"Data Governance","2":"1"},{"1":"Data Governance Analyst","2":"1"},{"1":"Data Insights Analyst","2":"1"},{"1":"Data Integrity","2":"1"},{"1":"Data Integrity Specialist","2":"1"},{"1":"Data Lead","2":"1"},{"1":"Data librarian","2":"1"},{"1":"Data Management Officer","2":"1"},{"1":"Data Management Team Lead","2":"1"},{"1":"Data manager","2":"1"},{"1":"Data mechanic","2":"1"},{"1":"Data Migration Consultant","2":"1"},{"1":"Data Officer","2":"1"},{"1":"Data Practice Lead","2":"1"},{"1":"Data Privacy & Compliance Professional","2":"1"},{"1":"Data processing","2":"1"},{"1":"Data Product Consultant","2":"1"},{"1":"data product manager","2":"1"},{"1":"Data Programmer Analyst","2":"1"},{"1":"Data Protection Manager","2":"1"},{"1":"Data protection officer","2":"1"},{"1":"Data Quality Analyst","2":"1"},{"1":"Data Quality Lead","2":"1"},{"1":"Data quality manager","2":"1"},{"1":"Data Quality Manager","2":"1"},{"1":"data science","2":"1"},{"1":"Data Science Lecturer","2":"1"},{"1":"Data scientist /epidemiologist","2":"1"},{"1":"Data Scientist 2","2":"1"},{"1":"Data Scientist III","2":"1"},{"1":"Data services associate","2":"1"},{"1":"Data Statistician","2":"1"},{"1":"Data Strategy & Analytics Consultant","2":"1"},{"1":"Data Support","2":"1"},{"1":"Data Systems Manager","2":"1"},{"1":"data team lead","2":"1"},{"1":"Data visualization consultant","2":"1"},{"1":"Data Visualization Consultant","2":"1"},{"1":"Data visualization developer","2":"1"},{"1":"Data warehouse operations analyst","2":"1"},{"1":"Database administrator","2":"1"},{"1":"Database Administrator SQL","2":"1"},{"1":"Database Architect","2":"1"},{"1":"Database Assistant","2":"1"},{"1":"Database Associate","2":"1"},{"1":"database developer","2":"1"},{"1":"Database Developer","2":"1"},{"1":"Development and Data Specialist","2":"1"},{"1":"Development Database Associate","2":"1"},{"1":"Development Database Manager","2":"1"},{"1":"Director - Data Operations","2":"1"},{"1":"Director - Data Science","2":"1"},{"1":"Director of Data & Analytics","2":"1"},{"1":"Director of Data & Information Systems","2":"1"},{"1":"Director of Data Analytics","2":"1"},{"1":"Director of Data and Reporting","2":"1"},{"1":"Director of Data Engineering","2":"1"},{"1":"Director of Library and Database Services","2":"1"},{"1":"Director of Research and Data Analytics","2":"1"},{"1":"Director, Advanced Analytics and Statistics","2":"1"},{"1":"Director, Biostatistics","2":"1"},{"1":"Director, Data Analytics","2":"1"},{"1":"Director, Data Management","2":"1"},{"1":"Director, Data Management (non-academic)","2":"1"},{"1":"Director, Master Data","2":"1"},{"1":"District Data Manager","2":"1"},{"1":"Federal consultant (data analytics)","2":"1"},{"1":"Financial Data Specialist","2":"1"},{"1":"Further Education Funding and Data Consultant","2":"1"},{"1":"Geospatial Data Technician II","2":"1"},{"1":"Gifts and Data Coordinator","2":"1"},{"1":"GIS Data Specialist","2":"1"},{"1":"Global Data Team Leader","2":"1"},{"1":"Government Statistician","2":"1"},{"1":"HCIS Database Analyst","2":"1"},{"1":"Head data scientist","2":"1"},{"1":"Head metadata librarian","2":"1"},{"1":"Head of Data & Analytics","2":"1"},{"1":"Head of Data Science","2":"1"},{"1":"Head of Data Science & Analytics","2":"1"},{"1":"Head of Public Sector Data Sharing","2":"1"},{"1":"Healthcare Data Analyst","2":"1"},{"1":"HR Data Analyst","2":"1"},{"1":"Interim Director of Cataloging and Metadata Services","2":"1"},{"1":"IT Project Manager and Data Analyst","2":"1"},{"1":"Lead Data Engineer","2":"1"},{"1":"Lead Data Strategist","2":"1"},{"1":"Library metadata coordinator","2":"1"},{"1":"Library metadata specialist","2":"1"},{"1":"Machine learning model developer","2":"1"},{"1":"Management Analyst IV (Data Analyst)","2":"1"},{"1":"Manager of Data Engineering","2":"1"},{"1":"Manager of Data Integrity and Prospect Research","2":"1"},{"1":"Manager of Data Science","2":"1"},{"1":"Manager of Market Research and Data","2":"1"},{"1":"Manager, Gift Processing and Data Management","2":"1"},{"1":"Managing Director Data Science and Analytics","2":"1"},{"1":"Mathematical Statistician","2":"1"},{"1":"Media and Data Analyst","2":"1"},{"1":"Member Data Specialist","2":"1"},{"1":"Membership & Data Analytics Manager","2":"1"},{"1":"Metadata Management Librarian","2":"1"},{"1":"Metadata Specialist","2":"1"},{"1":"Metadata Specialist II","2":"1"},{"1":"Office specialist-database management","2":"1"},{"1":"Officer, Analyst II- System/Data Security","2":"1"},{"1":"Operations Data Analyst","2":"1"},{"1":"Payroll and Data Specialist","2":"1"},{"1":"Principal Data Science Manager","2":"1"},{"1":"principal data scientist","2":"1"},{"1":"Principal Project Data Manager","2":"1"},{"1":"Principal Statistical Programmer","2":"1"},{"1":"Product Data Analyst","2":"1"},{"1":"Product Owner: Data, Reporting, & Analytics","2":"1"},{"1":"Project Analyst or Data Manager","2":"1"},{"1":"Provider Data Analyst","2":"1"},{"1":"Provider Data Specialist III","2":"1"},{"1":"Quality data analyst","2":"1"},{"1":"Quality Improvement Data Analyst","2":"1"},{"1":"Records and Data Control Specialist","2":"1"},{"1":"Recruiter & Data Analyst","2":"1"},{"1":"Reporting & Data Analyst","2":"1"},{"1":"Research Data Analyst","2":"1"},{"1":"Research Data Coordinator","2":"1"},{"1":"Research Data Scientist","2":"1"},{"1":"Research Data Specialist","2":"1"},{"1":"Research Specialist/Data Analyst","2":"1"},{"1":"Senior Advisor, Data Science","2":"1"},{"1":"Senior Associate Data Scientist","2":"1"},{"1":"Senior biostatistician","2":"1"},{"1":"Senior Biostatistician","2":"1"},{"1":"Senior Clinical Data Analyst","2":"1"},{"1":"Senior Data & Policy Specialist","2":"1"},{"1":"Senior Data Analytics Developer","2":"1"},{"1":"Senior Data architect","2":"1"},{"1":"Senior Data Architect","2":"1"},{"1":"Senior data engineer","2":"1"},{"1":"Senior Data Planner","2":"1"},{"1":"Senior Data Quality Specialist","2":"1"},{"1":"senior data scientist","2":"1"},{"1":"Senior Data scientist","2":"1"},{"1":"Senior Data Specialist","2":"1"},{"1":"Senior Database Administrator","2":"1"},{"1":"Senior Database Analyst","2":"1"},{"1":"Senior Database Engineer","2":"1"},{"1":"Senior director data management","2":"1"},{"1":"Senior Director, Data Engineering","2":"1"},{"1":"Senior Editor, Data Visualization","2":"1"},{"1":"Senior GIS Data Analyst","2":"1"},{"1":"Senior Health Data Analyst","2":"1"},{"1":"Senior Manager, Statistics","2":"1"},{"1":"senior marketing data specialist","2":"1"},{"1":"Senior Research Data Analyst","2":"1"},{"1":"Senior statistical analytical programmwr","2":"1"},{"1":"Senior Technical Data Analyst","2":"1"},{"1":"Snr Data Engineer","2":"1"},{"1":"Software and Database Engineer","2":"1"},{"1":"Spatial Data Analyst","2":"1"},{"1":"Sr data consultant","2":"1"},{"1":"Sr Database Administrator","2":"1"},{"1":"Sr Fraud Data Analyst","2":"1"},{"1":"Sr Manager, Data","2":"1"},{"1":"Sr. Data Analyst","2":"1"},{"1":"Sr. Data Scientist","2":"1"},{"1":"Sr. Database Analyst","2":"1"},{"1":"Staff Data Scientist","2":"1"},{"1":"Statistical Analyst","2":"1"},{"1":"Statistical Analyst II","2":"1"},{"1":"Statistical Associate","2":"1"},{"1":"Statistical Officer","2":"1"},{"1":"Statistical Program Manager","2":"1"},{"1":"Statistical Programmer","2":"1"},{"1":"Statistical Programmer II","2":"1"},{"1":"Statistical Programmer/Data Analyst","2":"1"},{"1":"Statistician II","2":"1"},{"1":"Statistics Supervisor","2":"1"},{"1":"Strategic Data Manager","2":"1"},{"1":"Student data specialist","2":"1"},{"1":"Surveillance Data Manager","2":"1"},{"1":"Survey Statistician","2":"1"},{"1":"Technical consultant (data science/AI)","2":"1"},{"1":"Technical Data Analyst","2":"1"},{"1":"Technical Data Msnager","2":"1"},{"1":"Technical Lead, Data Discovery","2":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<p>I might check this out later – quite a few responses.</p>
<p>In terms of location, we have <code>country</code>, <code>state</code>, and <code>city</code>, but I’ll just be looking at just the country level for now:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>country</span>, sort <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'>rmarkdown</span><span class='fu'>::</span><span class='fu'><a href='https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html'>paged_table</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["country"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"United States","2":"9010"},{"1":"USA","2":"7918"},{"1":"US","2":"2485"},{"1":"Canada","2":"1543"},{"1":"United Kingdom","2":"584"},{"1":"UK","2":"579"},{"1":"U.S.","2":"569"},{"1":"United States of America","2":"425"},{"1":"Usa","2":"420"},{"1":"Australia","2":"368"},{"1":"United states","2":"201"},{"1":"Germany","2":"179"},{"1":"usa","2":"170"},{"1":"England","2":"157"},{"1":"Ireland","2":"117"},{"1":"united states","2":"104"},{"1":"Us","2":"102"},{"1":"New Zealand","2":"100"},{"1":"Uk","2":"87"},{"1":"France","2":"56"},{"1":"Netherlands","2":"47"},{"1":"Scotland","2":"44"},{"1":"Spain","2":"42"},{"1":"U.S.A.","2":"41"},{"1":"Sweden","2":"38"},{"1":"Switzerland","2":"35"},{"1":"Belgium","2":"32"},{"1":"us","2":"32"},{"1":"Japan","2":"27"},{"1":"The Netherlands","2":"24"},{"1":"canada","2":"23"},{"1":"America","2":"20"},{"1":"U.S","2":"19"},{"1":"Denmark","2":"18"},{"1":"United State","2":"17"},{"1":"Finland","2":"15"},{"1":"South Africa","2":"15"},{"1":"Israel","2":"14"},{"1":"Unites States","2":"14"},{"1":"Austria","2":"13"},{"1":"India","2":"13"},{"1":"Italy","2":"13"},{"1":"Malaysia","2":"13"},{"1":"Norway","2":"13"},{"1":"United kingdom","2":"12"},{"1":"Brazil","2":"11"},{"1":"Singapore","2":"11"},{"1":"U.K.","2":"11"},{"1":"United Stated","2":"9"},{"1":"Philippines","2":"8"},{"1":"U.S.A","2":"8"},{"1":"China","2":"7"},{"1":"Mexico","2":"7"},{"1":"U. S.","2":"7"},{"1":"UNITED STATES","2":"7"},{"1":"United States of america","2":"7"},{"1":"Poland","2":"6"},{"1":"The United States","2":"6"},{"1":"CANADA","2":"5"},{"1":"Great Britain","2":"5"},{"1":"Greece","2":"5"},{"1":"NZ","2":"5"},{"1":"Portugal","2":"5"},{"1":"South Korea","2":"5"},{"1":"United Sates","2":"5"},{"1":"Argentina","2":"4"},{"1":"England, UK","2":"4"},{"1":"Hong Kong","2":"4"},{"1":"New zealand","2":"4"},{"1":"Puerto Rico","2":"4"},{"1":"uk","2":"4"},{"1":"united kingdom","2":"4"},{"1":"united States","2":"4"},{"1":"United states of America","2":"4"},{"1":"United States Of America","2":"4"},{"1":"UnitedStates","2":"4"},{"1":"Wales","2":"4"},{"1":"<U+0001F1FA><U+0001F1F8>","2":"3"},{"1":"australia","2":"3"},{"1":"Czech Republic","2":"3"},{"1":"denmark","2":"3"},{"1":"England, United Kingdom","2":"3"},{"1":"ireland","2":"3"},{"1":"Latvia","2":"3"},{"1":"netherlands","2":"3"},{"1":"Northern Ireland","2":"3"},{"1":"Romania","2":"3"},{"1":"Taiwan","2":"3"},{"1":"U.s.","2":"3"},{"1":"United Stares","2":"3"},{"1":"United Statea","2":"3"},{"1":"Bangladesh","2":"2"},{"1":"Bermuda","2":"2"},{"1":"Bulgaria","2":"2"},{"1":"Canda","2":"2"},{"1":"england","2":"2"},{"1":"Estonia","2":"2"},{"1":"germany","2":"2"},{"1":"Ghana","2":"2"},{"1":"Hungary","2":"2"},{"1":"I.S.","2":"2"},{"1":"Indonesia","2":"2"},{"1":"ISA","2":"2"},{"1":"Kenya","2":"2"},{"1":"Lithuania","2":"2"},{"1":"Luxembourg","2":"2"},{"1":"Pakistan","2":"2"},{"1":"Remote","2":"2"},{"1":"Scotland, UK","2":"2"},{"1":"South africa","2":"2"},{"1":"spain","2":"2"},{"1":"Thailand","2":"2"},{"1":"The US","2":"2"},{"1":"u.s.","2":"2"},{"1":"UK (England)","2":"2"},{"1":"Unite States","2":"2"},{"1":"United Kingdom (England)","2":"2"},{"1":"United Sates of America","2":"2"},{"1":"United State of America","2":"2"},{"1":"Unites states","2":"2"},{"1":"USA tomorrow","2":"2"},{"1":"Vietnam","2":"2"},{"1":"$2,175.84/year is deducted for benefits","2":"1"},{"1":"Afghanistan","2":"1"},{"1":"Africa","2":"1"},{"1":"america","2":"1"},{"1":"ARGENTINA BUT MY ORG IS IN THAILAND","2":"1"},{"1":"Australi","2":"1"},{"1":"Australian","2":"1"},{"1":"Austria, but I work remotely for a Dutch/British company","2":"1"},{"1":"bonus based on meeting yearly goals set w/ my supervisor","2":"1"},{"1":"Brasil","2":"1"},{"1":"Britain","2":"1"},{"1":"California","2":"1"},{"1":"Cambodia","2":"1"},{"1":"Can","2":"1"},{"1":"Canad","2":"1"},{"1":"Canada and USA","2":"1"},{"1":"Canada, Ottawa, ontario","2":"1"},{"1":"Canadw","2":"1"},{"1":"Catalonia","2":"1"},{"1":"Cayman Islands","2":"1"},{"1":"Chile","2":"1"},{"1":"Colombia","2":"1"},{"1":"Congo","2":"1"},{"1":"Contracts","2":"1"},{"1":"Costa Rica","2":"1"},{"1":"Cote d'Ivoire","2":"1"},{"1":"Croatia","2":"1"},{"1":"Csnada","2":"1"},{"1":"Cuba","2":"1"},{"1":"Currently finance","2":"1"},{"1":"czech republic","2":"1"},{"1":"Czech republic","2":"1"},{"1":"Czechia","2":"1"},{"1":"Danmark","2":"1"},{"1":"Ecuador","2":"1"},{"1":"England, Gb","2":"1"},{"1":"England, UK.","2":"1"},{"1":"England/UK","2":"1"},{"1":"Englang","2":"1"},{"1":"Eritrea","2":"1"},{"1":"europe","2":"1"},{"1":"finland","2":"1"},{"1":"For the United States government, but posted overseas","2":"1"},{"1":"france","2":"1"},{"1":"FRANCE","2":"1"},{"1":"From New Zealand but on projects across APAC","2":"1"},{"1":"From Romania, but for an US based company","2":"1"},{"1":"Global","2":"1"},{"1":"Hartford","2":"1"},{"1":"I am located in Canada but I work for a company in the US","2":"1"},{"1":"I earn commission on sales. If I meet quota, I'm guaranteed another 16k min. Last year i earned an additional 27k. It's not uncommon for people in my space to earn 100k+ after commission.","2":"1"},{"1":"I was brought in on this salary to help with the EHR and very quickly was promoted to current position but compensation was not altered.","2":"1"},{"1":"I work for a UAE-based organization, though I am personally in the US.","2":"1"},{"1":"I work for an US based company but I'm from Argentina.","2":"1"},{"1":"International","2":"1"},{"1":"IS","2":"1"},{"1":"Isle of Man","2":"1"},{"1":"Italy (South)","2":"1"},{"1":"Jamaica","2":"1"},{"1":"japan","2":"1"},{"1":"Japan, US Gov position","2":"1"},{"1":"Jersey, Channel islands","2":"1"},{"1":"Jordan","2":"1"},{"1":"Kuwait","2":"1"},{"1":"Luxemburg","2":"1"},{"1":"Mainland China","2":"1"},{"1":"Malta","2":"1"},{"1":"México","2":"1"},{"1":"Morocco","2":"1"},{"1":"n/a (remote from wherever I want)","2":"1"},{"1":"Nederland","2":"1"},{"1":"new zealand","2":"1"},{"1":"New Zealand Aotearoa","2":"1"},{"1":"Nigeria","2":"1"},{"1":"NL","2":"1"},{"1":"Northern Ireland, United Kingdom","2":"1"},{"1":"Panamá","2":"1"},{"1":"Qatar","2":"1"},{"1":"Remote (philippines)","2":"1"},{"1":"Russia","2":"1"},{"1":"Rwanda","2":"1"},{"1":"San Francisco","2":"1"},{"1":"Saudi Arabia","2":"1"},{"1":"Serbia","2":"1"},{"1":"Sierra Leone","2":"1"},{"1":"singapore","2":"1"},{"1":"Slovakia","2":"1"},{"1":"Slovenia","2":"1"},{"1":"Somalia","2":"1"},{"1":"Sri lanka","2":"1"},{"1":"Sri Lanka","2":"1"},{"1":"switzerland","2":"1"},{"1":"SWITZERLAND","2":"1"},{"1":"The Bahamas","2":"1"},{"1":"the netherlands","2":"1"},{"1":"the Netherlands","2":"1"},{"1":"The netherlands","2":"1"},{"1":"Trinidad and Tobago","2":"1"},{"1":"Turkey","2":"1"},{"1":"U. S","2":"1"},{"1":"U.A.","2":"1"},{"1":"U.K","2":"1"},{"1":"U.K. (northern England)","2":"1"},{"1":"U.s.a.","2":"1"},{"1":"U.S>","2":"1"},{"1":"U.SA","2":"1"},{"1":"UA","2":"1"},{"1":"UAE","2":"1"},{"1":"Uganda","2":"1"},{"1":"UK (Northern Ireland)","2":"1"},{"1":"UK for U.S. company","2":"1"},{"1":"UK, but for globally fully remote company","2":"1"},{"1":"UK, remote","2":"1"},{"1":"Ukraine","2":"1"},{"1":"Uniited States","2":"1"},{"1":"United  States","2":"1"},{"1":"United Arab Emirates","2":"1"},{"1":"United Kindom","2":"1"},{"1":"United Kingdom.","2":"1"},{"1":"United Kingdomk","2":"1"},{"1":"united stated","2":"1"},{"1":"United Stateds","2":"1"},{"1":"United Statees","2":"1"},{"1":"United STates","2":"1"},{"1":"UNited States","2":"1"},{"1":"United States- Puerto Rico","2":"1"},{"1":"United States (I work from home and my clients are all over the US/Canada/PR","2":"1"},{"1":"united states of america","2":"1"},{"1":"United states of america","2":"1"},{"1":"United States of American","2":"1"},{"1":"United States of Americas","2":"1"},{"1":"United Statesp","2":"1"},{"1":"United statew","2":"1"},{"1":"United Statss","2":"1"},{"1":"United Stattes","2":"1"},{"1":"United Statues","2":"1"},{"1":"United Status","2":"1"},{"1":"United Statws","2":"1"},{"1":"United Sttes","2":"1"},{"1":"United y","2":"1"},{"1":"Uniteed States","2":"1"},{"1":"Unitef Stated","2":"1"},{"1":"Uniter Statez","2":"1"},{"1":"Unites kingdom","2":"1"},{"1":"Unitied States","2":"1"},{"1":"Uniyed states","2":"1"},{"1":"Uniyes States","2":"1"},{"1":"Unted States","2":"1"},{"1":"Untied States","2":"1"},{"1":"Uruguay","2":"1"},{"1":"uS","2":"1"},{"1":"US govt employee overseas, country withheld","2":"1"},{"1":"US of A","2":"1"},{"1":"uSA","2":"1"},{"1":"UsA","2":"1"},{"1":"USA-- Virgin Islands","2":"1"},{"1":"USA (company is based in a US territory, I work remote)","2":"1"},{"1":"USA, but for foreign gov't","2":"1"},{"1":"USaa","2":"1"},{"1":"USAB","2":"1"},{"1":"Usat","2":"1"},{"1":"USD","2":"1"},{"1":"USS","2":"1"},{"1":"UXZ","2":"1"},{"1":"Virginia","2":"1"},{"1":"Wales (UK)","2":"1"},{"1":"Wales (United Kingdom)","2":"1"},{"1":"Wales, UK","2":"1"},{"1":"We don't get raises, we get quarterly bonuses, but they periodically asses income in the area you work, so I got a raise because a 3rd party assessment showed I was paid too little for the area we were located","2":"1"},{"1":"Worldwide (based in US but short term trips aroudn the world)","2":"1"},{"1":"Y","2":"1"},{"1":"Zimbabwe","2":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<p>This is in need of some data cleaning obviously– a lot of variations on “United States”, for example. I’ll also consolidate England, Scotland, Northern Ireland and Wales into the UK.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'>&lt;-</span> <span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>
    country_clean <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_remove.html'>str_remove_all</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/chartr.html'>tolower</a></span><span class='op'>(</span><span class='va'>country</span><span class='op'>)</span>, <span class='st'>"\\."</span><span class='op'>)</span>,
    country_clean <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span>
      <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>country_clean</span>,
                 <span class='st'>"states|^us|america|d state|^u s|sates"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"USA"</span>,
      <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>country_clean</span>,
                 <span class='st'>"kingdom|^uk|england|scotland|wales|northern i|britain"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"UK"</span>,
      <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>country_clean</span>,
                 <span class='st'>"canada|canda|canadw|csnada"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"Canada"</span>,
      <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>country_clean</span>, <span class='st'>"austral"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"Australia"</span>,
      <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>country_clean</span>, <span class='st'>"brazil|brasil"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"Brazil"</span>,
      <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>country_clean</span>, <span class='st'>"zealand|nz"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"New Zealand"</span>,
      <span class='co'># If less than three letters, put in all caps</span>
      <span class='fu'><a href='https://rdrr.io/r/base/nchar.html'>nchar</a></span><span class='op'>(</span><span class='va'>country_clean</span><span class='op'>)</span> <span class='op'>&lt;=</span> <span class='fl'>3</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/chartr.html'>toupper</a></span><span class='op'>(</span><span class='va'>country_clean</span><span class='op'>)</span>,
      <span class='co'># Otherwise, title case</span>
      <span class='cn'>TRUE</span> <span class='op'>~</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/case.html'>str_to_title</a></span><span class='op'>(</span><span class='va'>country_clean</span><span class='op'>)</span>
    <span class='op'>)</span>
  <span class='op'>)</span>
<span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>country</span>, <span class='va'>country_clean</span>, sort <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'>rmarkdown</span><span class='fu'>::</span><span class='fu'><a href='https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html'>paged_table</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["country"],"name":[1],"type":["chr"],"align":["left"]},{"label":["country_clean"],"name":[2],"type":["chr"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"United States","2":"USA","3":"9010"},{"1":"USA","2":"USA","3":"7918"},{"1":"US","2":"USA","3":"2485"},{"1":"Canada","2":"Canada","3":"1543"},{"1":"United Kingdom","2":"UK","3":"584"},{"1":"UK","2":"UK","3":"579"},{"1":"U.S.","2":"USA","3":"569"},{"1":"United States of America","2":"USA","3":"425"},{"1":"Usa","2":"USA","3":"420"},{"1":"Australia","2":"Australia","3":"368"},{"1":"United states","2":"USA","3":"201"},{"1":"Germany","2":"Germany","3":"179"},{"1":"usa","2":"USA","3":"170"},{"1":"England","2":"UK","3":"157"},{"1":"Ireland","2":"Ireland","3":"117"},{"1":"united states","2":"USA","3":"104"},{"1":"Us","2":"USA","3":"102"},{"1":"New Zealand","2":"New Zealand","3":"100"},{"1":"Uk","2":"UK","3":"87"},{"1":"France","2":"France","3":"56"},{"1":"Netherlands","2":"Netherlands","3":"47"},{"1":"Scotland","2":"UK","3":"44"},{"1":"Spain","2":"Spain","3":"42"},{"1":"U.S.A.","2":"USA","3":"41"},{"1":"Sweden","2":"Sweden","3":"38"},{"1":"Switzerland","2":"Switzerland","3":"35"},{"1":"Belgium","2":"Belgium","3":"32"},{"1":"us","2":"USA","3":"32"},{"1":"Japan","2":"Japan","3":"27"},{"1":"The Netherlands","2":"The Netherlands","3":"24"},{"1":"canada","2":"Canada","3":"23"},{"1":"America","2":"USA","3":"20"},{"1":"U.S","2":"USA","3":"19"},{"1":"Denmark","2":"Denmark","3":"18"},{"1":"United State","2":"USA","3":"17"},{"1":"Finland","2":"Finland","3":"15"},{"1":"South Africa","2":"South Africa","3":"15"},{"1":"Israel","2":"Israel","3":"14"},{"1":"Unites States","2":"USA","3":"14"},{"1":"Austria","2":"Austria","3":"13"},{"1":"India","2":"India","3":"13"},{"1":"Italy","2":"Italy","3":"13"},{"1":"Malaysia","2":"Malaysia","3":"13"},{"1":"Norway","2":"Norway","3":"13"},{"1":"United kingdom","2":"UK","3":"12"},{"1":"Brazil","2":"Brazil","3":"11"},{"1":"Singapore","2":"Singapore","3":"11"},{"1":"U.K.","2":"UK","3":"11"},{"1":"United Stated","2":"USA","3":"9"},{"1":"Philippines","2":"Philippines","3":"8"},{"1":"U.S.A","2":"USA","3":"8"},{"1":"China","2":"China","3":"7"},{"1":"Mexico","2":"Mexico","3":"7"},{"1":"U. S.","2":"USA","3":"7"},{"1":"UNITED STATES","2":"USA","3":"7"},{"1":"United States of america","2":"USA","3":"7"},{"1":"Poland","2":"Poland","3":"6"},{"1":"The United States","2":"USA","3":"6"},{"1":"CANADA","2":"Canada","3":"5"},{"1":"Great Britain","2":"UK","3":"5"},{"1":"Greece","2":"Greece","3":"5"},{"1":"NZ","2":"New Zealand","3":"5"},{"1":"Portugal","2":"Portugal","3":"5"},{"1":"South Korea","2":"South Korea","3":"5"},{"1":"United Sates","2":"USA","3":"5"},{"1":"Argentina","2":"Argentina","3":"4"},{"1":"England, UK","2":"UK","3":"4"},{"1":"Hong Kong","2":"Hong Kong","3":"4"},{"1":"New zealand","2":"New Zealand","3":"4"},{"1":"Puerto Rico","2":"Puerto Rico","3":"4"},{"1":"uk","2":"UK","3":"4"},{"1":"united kingdom","2":"UK","3":"4"},{"1":"united States","2":"USA","3":"4"},{"1":"United states of America","2":"USA","3":"4"},{"1":"United States Of America","2":"USA","3":"4"},{"1":"UnitedStates","2":"USA","3":"4"},{"1":"Wales","2":"UK","3":"4"},{"1":"<U+0001F1FA><U+0001F1F8>","2":"<U+0001F1FA><U+0001F1F8>","3":"3"},{"1":"australia","2":"Australia","3":"3"},{"1":"Czech Republic","2":"Czech Republic","3":"3"},{"1":"denmark","2":"Denmark","3":"3"},{"1":"England, United Kingdom","2":"UK","3":"3"},{"1":"ireland","2":"Ireland","3":"3"},{"1":"Latvia","2":"Latvia","3":"3"},{"1":"netherlands","2":"Netherlands","3":"3"},{"1":"Northern Ireland","2":"UK","3":"3"},{"1":"Romania","2":"Romania","3":"3"},{"1":"Taiwan","2":"Taiwan","3":"3"},{"1":"U.s.","2":"USA","3":"3"},{"1":"United Stares","2":"United Stares","3":"3"},{"1":"United Statea","2":"USA","3":"3"},{"1":"Bangladesh","2":"Bangladesh","3":"2"},{"1":"Bermuda","2":"Bermuda","3":"2"},{"1":"Bulgaria","2":"Bulgaria","3":"2"},{"1":"Canda","2":"Canada","3":"2"},{"1":"england","2":"UK","3":"2"},{"1":"Estonia","2":"Estonia","3":"2"},{"1":"germany","2":"Germany","3":"2"},{"1":"Ghana","2":"Ghana","3":"2"},{"1":"Hungary","2":"Hungary","3":"2"},{"1":"I.S.","2":"IS","3":"2"},{"1":"Indonesia","2":"Indonesia","3":"2"},{"1":"ISA","2":"ISA","3":"2"},{"1":"Kenya","2":"Kenya","3":"2"},{"1":"Lithuania","2":"Lithuania","3":"2"},{"1":"Luxembourg","2":"Luxembourg","3":"2"},{"1":"Pakistan","2":"Pakistan","3":"2"},{"1":"Remote","2":"Remote","3":"2"},{"1":"Scotland, UK","2":"UK","3":"2"},{"1":"South africa","2":"South Africa","3":"2"},{"1":"spain","2":"Spain","3":"2"},{"1":"Thailand","2":"Thailand","3":"2"},{"1":"The US","2":"The Us","3":"2"},{"1":"u.s.","2":"USA","3":"2"},{"1":"UK (England)","2":"UK","3":"2"},{"1":"Unite States","2":"USA","3":"2"},{"1":"United Kingdom (England)","2":"UK","3":"2"},{"1":"United Sates of America","2":"USA","3":"2"},{"1":"United State of America","2":"USA","3":"2"},{"1":"Unites states","2":"USA","3":"2"},{"1":"USA tomorrow","2":"USA","3":"2"},{"1":"Vietnam","2":"Vietnam","3":"2"},{"1":"$2,175.84/year is deducted for benefits","2":"$2,17584/Year Is Deducted For Benefits","3":"1"},{"1":"Afghanistan","2":"Afghanistan","3":"1"},{"1":"Africa","2":"Africa","3":"1"},{"1":"america","2":"USA","3":"1"},{"1":"ARGENTINA BUT MY ORG IS IN THAILAND","2":"Argentina But My Org Is In Thailand","3":"1"},{"1":"Australi","2":"Australia","3":"1"},{"1":"Australian","2":"Australia","3":"1"},{"1":"Austria, but I work remotely for a Dutch/British company","2":"Austria, But I Work Remotely For A Dutch/British Company","3":"1"},{"1":"bonus based on meeting yearly goals set w/ my supervisor","2":"Bonus Based On Meeting Yearly Goals Set W/ My Supervisor","3":"1"},{"1":"Brasil","2":"Brazil","3":"1"},{"1":"Britain","2":"UK","3":"1"},{"1":"California","2":"California","3":"1"},{"1":"Cambodia","2":"Cambodia","3":"1"},{"1":"Can","2":"CAN","3":"1"},{"1":"Canad","2":"Canad","3":"1"},{"1":"Canada and USA","2":"Canada","3":"1"},{"1":"Canada, Ottawa, ontario","2":"Canada","3":"1"},{"1":"Canadw","2":"Canada","3":"1"},{"1":"Catalonia","2":"Catalonia","3":"1"},{"1":"Cayman Islands","2":"Cayman Islands","3":"1"},{"1":"Chile","2":"Chile","3":"1"},{"1":"Colombia","2":"Colombia","3":"1"},{"1":"Congo","2":"Congo","3":"1"},{"1":"Contracts","2":"Contracts","3":"1"},{"1":"Costa Rica","2":"Costa Rica","3":"1"},{"1":"Cote d'Ivoire","2":"Cote D'ivoire","3":"1"},{"1":"Croatia","2":"Croatia","3":"1"},{"1":"Csnada","2":"Canada","3":"1"},{"1":"Cuba","2":"Cuba","3":"1"},{"1":"Currently finance","2":"Currently Finance","3":"1"},{"1":"czech republic","2":"Czech Republic","3":"1"},{"1":"Czech republic","2":"Czech Republic","3":"1"},{"1":"Czechia","2":"Czechia","3":"1"},{"1":"Danmark","2":"Danmark","3":"1"},{"1":"Ecuador","2":"Ecuador","3":"1"},{"1":"England, Gb","2":"UK","3":"1"},{"1":"England, UK.","2":"UK","3":"1"},{"1":"England/UK","2":"UK","3":"1"},{"1":"Englang","2":"Englang","3":"1"},{"1":"Eritrea","2":"Eritrea","3":"1"},{"1":"europe","2":"Europe","3":"1"},{"1":"finland","2":"Finland","3":"1"},{"1":"For the United States government, but posted overseas","2":"USA","3":"1"},{"1":"france","2":"France","3":"1"},{"1":"FRANCE","2":"France","3":"1"},{"1":"From New Zealand but on projects across APAC","2":"New Zealand","3":"1"},{"1":"From Romania, but for an US based company","2":"From Romania, But For An Us Based Company","3":"1"},{"1":"Global","2":"Global","3":"1"},{"1":"Hartford","2":"Hartford","3":"1"},{"1":"I am located in Canada but I work for a company in the US","2":"Canada","3":"1"},{"1":"I earn commission on sales. If I meet quota, I'm guaranteed another 16k min. Last year i earned an additional 27k. It's not uncommon for people in my space to earn 100k+ after commission.","2":"I Earn Commission On Sales If I Meet Quota, I'm Guaranteed Another 16k Min Last Year I Earned An Additional 27k It's Not Uncommon For People In My Space To Earn 100k+ After Commission","3":"1"},{"1":"I was brought in on this salary to help with the EHR and very quickly was promoted to current position but compensation was not altered.","2":"I Was Brought In On This Salary To Help With The Ehr And Very Quickly Was Promoted To Current Position But Compensation Was Not Altered","3":"1"},{"1":"I work for a UAE-based organization, though I am personally in the US.","2":"I Work For A Uae-Based Organization, Though I Am Personally In The Us","3":"1"},{"1":"I work for an US based company but I'm from Argentina.","2":"I Work For An Us Based Company But I'm From Argentina","3":"1"},{"1":"International","2":"International","3":"1"},{"1":"IS","2":"IS","3":"1"},{"1":"Isle of Man","2":"Isle Of Man","3":"1"},{"1":"Italy (South)","2":"Italy (South)","3":"1"},{"1":"Jamaica","2":"Jamaica","3":"1"},{"1":"japan","2":"Japan","3":"1"},{"1":"Japan, US Gov position","2":"Japan, Us Gov Position","3":"1"},{"1":"Jersey, Channel islands","2":"Jersey, Channel Islands","3":"1"},{"1":"Jordan","2":"Jordan","3":"1"},{"1":"Kuwait","2":"Kuwait","3":"1"},{"1":"Luxemburg","2":"Luxemburg","3":"1"},{"1":"Mainland China","2":"Mainland China","3":"1"},{"1":"Malta","2":"Malta","3":"1"},{"1":"México","2":"México","3":"1"},{"1":"Morocco","2":"Morocco","3":"1"},{"1":"n/a (remote from wherever I want)","2":"N/A (Remote From Wherever I Want)","3":"1"},{"1":"Nederland","2":"Nederland","3":"1"},{"1":"new zealand","2":"New Zealand","3":"1"},{"1":"New Zealand Aotearoa","2":"New Zealand","3":"1"},{"1":"Nigeria","2":"Nigeria","3":"1"},{"1":"NL","2":"NL","3":"1"},{"1":"Northern Ireland, United Kingdom","2":"UK","3":"1"},{"1":"Panamá","2":"Panamá","3":"1"},{"1":"Qatar","2":"Qatar","3":"1"},{"1":"Remote (philippines)","2":"Remote (Philippines)","3":"1"},{"1":"Russia","2":"Russia","3":"1"},{"1":"Rwanda","2":"Rwanda","3":"1"},{"1":"San Francisco","2":"San Francisco","3":"1"},{"1":"Saudi Arabia","2":"Saudi Arabia","3":"1"},{"1":"Serbia","2":"Serbia","3":"1"},{"1":"Sierra Leone","2":"Sierra Leone","3":"1"},{"1":"singapore","2":"Singapore","3":"1"},{"1":"Slovakia","2":"Slovakia","3":"1"},{"1":"Slovenia","2":"Slovenia","3":"1"},{"1":"Somalia","2":"Somalia","3":"1"},{"1":"Sri lanka","2":"Sri Lanka","3":"1"},{"1":"Sri Lanka","2":"Sri Lanka","3":"1"},{"1":"switzerland","2":"Switzerland","3":"1"},{"1":"SWITZERLAND","2":"Switzerland","3":"1"},{"1":"The Bahamas","2":"The Bahamas","3":"1"},{"1":"the netherlands","2":"The Netherlands","3":"1"},{"1":"the Netherlands","2":"The Netherlands","3":"1"},{"1":"The netherlands","2":"The Netherlands","3":"1"},{"1":"Trinidad and Tobago","2":"Trinidad And Tobago","3":"1"},{"1":"Turkey","2":"Turkey","3":"1"},{"1":"U. S","2":"USA","3":"1"},{"1":"U.A.","2":"UA","3":"1"},{"1":"U.K","2":"UK","3":"1"},{"1":"U.K. (northern England)","2":"UK","3":"1"},{"1":"U.s.a.","2":"USA","3":"1"},{"1":"U.S>","2":"USA","3":"1"},{"1":"U.SA","2":"USA","3":"1"},{"1":"UA","2":"UA","3":"1"},{"1":"UAE","2":"UAE","3":"1"},{"1":"Uganda","2":"Uganda","3":"1"},{"1":"UK (Northern Ireland)","2":"UK","3":"1"},{"1":"UK for U.S. company","2":"UK","3":"1"},{"1":"UK, but for globally fully remote company","2":"UK","3":"1"},{"1":"UK, remote","2":"UK","3":"1"},{"1":"Ukraine","2":"UK","3":"1"},{"1":"Uniited States","2":"USA","3":"1"},{"1":"United  States","2":"USA","3":"1"},{"1":"United Arab Emirates","2":"United Arab Emirates","3":"1"},{"1":"United Kindom","2":"United Kindom","3":"1"},{"1":"United Kingdom.","2":"UK","3":"1"},{"1":"United Kingdomk","2":"UK","3":"1"},{"1":"united stated","2":"USA","3":"1"},{"1":"United Stateds","2":"USA","3":"1"},{"1":"United Statees","2":"USA","3":"1"},{"1":"United STates","2":"USA","3":"1"},{"1":"UNited States","2":"USA","3":"1"},{"1":"United States- Puerto Rico","2":"USA","3":"1"},{"1":"United States (I work from home and my clients are all over the US/Canada/PR","2":"USA","3":"1"},{"1":"united states of america","2":"USA","3":"1"},{"1":"United states of america","2":"USA","3":"1"},{"1":"United States of American","2":"USA","3":"1"},{"1":"United States of Americas","2":"USA","3":"1"},{"1":"United Statesp","2":"USA","3":"1"},{"1":"United statew","2":"USA","3":"1"},{"1":"United Statss","2":"United Statss","3":"1"},{"1":"United Stattes","2":"United Stattes","3":"1"},{"1":"United Statues","2":"United Statues","3":"1"},{"1":"United Status","2":"United Status","3":"1"},{"1":"United Statws","2":"United Statws","3":"1"},{"1":"United Sttes","2":"United Sttes","3":"1"},{"1":"United y","2":"United Y","3":"1"},{"1":"Uniteed States","2":"USA","3":"1"},{"1":"Unitef Stated","2":"Unitef Stated","3":"1"},{"1":"Uniter Statez","2":"Uniter Statez","3":"1"},{"1":"Unites kingdom","2":"UK","3":"1"},{"1":"Unitied States","2":"USA","3":"1"},{"1":"Uniyed states","2":"USA","3":"1"},{"1":"Uniyes States","2":"USA","3":"1"},{"1":"Unted States","2":"USA","3":"1"},{"1":"Untied States","2":"USA","3":"1"},{"1":"Uruguay","2":"Uruguay","3":"1"},{"1":"uS","2":"USA","3":"1"},{"1":"US govt employee overseas, country withheld","2":"USA","3":"1"},{"1":"US of A","2":"USA","3":"1"},{"1":"uSA","2":"USA","3":"1"},{"1":"UsA","2":"USA","3":"1"},{"1":"USA-- Virgin Islands","2":"USA","3":"1"},{"1":"USA (company is based in a US territory, I work remote)","2":"USA","3":"1"},{"1":"USA, but for foreign gov't","2":"USA","3":"1"},{"1":"USaa","2":"USA","3":"1"},{"1":"USAB","2":"USA","3":"1"},{"1":"Usat","2":"USA","3":"1"},{"1":"USD","2":"USA","3":"1"},{"1":"USS","2":"USA","3":"1"},{"1":"UXZ","2":"UXZ","3":"1"},{"1":"Virginia","2":"Virginia","3":"1"},{"1":"Wales (UK)","2":"UK","3":"1"},{"1":"Wales (United Kingdom)","2":"UK","3":"1"},{"1":"Wales, UK","2":"UK","3":"1"},{"1":"We don't get raises, we get quarterly bonuses, but they periodically asses income in the area you work, so I got a raise because a 3rd party assessment showed I was paid too little for the area we were located","2":"We Don't Get Raises, We Get Quarterly Bonuses, But They Periodically Asses Income In The Area You Work, So I Got A Raise Because A 3rd Party Assessment Showed I Was Paid Too Little For The Area We Were Located","3":"1"},{"1":"Worldwide (based in US but short term trips aroudn the world)","2":"Worldwide (Based In Us But Short Term Trips Aroudn The World)","3":"1"},{"1":"Y","2":"Y","3":"1"},{"1":"Zimbabwe","2":"Zimbabwe","3":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<p>I think that did a pretty reasonable job of consolidating spellings/misspellings of the most common countries. Visualize the counts, lumping any countries with &lt;20 responses into “Other”:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>
    country_fact <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_inorder.html'>fct_infreq</a></span><span class='op'>(</span><span class='va'>country_clean</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
      <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_lump.html'>fct_lump_min</a></span><span class='op'>(</span>min <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span>
  <span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>country_fact</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>td_colors</span><span class='op'>$</span><span class='va'>nice</span><span class='op'>$</span><span class='va'>strong_red</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-14-1.png" width="624" /></p>
</div>
<p>Unsurprisingly for a mostly US-based blog, a large majority of respondents are based in America.</p>
<p>Thankfully, the <code>currency</code> option was a dropdown selection in the survey, so less data cleaning will be needed:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>currency</span>, sort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://gt.rstudio.com/reference/gt.html'>gt</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<div id="ylibuwncpo" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#ylibuwncpo .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ylibuwncpo .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ylibuwncpo .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ylibuwncpo .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ylibuwncpo .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ylibuwncpo .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ylibuwncpo .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ylibuwncpo .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ylibuwncpo .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ylibuwncpo .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ylibuwncpo .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ylibuwncpo .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#ylibuwncpo .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ylibuwncpo .gt_from_md > :first-child {
  margin-top: 0;
}

#ylibuwncpo .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ylibuwncpo .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ylibuwncpo .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#ylibuwncpo .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ylibuwncpo .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#ylibuwncpo .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ylibuwncpo .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ylibuwncpo .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ylibuwncpo .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ylibuwncpo .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ylibuwncpo .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#ylibuwncpo .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ylibuwncpo .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#ylibuwncpo .gt_left {
  text-align: left;
}

#ylibuwncpo .gt_center {
  text-align: center;
}

#ylibuwncpo .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ylibuwncpo .gt_font_normal {
  font-weight: normal;
}

#ylibuwncpo .gt_font_bold {
  font-weight: bold;
}

#ylibuwncpo .gt_font_italic {
  font-style: italic;
}

#ylibuwncpo .gt_super {
  font-size: 65%;
}

#ylibuwncpo .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 65%;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">currency</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">n</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">USD</td>
<td class="gt_row gt_right">21852</td></tr>
    <tr><td class="gt_row gt_left">CAD</td>
<td class="gt_row gt_right">1564</td></tr>
    <tr><td class="gt_row gt_left">GBP</td>
<td class="gt_row gt_right">1521</td></tr>
    <tr><td class="gt_row gt_left">EUR</td>
<td class="gt_row gt_right">585</td></tr>
    <tr><td class="gt_row gt_left">AUD/NZD</td>
<td class="gt_row gt_right">469</td></tr>
    <tr><td class="gt_row gt_left">Other</td>
<td class="gt_row gt_right">133</td></tr>
    <tr><td class="gt_row gt_left">CHF</td>
<td class="gt_row gt_right">35</td></tr>
    <tr><td class="gt_row gt_left">SEK</td>
<td class="gt_row gt_right">34</td></tr>
    <tr><td class="gt_row gt_left">JPY</td>
<td class="gt_row gt_right">22</td></tr>
    <tr><td class="gt_row gt_left">ZAR</td>
<td class="gt_row gt_right">13</td></tr>
    <tr><td class="gt_row gt_left">HKD</td>
<td class="gt_row gt_right">4</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
<p>Check out the other currency:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>currency</span> <span class='op'>==</span> <span class='st'>"Other"</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>currency_other</span>, sort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'>rmarkdown</span><span class='fu'>::</span><span class='fu'><a href='https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html'>paged_table</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["currency_other"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"DKK","2":"8"},{"1":"MYR","2":"8"},{"1":"USD","2":"8"},{"1":"NOK","2":"7"},{"1":"BRL","2":"6"},{"1":"INR","2":"6"},{"1":"SGD","2":"6"},{"1":"CZK","2":"4"},{"1":"NA","2":"4"},{"1":"AUD","2":"2"},{"1":"CNY","2":"2"},{"1":"Dkk","2":"2"},{"1":"GBP","2":"2"},{"1":"IDR","2":"2"},{"1":"ILS","2":"2"},{"1":"KRW","2":"2"},{"1":"MXN","2":"2"},{"1":"NTD","2":"2"},{"1":"NZD","2":"2"},{"1":"PLN","2":"2"},{"1":"American Dollars","2":"1"},{"1":"Argentine Peso","2":"1"},{"1":"Argentinian peso (ARS)","2":"1"},{"1":"ARS","2":"1"},{"1":"AUD Australian","2":"1"},{"1":"Australian Dollars","2":"1"},{"1":"Bdt","2":"1"},{"1":"BR$","2":"1"},{"1":"BRL (R$)","2":"1"},{"1":"CAD","2":"1"},{"1":"CHF","2":"1"},{"1":"China RMB","2":"1"},{"1":"czech crowns","2":"1"},{"1":"Czk","2":"1"},{"1":"Danish Kroner","2":"1"},{"1":"dkk","2":"1"},{"1":"Equity","2":"1"},{"1":"EUR","2":"1"},{"1":"Euro","2":"1"},{"1":"Ils","2":"1"},{"1":"ILS (Shekel)","2":"1"},{"1":"ILS/NIS","2":"1"},{"1":"Indian rupees","2":"1"},{"1":"INR (Indian Rupee)","2":"1"},{"1":"Israeli Shekels","2":"1"},{"1":"Korean Won","2":"1"},{"1":"KRW (Korean Won)","2":"1"},{"1":"LKR","2":"1"},{"1":"Mexican pesos","2":"1"},{"1":"Mexican Pesos","2":"1"},{"1":"NIS (new Israeli shekel)","2":"1"},{"1":"Nok","2":"1"},{"1":"Norwegian kroner (NOK)","2":"1"},{"1":"Peso Argentino","2":"1"},{"1":"Philippine Peso","2":"1"},{"1":"Philippine peso (PHP)","2":"1"},{"1":"Philippine Pesos","2":"1"},{"1":"Php","2":"1"},{"1":"PHP","2":"1"},{"1":"PhP (Philippine Peso)","2":"1"},{"1":"PLN (Polish zloty)","2":"1"},{"1":"Polish Zloty","2":"1"},{"1":"RM","2":"1"},{"1":"RMB (chinese yuan)","2":"1"},{"1":"SAR","2":"1"},{"1":"SEK","2":"1"},{"1":"Sgd","2":"1"},{"1":"Taiwanese dollars","2":"1"},{"1":"THAI  BAHT","2":"1"},{"1":"THB","2":"1"},{"1":"TRY","2":"1"},{"1":"TTD","2":"1"},{"1":"US Dollar","2":"1"},{"1":"ZAR","2":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<p>These have few enough responses that they probably aren’t worth cleaning. Just make currency a factor in order of frequency:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'>&lt;-</span> <span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>currency <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_inorder.html'>fct_infreq</a></span><span class='op'>(</span><span class='va'>currency</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>These are the <code>country</code>-<code>currency</code> combinations for USA, Canada and the UK:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>country_clean</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"USA"</span>, <span class='st'>"Canada"</span>, <span class='st'>"UK"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>country_clean</span>, <span class='va'>currency</span>, sort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'>rmarkdown</span><span class='fu'>::</span><span class='fu'><a href='https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html'>paged_table</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["country_clean"],"name":[1],"type":["chr"],"align":["left"]},{"label":["currency"],"name":[2],"type":["fct"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"USA","2":"USD","3":"21648"},{"1":"Canada","2":"CAD","3":"1557"},{"1":"UK","2":"GBP","3":"1508"},{"1":"Canada","2":"USD","3":"18"},{"1":"UK","2":"USD","3":"14"},{"1":"USA","2":"Other","3":"13"},{"1":"UK","2":"EUR","3":"3"},{"1":"USA","2":"CAD","3":"3"},{"1":"UK","2":"Other","3":"2"},{"1":"USA","2":"EUR","3":"2"},{"1":"Canada","2":"AUD/NZD","3":"1"},{"1":"Canada","2":"Other","3":"1"},{"1":"Canada","2":"CHF","3":"1"},{"1":"USA","2":"GBP","3":"1"},{"1":"USA","2":"AUD/NZD","3":"1"},{"1":"USA","2":"SEK","3":"1"},{"1":"USA","2":"JPY","3":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<p><code>annual_salary</code> and <code>other_monetary_comp</code> are the key variables of this data, but they must be interpreted with <code>currency</code> in mind. First, look for improper (negative, non-numeric) responses:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span>
    <span class='co'># Missing annual salary</span>
    <span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>annual_salary</span><span class='op'>)</span> <span class='op'>|</span> <span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='va'>annual_salary</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|</span>
      <span class='co'># Zero or negative annual salary</span>
      <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='va'>annual_salary</span><span class='op'>)</span> <span class='op'>&lt;=</span> <span class='fl'>0</span><span class='op'>)</span> <span class='op'>|</span>
      <span class='co'># Negative other compensation</span>
      <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='va'>other_monetary_comp</span><span class='op'>)</span> <span class='op'>&lt;</span> <span class='fl'>0</span><span class='op'>)</span>
  <span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>industry</span>,  <span class='va'>job_title</span>, <span class='va'>annual_salary</span>, <span class='va'>other_monetary_comp</span>,
         <span class='va'>additional_context_on_income</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'>rmarkdown</span><span class='fu'>::</span><span class='fu'><a href='https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html'>paged_table</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["industry"],"name":[1],"type":["chr"],"align":["left"]},{"label":["job_title"],"name":[2],"type":["chr"],"align":["left"]},{"label":["annual_salary"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["other_monetary_comp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["additional_context_on_income"],"name":[5],"type":["chr"],"align":["left"]}],"data":[{"1":"Stay-at-home parent","2":"\"mum\" ;)","3":"0","4":"0","5":"NA"},{"1":"Nonprofits","2":"Executive Director","3":"0","4":"NA","5":"NA"},{"1":"Law","2":"Attorney","3":"0","4":"185000","5":"I receive bi-weekly draws with end-of-year income distribution."},{"1":"Education (Primary/Secondary)","2":"Student teacher","3":"0","4":"0","5":"Student teaching is usually unpaid"},{"1":"Computing or Tech","2":"Product Marketer","3":"0","4":"0","5":"Start up without funding. Compensation is in stocks."},{"1":"Education (Primary/Secondary)","2":"Househusband","3":"0","4":"0","5":"NA"},{"1":"Computing or Tech","2":"Founder","3":"0","4":"0","5":"NA"},{"1":"Marketing, Advertising & PR","2":"Unemployed","3":"0","4":"NA","5":"NA"},{"1":"Nonprofits","2":"Government Relations Director","3":"0","4":"0","5":"We are working on getting funding for salaries but do not have enough to pay everyone yet."},{"1":"Business or Consulting","2":"Realtor","3":"0","4":"200000","5":"Commission based realtor"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<p>So 10 cases of <code>annual_salary</code> = 0. In 2 of those cases, the <code>other_monetary_comp</code> makes up the difference, so I’ll create a <code>total_salary</code> variable adding those two:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'>&lt;-</span> <span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>
    total_salary <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span>
      <span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>other_monetary_comp</span><span class='op'>)</span>,
      <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='va'>annual_salary</span><span class='op'>)</span>,
      <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='va'>annual_salary</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='va'>other_monetary_comp</span><span class='op'>)</span>
    <span class='op'>)</span>
  <span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='co'># Remove those 8 cases of 0 income</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>total_salary</span> <span class='op'>&gt;</span> <span class='fl'>0</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Visualize income on a log scale for the most common currencies:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>p</span> <span class='op'>&lt;-</span> <span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>currency</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"USD"</span>, <span class='st'>"CAD"</span>, <span class='st'>"GBP"</span>, <span class='st'>"EUR"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>total_salary</span>, y <span class='op'>=</span> <span class='va'>currency</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_violin.html'>geom_violin</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>currency</span><span class='op'>)</span>, show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_log10</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/label_dollar.html'>label_dollar</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span><span class='va'>currency</span>, scales <span class='op'>=</span> <span class='st'>"free"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/dunnr/man/remove_axis.html'>remove_axis</a></span><span class='op'>(</span><span class='st'>"y"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/dunnr/man/add_facet_borders.html'>add_facet_borders</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>p</span>
</code></pre>
</div>
<p><img src="tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-21-1.png" width="624" /></p>
</div>
<p>Even on a log scale, there are a lot of outliers in each currency. If we trim the data to only have the inner 95%:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>p</span> <span class='op'><a href='https://ggplot2.tidyverse.org/reference/gg-add.html'>%+%</a></span>
  <span class='op'>(</span>
    <span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
      <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>currency</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"USD"</span>, <span class='st'>"CAD"</span>, <span class='st'>"GBP"</span>, <span class='st'>"EUR"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
      <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>currency</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
      <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span>
        <span class='va'>total_salary</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/stats/quantile.html'>quantile</a></span><span class='op'>(</span><span class='va'>total_salary</span>, <span class='fl'>0.975</span><span class='op'>)</span>,
        <span class='va'>total_salary</span> <span class='op'>&gt;</span> <span class='fu'><a href='https://rdrr.io/r/stats/quantile.html'>quantile</a></span><span class='op'>(</span><span class='va'>total_salary</span>, <span class='fl'>0.025</span><span class='op'>)</span>
      <span class='op'>)</span>
  <span class='op'>)</span>
</code></pre>
</div>
<p><img src="tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-22-1.png" width="624" /></p>
</div>
<p>These are much more reasonable salary ranges.</p>
<p>There are two variables related to years of experience:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>overall_years_of_professional_experience</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'>rmarkdown</span><span class='fu'>::</span><span class='fu'><a href='https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html'>paged_table</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["overall_years_of_professional_experience"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"1 year or less","2":"430"},{"1":"11 - 20 years","2":"9138"},{"1":"2 - 4 years","2":"2699"},{"1":"21 - 30 years","2":"3467"},{"1":"31 - 40 years","2":"821"},{"1":"41 years or more","2":"115"},{"1":"5-7 years","2":"4514"},{"1":"8 - 10 years","2":"5040"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>years_of_experience_in_field</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'>rmarkdown</span><span class='fu'>::</span><span class='fu'><a href='https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html'>paged_table</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["years_of_experience_in_field"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"1 year or less","2":"1248"},{"1":"11 - 20 years","2":"6244"},{"1":"2 - 4 years","2":"5735"},{"1":"21 - 30 years","2":"1781"},{"1":"31 - 40 years","2":"366"},{"1":"41 years or more","2":"38"},{"1":"5-7 years","2":"6112"},{"1":"8 - 10 years","2":"4700"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<p>The same 8 levels were used. Like with the age variable, we can parse these numbers and put them into ordered factors:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'>&lt;-</span> <span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/across.html'>across</a></span><span class='op'>(</span>
      <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>years_of_experience_in_field</span>,
        <span class='va'>overall_years_of_professional_experience</span><span class='op'>)</span>,
      <span class='op'>~</span><span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_reorder.html'>fct_reorder</a></span><span class='op'>(</span><span class='va'>.</span>, <span class='fu'><a href='https://readr.tidyverse.org/reference/parse_number.html'>parse_number</a></span><span class='op'>(</span><span class='va'>.</span><span class='op'>)</span><span class='op'>)</span>
    <span class='op'>)</span>
  <span class='op'>)</span>
<span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>years_of_experience_in_field</span>,
        <span class='va'>overall_years_of_professional_experience</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>years_of_experience_in_field</span>,
             y <span class='op'>=</span> <span class='va'>overall_years_of_professional_experience</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_tile</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span>, show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"white"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_discrete.html'>scale_x_discrete</a></span><span class='op'>(</span>expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_discrete.html'>scale_y_discrete</a></span><span class='op'>(</span>expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>angle <span class='op'>=</span> <span class='fl'>25</span>, vjust <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-24-1.png" width="624" /></p>
</div>
<p>In each case except “41 years or more”, the diagonal of <code>overall_years_of_professional_experience</code> = <code>years_of_experience_in_field</code> is the most frequent co-occurence.</p>
<p>The <code>education</code> options:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>highest_level_of_education_completed</span>, sort <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'>rmarkdown</span><span class='fu'>::</span><span class='fu'><a href='https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html'>paged_table</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["highest_level_of_education_completed"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"College degree","2":"12583"},{"1":"Master's degree","2":"8382"},{"1":"Some college","2":"1879"},{"1":"PhD","2":"1355"},{"1":"Professional degree (MD, JD, etc.)","2":"1261"},{"1":"High School","2":"568"},{"1":"NA","2":"196"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<p>We’ll put it in a factor manually ordered by the most years to complete (on average):</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'>&lt;-</span> <span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>
    highest_level_of_education_completed <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span>
      <span class='va'>highest_level_of_education_completed</span>,
      levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"High School"</span>, <span class='st'>"Some college"</span>, <span class='st'>"College degree"</span>,
                 <span class='st'>"Master's degree"</span>, <span class='st'>"Professional degree (MD, JD, etc.)"</span>, <span class='st'>"PhD"</span><span class='op'>)</span>
    <span class='op'>)</span>
  <span class='op'>)</span>
<span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>
    highest_level_of_education_completed <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_explicit_na.html'>fct_explicit_na</a></span><span class='op'>(</span>
      <span class='va'>highest_level_of_education_completed</span>
    <span class='op'>)</span>
  <span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>highest_level_of_education_completed</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>highest_level_of_education_completed</span><span class='op'>)</span>,
           show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_viridis.html'>scale_fill_viridis_d</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>expand <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/expansion.html'>expansion</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0.1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-26-1.png" width="624" /></p>
</div>
<p>The <code>gender</code> options:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>gender</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 6 x 2
  gender                            n
  &lt;chr&gt;                         &lt;int&gt;
1 Man                            4740
2 Non-binary                      713
3 Other or prefer not to answer   267
4 Prefer not to answer              1
5 Woman                         20355
6 &lt;NA&gt;                            148</code></pre>
</div>
<p>We can put the “Prefer not to answer” response into the appropriate category, and make a factor:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'>&lt;-</span> <span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>gender <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>gender</span> <span class='op'>==</span> <span class='st'>"Prefer not to answer"</span>,
                         <span class='st'>"Other or prefer not to answer"</span>, <span class='va'>gender</span><span class='op'>)</span>,
         gender <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_inorder.html'>fct_infreq</a></span><span class='op'>(</span><span class='va'>gender</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>gender <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_explicit_na.html'>fct_explicit_na</a></span><span class='op'>(</span><span class='va'>gender</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>gender</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>gender</span><span class='op'>)</span>, show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-28-1.png" width="624" /></p>
</div>
<p>A lot more women respondents than men.</p>
<p>The <code>race</code> variable was a “Choose all that apply” question:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>race</span>, sort <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'>rmarkdown</span><span class='fu'>::</span><span class='fu'><a href='https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html'>paged_table</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["race"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"White","2":"21903"},{"1":"Asian or Asian American","2":"1216"},{"1":"Black or African American","2":"618"},{"1":"Another option not listed here or prefer not to answer","2":"566"},{"1":"Hispanic, Latino, or Spanish origin","2":"521"},{"1":"Hispanic, Latino, or Spanish origin, White","2":"351"},{"1":"Asian or Asian American, White","2":"327"},{"1":"NA","2":"146"},{"1":"Black or African American, White","2":"121"},{"1":"Middle Eastern or Northern African, White","2":"72"},{"1":"Native American or Alaska Native, White","2":"65"},{"1":"White, Another option not listed here or prefer not to answer","2":"62"},{"1":"Middle Eastern or Northern African","2":"60"},{"1":"Native American or Alaska Native","2":"39"},{"1":"Black or African American, Hispanic, Latino, or Spanish origin","2":"27"},{"1":"Asian or Asian American, Another option not listed here or prefer not to answer","2":"11"},{"1":"Asian or Asian American, Hispanic, Latino, or Spanish origin","2":"11"},{"1":"Asian or Asian American, Hispanic, Latino, or Spanish origin, White","2":"11"},{"1":"Hispanic, Latino, or Spanish origin, Native American or Alaska Native","2":"10"},{"1":"Black or African American, Hispanic, Latino, or Spanish origin, White","2":"9"},{"1":"Hispanic, Latino, or Spanish origin, Native American or Alaska Native, White","2":"9"},{"1":"Asian or Asian American, Black or African American","2":"7"},{"1":"Asian or Asian American, Middle Eastern or Northern African","2":"7"},{"1":"Asian or Asian American, White, Another option not listed here or prefer not to answer","2":"6"},{"1":"Hispanic, Latino, or Spanish origin, Another option not listed here or prefer not to answer","2":"6"},{"1":"Asian or Asian American, Black or African American, White","2":"5"},{"1":"Black or African American, Native American or Alaska Native, White","2":"5"},{"1":"Black or African American, Middle Eastern or Northern African, White","2":"4"},{"1":"Hispanic, Latino, or Spanish origin, Middle Eastern or Northern African, White","2":"4"},{"1":"Black or African American, Hispanic, Latino, or Spanish origin, Native American or Alaska Native, White","2":"3"},{"1":"Asian or Asian American, Native American or Alaska Native, White","2":"2"},{"1":"Black or African American, Another option not listed here or prefer not to answer","2":"2"},{"1":"Black or African American, Middle Eastern or Northern African","2":"2"},{"1":"Middle Eastern or Northern African, White, Another option not listed here or prefer not to answer","2":"2"},{"1":"Asian or Asian American, Black or African American, Hispanic, Latino, or Spanish origin","2":"1"},{"1":"Asian or Asian American, Black or African American, Native American or Alaska Native, White","2":"1"},{"1":"Asian or Asian American, Hispanic, Latino, or Spanish origin, Another option not listed here or prefer not to answer","2":"1"},{"1":"Asian or Asian American, Hispanic, Latino, or Spanish origin, Native American or Alaska Native, White","2":"1"},{"1":"Asian or Asian American, Middle Eastern or Northern African, White","2":"1"},{"1":"Asian or Asian American, Native American or Alaska Native","2":"1"},{"1":"Black or African American, Middle Eastern or Northern African, Native American or Alaska Native, White","2":"1"},{"1":"Hispanic, Latino, or Spanish origin, Middle Eastern or Northern African","2":"1"},{"1":"Hispanic, Latino, or Spanish origin, Native American or Alaska Native, Another option not listed here or prefer not to answer","2":"1"},{"1":"Hispanic, Latino, or Spanish origin, White, Another option not listed here or prefer not to answer","2":"1"},{"1":"Middle Eastern or Northern African, Native American or Alaska Native","2":"1"},{"1":"Middle Eastern or Northern African, Native American or Alaska Native, White","2":"1"},{"1":"Native American or Alaska Native, Another option not listed here or prefer not to answer","2":"1"},{"1":"Native American or Alaska Native, White, Another option not listed here or prefer not to answer","2":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<p>The responses are split by commas, but the “Hispanic, Latino, or Spanish origin” option has commas itself. We can approach this two ways. (1) Remove the extra commas, tokenize the answers, and store it in a column vector:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'>&lt;-</span> <span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>
    race <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace</a></span><span class='op'>(</span>
      <span class='va'>race</span>,
      <span class='st'>"Hispanic, Latino, or Spanish"</span>,
      <span class='st'>"Hispanic Latino or Spanish"</span>
    <span class='op'>)</span>,
    race_split <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_split.html'>str_split</a></span><span class='op'>(</span>
      <span class='va'>race</span>,
      pattern <span class='op'>=</span> <span class='st'>", "</span>
    <span class='op'>)</span>
  <span class='op'>)</span>
<span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>race</span>, <span class='va'>race_split</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fl'>30</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'>rmarkdown</span><span class='fu'>::</span><span class='fu'><a href='https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html'>paged_table</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["race"],"name":[1],"type":["chr"],"align":["left"]},{"label":["race_split"],"name":[2],"type":["list"],"align":["right"]}],"data":[{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"Hispanic Latino or Spanish origin, White","2":"<chr [2]>"},{"1":"White","2":"<chr [1]>"},{"1":"Hispanic Latino or Spanish origin, White","2":"<chr [2]>"},{"1":"Asian or Asian American, White","2":"<chr [2]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"Asian or Asian American","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"Another option not listed here or prefer not to answer","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<p>Then to get race counts, we unnest the <code>race_split</code> column:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>n_respondents <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/context.html'>n</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://tidyr.tidyverse.org/reference/nest.html'>unnest</a></span><span class='op'>(</span><span class='va'>race_split</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>race_split</span>, <span class='va'>n_respondents</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>
    p <span class='op'>=</span> <span class='va'>n</span> <span class='op'>/</span> <span class='va'>n_respondents</span>,
    race <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_reorder.html'>fct_reorder</a></span><span class='op'>(</span><span class='va'>race_split</span>, <span class='va'>n</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_explicit_na.html'>fct_explicit_na</a></span><span class='op'>(</span><span class='op'>)</span>
  <span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>race</span>, x <span class='op'>=</span> <span class='va'>p</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/label_percent.html'>percent</a></span><span class='op'>(</span><span class='va'>p</span>, accuracy <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span><span class='op'>)</span>, nudge_x <span class='op'>=</span> <span class='fl'>0.05</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_col</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>td_colors</span><span class='op'>$</span><span class='va'>nice</span><span class='op'>$</span><span class='va'>soft_orange</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span><span class='st'>"Percentage of respondents"</span>,
                     labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='va'><a href='https://scales.r-lib.org/reference/label_percent.html'>percent</a></span>,
                     expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span>, limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-31-1.png" width="624" /></p>
</div>
<p>Or (2) manually create indicator variables for each response:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey</span> <span class='op'>&lt;-</span> <span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>
    white <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>race</span>, <span class='st'>"White"</span><span class='op'>)</span>,
    asian <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>race</span>, <span class='st'>"Asian"</span><span class='op'>)</span>,
    black <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>race</span>, <span class='st'>"Black"</span><span class='op'>)</span>,
    hispanic_latino_spanish <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>race</span>, <span class='st'>"Hispanic"</span><span class='op'>)</span>,
    middle_eastern_northern_african <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>race</span>, <span class='st'>"Middle Eastern"</span><span class='op'>)</span>,
    native_american_alaska <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>race</span>, <span class='st'>"Native"</span><span class='op'>)</span>,
    other_na <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>race</span>, <span class='st'>"Another option"</span><span class='op'>)</span>
  <span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='co'># Need to fix NA values</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/across.html'>across</a></span><span class='op'>(</span><span class='va'>white</span><span class='op'>:</span><span class='va'>other_na</span>, <span class='op'>~</span><span class='fu'><a href='https://tidyr.tidyverse.org/reference/replace_na.html'>replace_na</a></span><span class='op'>(</span><span class='va'>.</span>, <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>)</span>
  <span class='op'>)</span>
<span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='co'># Add an indicator if NA race</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>missing <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>race</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/summarise.html'>summarise</a></span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/across.html'>across</a></span><span class='op'>(</span><span class='va'>white</span><span class='op'>:</span><span class='va'>missing</span>, <span class='op'>~</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>.</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://tidyr.tidyverse.org/reference/pivot_longer.html'>pivot_longer</a></span><span class='op'>(</span><span class='fu'><a href='https://tidyselect.r-lib.org/reference/everything.html'>everything</a></span><span class='op'>(</span><span class='op'>)</span>, names_to <span class='op'>=</span> <span class='st'>"race"</span>, values_to <span class='op'>=</span> <span class='st'>"p"</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>race <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_reorder.html'>fct_reorder</a></span><span class='op'>(</span><span class='va'>race</span>, <span class='va'>p</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>race</span>, x <span class='op'>=</span> <span class='va'>p</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/label_percent.html'>percent</a></span><span class='op'>(</span><span class='va'>p</span>, accuracy <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span><span class='op'>)</span>, nudge_x <span class='op'>=</span> <span class='fl'>0.05</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_col</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>td_colors</span><span class='op'>$</span><span class='va'>nice</span><span class='op'>$</span><span class='va'>soft_orange</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span><span class='st'>"Percentage of respondents"</span>,
                     labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='va'><a href='https://scales.r-lib.org/reference/label_percent.html'>percent</a></span>,
                     expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span>, limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-32-1.png" width="624" /></p>
</div>
<p>Same percentages, just different labels on the <code>race</code> variable because of how the data were wrangled.</p>
<h1 id="analysis-data-oriented-professions-in-north-america">Analysis: data-oriented professions in North America</h1>
<p>After exploring the data, I decided I’d like to analyze the salaries of the data-oriented professions in Canada and the US. Filter by <code>job_title</code>:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey_data</span> <span class='op'>&lt;-</span> <span class='va'>survey</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span>
    <span class='va'>country_clean</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"USA"</span>, <span class='st'>"Canada"</span><span class='op'>)</span>,
    <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>job_title</span>,
               <span class='fu'><a href='https://stringr.tidyverse.org/reference/modifiers.html'>regex</a></span><span class='op'>(</span><span class='st'>"data|statistic|stats|machine learn"</span>, ignore_case <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span>
  <span class='op'>)</span>
<span class='va'>survey_data</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>job_title</span>, sort <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'>rmarkdown</span><span class='fu'>::</span><span class='fu'><a href='https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html'>paged_table</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["job_title"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"Data Analyst","2":"84"},{"1":"Data Scientist","2":"50"},{"1":"Senior Data Scientist","2":"20"},{"1":"Data analyst","2":"16"},{"1":"Data Engineer","2":"15"},{"1":"Data scientist","2":"14"},{"1":"Senior Data Analyst","2":"12"},{"1":"Database Administrator","2":"10"},{"1":"Data Manager","2":"9"},{"1":"Statistician","2":"7"},{"1":"Biostatistician","2":"6"},{"1":"Director of Data Science","2":"5"},{"1":"Database Manager","2":"4"},{"1":"Lead Data Scientist","2":"4"},{"1":"Sr Data Analyst","2":"4"},{"1":"data scientist","2":"3"},{"1":"Database Analyst","2":"3"},{"1":"Machine Learning Engineer","2":"3"},{"1":"Metadata Librarian","2":"3"},{"1":"Senior data analyst","2":"3"},{"1":"Senior Data Manager","2":"3"},{"1":"Chief Data Scientist","2":"2"},{"1":"data analyst","2":"2"},{"1":"Data Analyst II","2":"2"},{"1":"Data Architect","2":"2"},{"1":"Data Entry","2":"2"},{"1":"Data Entry Specialist","2":"2"},{"1":"Data Processor","2":"2"},{"1":"Data science manager","2":"2"},{"1":"Data Science Manager","2":"2"},{"1":"Data Scientist II","2":"2"},{"1":"Data Specialist","2":"2"},{"1":"Database Specialist","2":"2"},{"1":"Master Data Analyst","2":"2"},{"1":"Principal Data Scientist","2":"2"},{"1":"Research and Data Analyst","2":"2"},{"1":"Senior Statistician","2":"2"},{"1":"Actuarial data /systems programmer","2":"1"},{"1":"Admin / Data Entry","2":"1"},{"1":"Administrative and Data Coordinator","2":"1"},{"1":"Admission Prospect Data Specialist","2":"1"},{"1":"Annual Fund and Database Manager","2":"1"},{"1":"Applied Data Scientist","2":"1"},{"1":"Assistant Director, Data Integrity","2":"1"},{"1":"Assistant Professor/Director of Cataloging & Metadata Services","2":"1"},{"1":"Assoc Dir Data Analysis","2":"1"},{"1":"Associate Data Analyst","2":"1"},{"1":"Associate Data Scientist","2":"1"},{"1":"Biostatistician I","2":"1"},{"1":"Business Analyst, Enterprise Data Governance","2":"1"},{"1":"Business Data Analyst","2":"1"},{"1":"Business Operations (Data Analyst)","2":"1"},{"1":"Consultant, data analyst","2":"1"},{"1":"Crime Data Analyst","2":"1"},{"1":"Customer Data Management","2":"1"},{"1":"Data & Analytics Director","2":"1"},{"1":"Data & Evaluation Specialist","2":"1"},{"1":"Data / Document Specialist","2":"1"},{"1":"Data Admin","2":"1"},{"1":"data Analyst","2":"1"},{"1":"Data Analyst (EC-05)","2":"1"},{"1":"Data Analyst 2","2":"1"},{"1":"Data Analyst Engineer","2":"1"},{"1":"Data Analyst III","2":"1"},{"1":"Data Analyst Manager","2":"1"},{"1":"Data Analyst Supervisor (Public Health)","2":"1"},{"1":"Data Analyst, Fundraising","2":"1"},{"1":"Data Analytics","2":"1"},{"1":"Data Analytics Consultant","2":"1"},{"1":"Data Analytics Developer","2":"1"},{"1":"Data Analytics Lead","2":"1"},{"1":"Data analytics manager","2":"1"},{"1":"Data Analytics Manager","2":"1"},{"1":"Data and Analytics Lead","2":"1"},{"1":"Data and Analytics Product Manager","2":"1"},{"1":"Data and Evaluation Specialist","2":"1"},{"1":"Data and Insights Analyst","2":"1"},{"1":"Data and layout","2":"1"},{"1":"Data and policy specialist","2":"1"},{"1":"Data and Quality Assurance Manager","2":"1"},{"1":"Data and Reporting Analyst","2":"1"},{"1":"Data architect","2":"1"},{"1":"data associate","2":"1"},{"1":"Data Associate","2":"1"},{"1":"Data Consultant","2":"1"},{"1":"Data Conversion Analyst IV","2":"1"},{"1":"data coordinator","2":"1"},{"1":"Data coordinator","2":"1"},{"1":"Data Coordinator","2":"1"},{"1":"Data curator","2":"1"},{"1":"Data engineer","2":"1"},{"1":"Data Engineering Manager","2":"1"},{"1":"Data Entry and Records Specialist","2":"1"},{"1":"Data Entry Associate","2":"1"},{"1":"Data entry clerk","2":"1"},{"1":"Data Governance","2":"1"},{"1":"Data Governance Analyst","2":"1"},{"1":"Data Insights Analyst","2":"1"},{"1":"Data Integrity","2":"1"},{"1":"Data Integrity Specialist","2":"1"},{"1":"Data Lead","2":"1"},{"1":"Data librarian","2":"1"},{"1":"Data Management Officer","2":"1"},{"1":"Data Management Team Lead","2":"1"},{"1":"Data Migration Consultant","2":"1"},{"1":"Data Privacy & Compliance Professional","2":"1"},{"1":"Data processing","2":"1"},{"1":"data product manager","2":"1"},{"1":"Data Programmer Analyst","2":"1"},{"1":"Data Quality Analyst","2":"1"},{"1":"Data Quality Lead","2":"1"},{"1":"Data quality manager","2":"1"},{"1":"data science","2":"1"},{"1":"Data scientist /epidemiologist","2":"1"},{"1":"Data Scientist 2","2":"1"},{"1":"Data Scientist III","2":"1"},{"1":"Data services associate","2":"1"},{"1":"Data Statistician","2":"1"},{"1":"Data Strategist","2":"1"},{"1":"Data Strategy & Analytics Consultant","2":"1"},{"1":"Data Support","2":"1"},{"1":"Data Systems Manager","2":"1"},{"1":"data team lead","2":"1"},{"1":"Data visualization consultant","2":"1"},{"1":"Data visualization developer","2":"1"},{"1":"Data warehouse operations analyst","2":"1"},{"1":"Database administrator","2":"1"},{"1":"Database Administrator SQL","2":"1"},{"1":"Database Architect","2":"1"},{"1":"Database Assistant","2":"1"},{"1":"Database Associate","2":"1"},{"1":"database developer","2":"1"},{"1":"Database Developer","2":"1"},{"1":"Development and Data Specialist","2":"1"},{"1":"Development Database Associate","2":"1"},{"1":"Development Database Manager","2":"1"},{"1":"Director - Data Operations","2":"1"},{"1":"Director - Data Science","2":"1"},{"1":"Director of Data & Analytics","2":"1"},{"1":"Director of Data & Information Systems","2":"1"},{"1":"Director of Data Analytics","2":"1"},{"1":"Director of Data and Reporting","2":"1"},{"1":"Director of Data Engineering","2":"1"},{"1":"Director of Library and Database Services","2":"1"},{"1":"Director of Research and Data Analytics","2":"1"},{"1":"Director, Advanced Analytics and Statistics","2":"1"},{"1":"Director, Biostatistics","2":"1"},{"1":"Director, Data Analytics","2":"1"},{"1":"Director, Data Management","2":"1"},{"1":"Director, Data Management (non-academic)","2":"1"},{"1":"Director, Master Data","2":"1"},{"1":"District Data Manager","2":"1"},{"1":"Federal consultant (data analytics)","2":"1"},{"1":"Financial Data Specialist","2":"1"},{"1":"Geospatial Data Technician II","2":"1"},{"1":"Gifts and Data Coordinator","2":"1"},{"1":"GIS Data Specialist","2":"1"},{"1":"Global Data Team Leader","2":"1"},{"1":"Government Statistician","2":"1"},{"1":"HCIS Database Analyst","2":"1"},{"1":"Head data scientist","2":"1"},{"1":"Head metadata librarian","2":"1"},{"1":"Head of Data & Analytics","2":"1"},{"1":"Head of Data Science","2":"1"},{"1":"Head of Data Science & Analytics","2":"1"},{"1":"Healthcare Data Analyst","2":"1"},{"1":"Interim Director of Cataloging and Metadata Services","2":"1"},{"1":"IT Project Manager and Data Analyst","2":"1"},{"1":"Lead Data Engineer","2":"1"},{"1":"Lead Data Strategist","2":"1"},{"1":"Management Analyst IV (Data Analyst)","2":"1"},{"1":"Manager of Data Engineering","2":"1"},{"1":"Manager of Data Integrity and Prospect Research","2":"1"},{"1":"Manager of Data Science","2":"1"},{"1":"Manager of Market Research and Data","2":"1"},{"1":"Manager, Gift Processing and Data Management","2":"1"},{"1":"Managing Director Data Science and Analytics","2":"1"},{"1":"Mathematical Statistician","2":"1"},{"1":"Media and Data Analyst","2":"1"},{"1":"Member Data Specialist","2":"1"},{"1":"Membership & Data Analytics Manager","2":"1"},{"1":"Metadata Management Librarian","2":"1"},{"1":"Metadata Specialist II","2":"1"},{"1":"Office specialist-database management","2":"1"},{"1":"Officer, Analyst II- System/Data Security","2":"1"},{"1":"Operations Data Analyst","2":"1"},{"1":"Principal Data Science Manager","2":"1"},{"1":"principal data scientist","2":"1"},{"1":"Principal Project Data Manager","2":"1"},{"1":"Principal Statistical Programmer","2":"1"},{"1":"Product Data Analyst","2":"1"},{"1":"Product Owner: Data, Reporting, & Analytics","2":"1"},{"1":"Project Analyst or Data Manager","2":"1"},{"1":"Provider Data Analyst","2":"1"},{"1":"Provider Data Specialist III","2":"1"},{"1":"Quality data analyst","2":"1"},{"1":"Quality Improvement Data Analyst","2":"1"},{"1":"Records and Data Control Specialist","2":"1"},{"1":"Recruiter & Data Analyst","2":"1"},{"1":"Reporting & Data Analyst","2":"1"},{"1":"Research Data Analyst","2":"1"},{"1":"Research Data Coordinator","2":"1"},{"1":"Research Data Specialist","2":"1"},{"1":"Research Specialist/Data Analyst","2":"1"},{"1":"Senior Advisor, Data Science","2":"1"},{"1":"Senior Associate Data Scientist","2":"1"},{"1":"Senior biostatistician","2":"1"},{"1":"Senior Biostatistician","2":"1"},{"1":"Senior Clinical Data Analyst","2":"1"},{"1":"Senior Data & Policy Specialist","2":"1"},{"1":"senior data analyst","2":"1"},{"1":"Senior Data Analytics Developer","2":"1"},{"1":"Senior Data architect","2":"1"},{"1":"Senior data engineer","2":"1"},{"1":"Senior Data Engineer","2":"1"},{"1":"Senior Data Quality Specialist","2":"1"},{"1":"senior data scientist","2":"1"},{"1":"Senior data scientist","2":"1"},{"1":"Senior Data scientist","2":"1"},{"1":"Senior Database Administrator","2":"1"},{"1":"Senior Database Analyst","2":"1"},{"1":"Senior Database Engineer","2":"1"},{"1":"Senior director data management","2":"1"},{"1":"Senior Director, Data Engineering","2":"1"},{"1":"Senior Editor, Data Visualization","2":"1"},{"1":"Senior GIS Data Analyst","2":"1"},{"1":"Senior Health Data Analyst","2":"1"},{"1":"Senior Machine Learning Engineer","2":"1"},{"1":"Senior Manager, Statistics","2":"1"},{"1":"senior marketing data specialist","2":"1"},{"1":"Senior Research Data Analyst","2":"1"},{"1":"Senior Technical Data Analyst","2":"1"},{"1":"Software and Database Engineer","2":"1"},{"1":"Sr data consultant","2":"1"},{"1":"Sr Database Administrator","2":"1"},{"1":"Sr Fraud Data Analyst","2":"1"},{"1":"Sr Manager, Data","2":"1"},{"1":"Sr. Data Analyst","2":"1"},{"1":"Sr. Data Scientist","2":"1"},{"1":"Sr. Database Analyst","2":"1"},{"1":"Staff Data Scientist","2":"1"},{"1":"Statistical Analyst","2":"1"},{"1":"Statistical Analyst II","2":"1"},{"1":"Statistical Associate","2":"1"},{"1":"Statistical Program Manager","2":"1"},{"1":"Statistical Programmer","2":"1"},{"1":"Statistical Programmer II","2":"1"},{"1":"Statistical Programmer/Data Analyst","2":"1"},{"1":"Statistician II","2":"1"},{"1":"Statistics Supervisor","2":"1"},{"1":"Strategic Data Manager","2":"1"},{"1":"Student data specialist","2":"1"},{"1":"Surveillance Data Manager","2":"1"},{"1":"Survey Statistician","2":"1"},{"1":"Technical consultant (data science/AI)","2":"1"},{"1":"Technical Data Analyst","2":"1"},{"1":"Technical Data Msnager","2":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<p>257 unique <code>job_title</code>s if far too many, so I’ll attempt to bucket them into general titles:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey_data</span> <span class='op'>&lt;-</span> <span class='va'>survey_data</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>
    job_title_factor <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/chartr.html'>tolower</a></span><span class='op'>(</span><span class='va'>job_title</span><span class='op'>)</span>,
    job_title_factor <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span>
      <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>job_title_factor</span>, <span class='st'>"analyst|analyti"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"Data analyst"</span>,
      <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>job_title_factor</span>, <span class='st'>"scientist|data sci"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"Data scientist"</span>,
      <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>job_title_factor</span>,
                 <span class='st'>"(data|database) engineer"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"Data engineer"</span>,
      <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>job_title_factor</span>,
                 <span class='st'>"machine learning"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"Machine learning engineer"</span>,
      <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span>
        <span class='va'>job_title_factor</span>,
        <span class='st'>"(data|database) (man|dev|admin|assoc|special|assist)|librar"</span>
      <span class='op'>)</span> <span class='op'>~</span> <span class='st'>"Database specialist"</span>,
      <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>job_title_factor</span>, <span class='st'>"statistician"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"Statistician"</span>,
      <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span>
        <span class='va'>job_title_factor</span>,
        <span class='st'>"director|manager|(lead|leader|head|supervisor)$|coordin|assoc dir|^(head|lead)"</span>
      <span class='op'>)</span> <span class='op'>~</span> <span class='st'>"Director/manager/lead/coordinator/supervisor"</span>,
      <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>job_title_factor</span>, <span class='st'>"entry|processor"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"Data entry"</span>,
      <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>job_title_factor</span>, <span class='st'>"architect"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"Data architect"</span>,
      <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>job_title_factor</span>, <span class='st'>"consult"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"Consultant"</span>,
      <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>job_title_factor</span>,
                 <span class='st'>"statistical prog"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"Statistical programmer"</span>,
      <span class='cn'>TRUE</span> <span class='op'>~</span> <span class='st'>"Other"</span>
    <span class='op'>)</span>,
    job_title_factor <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_inorder.html'>fct_infreq</a></span><span class='op'>(</span><span class='va'>job_title_factor</span><span class='op'>)</span>
  <span class='op'>)</span>
</code></pre>
</div>
</div>
<p>A few of my choices in the above categorization that should be noted:</p>
<ul>
<li>Statistician and biostatistician were combined</li>
<li>Database specialist
<ul>
<li>Includes data managers, administrators, associates,</li>
<li>I included data librarian, which I’m not sure is accurate</li>
</ul></li>
<li>A lot of leadership roles were grouped together, though their typical roles might differ a lot</li>
<li>There are a few cases with low frequency that I left as “Other”, like:
<ul>
<li>Data Strategist (n=1)</li>
<li>Data curator (n=1)</li>
<li>Data visualization developer (n=1)</li>
</ul></li>
</ul>
<p>We now have the following distribution of <code>job_title</code>:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey_data</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>job_title_factor</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-35-1.png" width="624" /></p>
</div>
<p>Distribution of <code>currency</code>:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey_data</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>currency</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'>rmarkdown</span><span class='fu'>::</span><span class='fu'><a href='https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html'>paged_table</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["currency"],"name":[1],"type":["fct"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"USD","2":"502"},{"1":"CAD","2":"27"},{"1":"Other","2":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<p>A single case of <code>currency</code> = “Other”:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey_data</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>currency</span> <span class='op'>==</span> <span class='st'>"Other"</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>annual_salary</span>, <span class='va'>other_monetary_comp</span>, <span class='va'>currency</span>, <span class='va'>currency_other</span>,
         <span class='va'>additional_context_on_income</span>, <span class='va'>country</span>, <span class='va'>state</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://pillar.r-lib.org/reference/glimpse.html'>glimpse</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Rows: 1
Columns: 7
$ annual_salary                &lt;dbl&gt; 135000
$ other_monetary_comp          &lt;dbl&gt; NA
$ currency                     &lt;fct&gt; Other
$ currency_other               &lt;chr&gt; &quot;USD&quot;
$ additional_context_on_income &lt;chr&gt; NA
$ country                      &lt;chr&gt; &quot;US&quot;
$ state                        &lt;chr&gt; &quot;Illinois&quot;</code></pre>
</div>
<p>Seems like they meant to put USD.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey_data</span> <span class='op'>&lt;-</span> <span class='va'>survey_data</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>currency <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>currency</span> <span class='op'>==</span> <span class='st'>"Other"</span>, <span class='st'>"USD"</span>, <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='va'>currency</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Distribution of <code>currency</code> by country:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey_data</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>currency</span>, <span class='va'>country_clean</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'>rmarkdown</span><span class='fu'>::</span><span class='fu'><a href='https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html'>paged_table</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["currency"],"name":[1],"type":["chr"],"align":["left"]},{"label":["country_clean"],"name":[2],"type":["chr"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"CAD","2":"Canada","3":"27"},{"1":"USD","2":"Canada","3":"1"},{"1":"USD","2":"USA","3":"502"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<p>A single case of someone in Canada being paid in USD:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey_data</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>currency</span> <span class='op'>==</span> <span class='st'>"USD"</span>, <span class='va'>country_clean</span> <span class='op'>==</span> <span class='st'>"Canada"</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://pillar.r-lib.org/reference/glimpse.html'>glimpse</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Rows: 1
Columns: 32
$ timestamp                                &lt;dttm&gt; 2021-04-28 15:31:11
$ how_old_are_you                          &lt;chr&gt; &quot;55-64&quot;
$ industry                                 &lt;chr&gt; &quot;Computing or Tech&quot;
$ job_title                                &lt;chr&gt; &quot;Senior Data Scien~
$ additional_context_on_job_title          &lt;chr&gt; NA
$ annual_salary                            &lt;dbl&gt; 170000
$ other_monetary_comp                      &lt;dbl&gt; 20000
$ currency                                 &lt;chr&gt; &quot;USD&quot;
$ currency_other                           &lt;chr&gt; NA
$ additional_context_on_income             &lt;chr&gt; NA
$ country                                  &lt;chr&gt; &quot;Canada&quot;
$ state                                    &lt;chr&gt; NA
$ city                                     &lt;chr&gt; &quot;Annapolis Valley&quot;
$ overall_years_of_professional_experience &lt;fct&gt; 41 years or more
$ years_of_experience_in_field             &lt;fct&gt; 41 years or more
$ highest_level_of_education_completed     &lt;fct&gt; &quot;Master&#39;s degree&quot;
$ gender                                   &lt;fct&gt; Man
$ race                                     &lt;chr&gt; &quot;White&quot;
$ survey_date                              &lt;date&gt; 2021-04-28
$ age_range                                &lt;fct&gt; 55-64
$ industry_factor                          &lt;fct&gt; &quot;Computing or Tech&quot;
$ country_clean                            &lt;chr&gt; &quot;Canada&quot;
$ total_salary                             &lt;dbl&gt; 190000
$ race_split                               &lt;list&gt; &quot;White&quot;
$ white                                    &lt;lgl&gt; TRUE
$ asian                                    &lt;lgl&gt; FALSE
$ black                                    &lt;lgl&gt; FALSE
$ hispanic_latino_spanish                  &lt;lgl&gt; FALSE
$ middle_eastern_northern_african          &lt;lgl&gt; FALSE
$ native_american_alaska                   &lt;lgl&gt; FALSE
$ other_na                                 &lt;lgl&gt; FALSE
$ job_title_factor                         &lt;fct&gt; Data scientist</code></pre>
</div>
<p>Since it is just the one case, I’ll convert their salary to CAD using today’s exchange rate:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey_data</span> <span class='op'>&lt;-</span> <span class='va'>survey_data</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>
    total_salary <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>currency</span> <span class='op'>==</span> <span class='st'>"USD"</span> <span class='op'>&amp;</span> <span class='va'>country_clean</span> <span class='op'>==</span> <span class='st'>"Canada"</span>,
                          <span class='va'>total_salary</span> <span class='op'>*</span> <span class='fl'>1.20</span>, <span class='va'>total_salary</span><span class='op'>)</span>,
    currency <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>currency</span> <span class='op'>==</span> <span class='st'>"USD"</span> <span class='op'>&amp;</span> <span class='va'>country_clean</span> <span class='op'>==</span> <span class='st'>"Canada"</span>,
                      <span class='st'>"CAD"</span>, <span class='va'>currency</span><span class='op'>)</span>
  <span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Check out <code>total_salary</code> distributions:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey_data</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>currency</span>, x <span class='op'>=</span> <span class='va'>total_salary</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_violin.html'>geom_violin</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>currency</span><span class='op'>)</span>, show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_log10</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='va'><a href='https://scales.r-lib.org/reference/label_dollar.html'>dollar</a></span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-42-1.png" width="624" /></p>
</div>
<p>Some pretty bad outliers here – inspect them:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey_data</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>total_salary</span> <span class='op'>&lt;</span> <span class='fl'>20000</span> <span class='op'>|</span> <span class='va'>total_salary</span> <span class='op'>&gt;</span> <span class='fl'>300000</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>job_title</span>, <span class='va'>additional_context_on_job_title</span>,
         <span class='va'>annual_salary</span>, <span class='va'>other_monetary_comp</span>, <span class='va'>total_salary</span>, <span class='va'>currency</span>,
         <span class='va'>additional_context_on_income</span>, <span class='va'>country_clean</span>, <span class='va'>city</span>,
         <span class='va'>highest_level_of_education_completed</span>, <span class='va'>age_range</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='va'>total_salary</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'>rmarkdown</span><span class='fu'>::</span><span class='fu'><a href='https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html'>paged_table</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["job_title"],"name":[1],"type":["chr"],"align":["left"]},{"label":["additional_context_on_job_title"],"name":[2],"type":["chr"],"align":["left"]},{"label":["annual_salary"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["other_monetary_comp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["total_salary"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["currency"],"name":[6],"type":["chr"],"align":["left"]},{"label":["additional_context_on_income"],"name":[7],"type":["chr"],"align":["left"]},{"label":["country_clean"],"name":[8],"type":["chr"],"align":["left"]},{"label":["city"],"name":[9],"type":["chr"],"align":["left"]},{"label":["highest_level_of_education_completed"],"name":[10],"type":["fct"],"align":["left"]},{"label":["age_range"],"name":[11],"type":["fct"],"align":["left"]}],"data":[{"1":"Chief Data Scientist","2":"NA","3":"130","4":"0","5":"130","6":"USD","7":"NA","8":"USA","9":"Santa Fe","10":"PhD","11":"25-34"},{"1":"Senior Data Scientist","2":"NA","3":"150","4":"0","5":"150","6":"USD","7":"equity options available","8":"USA","9":"Gainesville","10":"Master's degree","11":"25-34"},{"1":"Chief Data Scientist","2":"NA","3":"240","4":"100","5":"340","6":"USD","7":"Additional compensation is expected value of options.","8":"USA","9":"Oakland","10":"PhD","11":"25-34"},{"1":"Director of Library and Database Services","2":"I am a library director for a private all girls high school","3":"353200","4":"10290","5":"363490","6":"USD","7":"I receive additional stipends for teaching a class, coordinating a large event and a cash out from my benefits since I am on my husbands insurance.","8":"USA","9":"Baltimore","10":"Master's degree","11":"35-44"},{"1":"Data Science Manager","2":"NA","3":"220000","4":"150000","5":"370000","6":"USD","7":"40k of the additional amt is bonus the rest is stock comp","8":"USA","9":"New York","10":"Master's degree","11":"35-44"},{"1":"Data Scientist","2":"NA","3":"185000","4":"190000","5":"375000","6":"USD","7":"NA","8":"USA","9":"New York City","10":"College degree","11":"25-34"},{"1":"Data Scientist","2":"NA","3":"225000","4":"200000","5":"425000","6":"USD","7":"The \"additional\" is estimated approx annual value of stock, and fluctuates a lot. This is a successful company I joined slightly pre-IPO.","8":"USA","9":"San Francisco","10":"PhD","11":"25-34"},{"1":"Data Scientist","2":"NA","3":"220000","4":"800000","5":"1020000","6":"USD","7":"NA","8":"USA","9":"San Francisco","10":"Master's degree","11":"35-44"},{"1":"Manager of Data Science","2":"NA","3":"280000","4":"780000","5":"1060000","6":"USD","7":"NA","8":"USA","9":"Oakland","10":"PhD","11":"35-44"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<p>I’m almost certain that the 3 digit values are in thousands. The largest outliers come from <code>other_monetary_comp</code> and, from the <code>additional_context_on_income</code> column, it comes from options/stock I’ll just adjust the two cases where it puts <code>total_salary</code> over 1 million:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey_data</span> <span class='op'>&lt;-</span> <span class='va'>survey_data</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>
    total_salary <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>total_salary</span> <span class='op'>&lt;</span> <span class='fl'>1000</span>,
                          <span class='va'>total_salary</span> <span class='op'>*</span> <span class='fl'>1000</span>, <span class='va'>total_salary</span><span class='op'>)</span>,
    total_salary <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>total_salary</span> <span class='op'>&gt;</span> <span class='fl'>1000000</span>,
                          <span class='va'>annual_salary</span>, <span class='va'>total_salary</span><span class='op'>)</span>
  <span class='op'>)</span>
</code></pre>
</div>
</div>
<p>We still have a few people with <code>total_salary</code> &gt; $300k, but some are in expensive cities like NYC and San Francisco, so maybe it’s real.</p>
<p>Final processing step, dropping some variables and renaming others:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>survey_data</span> <span class='op'>&lt;-</span> <span class='va'>survey_data</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>transmute</a></span><span class='op'>(</span>
    <span class='va'>age_range</span>, industry <span class='op'>=</span> <span class='va'>industry_factor</span>,
    <span class='va'>job_title</span>, job_title_factor <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_inorder.html'>fct_infreq</a></span><span class='op'>(</span><span class='va'>job_title_factor</span><span class='op'>)</span>,
    country <span class='op'>=</span> <span class='va'>country_clean</span>, <span class='va'>state</span>, <span class='va'>city</span>,
    education <span class='op'>=</span> <span class='va'>highest_level_of_education_completed</span>,
    <span class='va'>total_salary</span>, <span class='va'>currency</span>,
    <span class='va'>gender</span>, <span class='va'>race_split</span>,
    <span class='co'># Add total salary in CAD and USD for comparing on the same scale</span>
    total_salary_cad <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>currency</span> <span class='op'>==</span> <span class='st'>"CAD"</span>, <span class='va'>total_salary</span>,
                              <span class='va'>total_salary</span> <span class='op'>*</span> <span class='fl'>1.20</span><span class='op'>)</span>,
    total_salary_usd <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>currency</span> <span class='op'>==</span> <span class='st'>"USD"</span>, <span class='va'>total_salary</span>,
                              <span class='va'>total_salary</span> <span class='op'>/</span> <span class='fl'>1.20</span><span class='op'>)</span>
  <span class='op'>)</span>
<span class='fu'><a href='https://pillar.r-lib.org/reference/glimpse.html'>glimpse</a></span><span class='op'>(</span><span class='va'>survey_data</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Rows: 530
Columns: 14
$ age_range        &lt;fct&gt; 25-34, 25-34, 35-44, 25-34, 18-24, 35-44, 2~
$ industry         &lt;fct&gt; &quot;Health care&quot;, &quot;Government and Public Admin~
$ job_title        &lt;chr&gt; &quot;Data Programmer Analyst&quot;, &quot;Manager of Data~
$ job_title_factor &lt;fct&gt; Data analyst, Director/manager/lead/coordin~
$ country          &lt;chr&gt; &quot;USA&quot;, &quot;USA&quot;, &quot;USA&quot;, &quot;USA&quot;, &quot;USA&quot;, &quot;USA&quot;, &quot;~
$ state            &lt;chr&gt; &quot;Pennsylvania&quot;, &quot;Virginia&quot;, &quot;North Carolina~
$ city             &lt;chr&gt; &quot;Philadelphia&quot;, &quot;Richmond&quot;, &quot;Raleigh&quot;, &quot;Chi~
$ education        &lt;fct&gt; &quot;Master&#39;s degree&quot;, &quot;College degree&quot;, &quot;Maste~
$ total_salary     &lt;dbl&gt; 74000, 65000, 80000, 100000, 62000, 195000,~
$ currency         &lt;chr&gt; &quot;USD&quot;, &quot;USD&quot;, &quot;USD&quot;, &quot;USD&quot;, &quot;USD&quot;, &quot;USD&quot;, &quot;~
$ gender           &lt;fct&gt; Woman, Man, Woman, Woman, Woman, Non-binary~
$ race_split       &lt;list&gt; &quot;White&quot;, &quot;White&quot;, &quot;White&quot;, &quot;White&quot;, &quot;White~
$ total_salary_cad &lt;dbl&gt; 88800.0, 78000.0, 96000.0, 120000.0, 74400.~
$ total_salary_usd &lt;dbl&gt; 74000.00, 65000.00, 80000.00, 100000.00, 62~</code></pre>
</div>
<p>530 respondents, which represents 2% of the full data. Distribution by <code>job_title</code> and <code>country</code>:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Canada red and USA blue</span>
<span class='va'>country_colors</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"#FF0000"</span>, <span class='st'>"#3B3B6D"</span><span class='op'>)</span>

<span class='va'>survey_data</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>country</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>country_n <span class='op'>=</span> <span class='fu'>glue</span><span class='fu'>::</span><span class='fu'><a href='https://glue.tidyverse.org/reference/glue.html'>glue</a></span><span class='op'>(</span><span class='st'>"{country} (n = {n()})"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>job_title_factor</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>country_n</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span><span class='st'>"Number of respondents"</span>, expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span><span class='cn'>NULL</span>, values <span class='op'>=</span> <span class='va'>country_colors</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.6</span>, <span class='fl'>0.7</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-46-1.png" width="624" /></p>
</div>
<h3 id="final-plot">Final plot</h3>
<p>Finally, plot the salaries by job title, ordered by sample size:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://wilkelab.org/ggtext/'>ggtext</a></span><span class='op'>)</span>
<span class='va'>p_subtitle</span> <span class='op'>&lt;-</span>
  <span class='fu'>glue</span><span class='fu'>::</span><span class='fu'><a href='https://glue.tidyverse.org/reference/glue.html'>glue</a></span><span class='op'>(</span>
    <span class='st'>"From &lt;span style='color:{country_colors[2]}; font-weight:bold'&gt;"</span>,
    <span class='st'>"{sum(survey_data$country == 'USA')} American&lt;/span&gt; and "</span>,
    <span class='st'>"&lt;span style='color:{country_colors[1]}; font-weight:bold'&gt;"</span>,
    <span class='st'>"{sum(survey_data$country == 'Canada')} Canadian&lt;/span&gt; "</span>,
    <span class='st'>"survey respondents"</span>
  <span class='op'>)</span>

<span class='va'>survey_data</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>add_count</a></span><span class='op'>(</span><span class='va'>job_title_factor</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>job_title_factor <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_reorder.html'>fct_reorder</a></span><span class='op'>(</span><span class='va'>job_title_factor</span>, <span class='va'>n</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://rdrr.io/pkg/tidytuesdayR/man/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>job_title_factor</span>, x <span class='op'>=</span> <span class='va'>total_salary_cad</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_boxplot.html'>geom_boxplot</a></span><span class='op'>(</span>outlier.shape <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_jitter.html'>geom_jitter</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='va'>country</span><span class='op'>)</span>, width <span class='op'>=</span> <span class='fl'>0</span>, height <span class='op'>=</span> <span class='fl'>0.25</span>,
              alpha <span class='op'>=</span> <span class='fl'>0.5</span>, show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Salary distributions by job title"</span>,
       subtitle <span class='op'>=</span> <span class='va'>p_subtitle</span>,
       caption <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"data from Ask a Manager | "</span>,
                        <span class='st'>"plot by @TDunn12 for #TidyTuesday"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span><span class='cn'>NULL</span>, values <span class='op'>=</span> <span class='va'>country_colors</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_log10</a></span><span class='op'>(</span><span class='st'>"Total salary in CAD (log scale)"</span>, labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='va'><a href='https://scales.r-lib.org/reference/label_dollar.html'>dollar</a></span>,
                breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>30000</span>, <span class='fl'>50000</span>, <span class='fl'>100000</span>, <span class='fl'>200000</span>, <span class='fl'>300000</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_discrete.html'>scale_y_discrete</a></span><span class='op'>(</span><span class='cn'>NULL</span>, labels <span class='op'>=</span> <span class='op'>~</span><span class='fu'><a href='https://stringr.tidyverse.org/reference/str_wrap.html'>str_wrap</a></span><span class='op'>(</span><span class='va'>.</span>, width <span class='op'>=</span> <span class='fl'>30</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>panel.grid.major.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"grey95"</span><span class='op'>)</span>,
        plot.subtitle <span class='op'>=</span> <span class='fu'><a href='https://wilkelab.org/ggtext/reference/element_markdown.html'>element_markdown</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="tidytuesday-2021-week-21_files/figure-html5/unnamed-chunk-47-1.png" width="624" data-distill-preview=1 /></p>
</div>
<h2 class="appendix" id="reproducibility">Reproducibility</h2>
<details>
<summary>
Session info
</summary>
<div class="layout-chunk" data-layout="l-body">
<pre><code> setting  value                       
 version  R version 4.1.3 (2022-03-10)
 os       Windows 10 x64              
 system   x86_64, mingw32             
 ui       RTerm                       
 language (EN)                        
 collate  English_Canada.1252         
 ctype    English_Canada.1252         
 tz       America/Curacao             
 date     2022-03-27                  </code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["package"],"name":[1],"type":["chr"],"align":["left"]},{"label":["ondiskversion"],"name":[2],"type":["chr"],"align":["left"]},{"label":["loadedversion"],"name":[3],"type":["chr"],"align":["left"]},{"label":["path"],"name":[4],"type":["chr"],"align":["left"]},{"label":["loadedpath"],"name":[5],"type":["chr"],"align":["left"]},{"label":["attached"],"name":[6],"type":["lgl"],"align":["right"]},{"label":["is_base"],"name":[7],"type":["lgl"],"align":["right"]},{"label":["date"],"name":[8],"type":["chr"],"align":["left"]},{"label":["source"],"name":[9],"type":["chr"],"align":["left"]},{"label":["md5ok"],"name":[10],"type":["lgl"],"align":["right"]},{"label":["library"],"name":[11],"type":["fct"],"align":["left"]}],"data":[{"1":"assertthat","2":"0.2.1","3":"0.2.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/assertthat","5":"C:/Users/tdunn/Documents/R/win-library/4.1/assertthat","6":"FALSE","7":"FALSE","8":"2019-03-21","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"assertthat"},{"1":"backports","2":"1.2.1","3":"1.2.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/backports","5":"C:/Users/tdunn/Documents/R/win-library/4.1/backports","6":"FALSE","7":"FALSE","8":"2020-12-09","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"backports"},{"1":"bit","2":"4.0.4","3":"4.0.4","4":"C:/Users/tdunn/Documents/R/win-library/4.1/bit","5":"C:/Users/tdunn/Documents/R/win-library/4.1/bit","6":"FALSE","7":"FALSE","8":"2020-08-04","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"bit"},{"1":"bit64","2":"4.0.5","3":"4.0.5","4":"C:/Users/tdunn/Documents/R/win-library/4.1/bit64","5":"C:/Users/tdunn/Documents/R/win-library/4.1/bit64","6":"FALSE","7":"FALSE","8":"2020-08-30","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"bit64"},{"1":"broom","2":"0.7.10","3":"0.7.10","4":"C:/Users/tdunn/Documents/R/win-library/4.1/broom","5":"C:/Users/tdunn/Documents/R/win-library/4.1/broom","6":"FALSE","7":"FALSE","8":"2021-10-31","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"broom"},{"1":"bslib","2":"0.2.5.1","3":"0.2.5.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/bslib","5":"C:/Users/tdunn/Documents/R/win-library/4.1/bslib","6":"FALSE","7":"FALSE","8":"2021-05-18","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"bslib"},{"1":"cachem","2":"1.0.6","3":"1.0.6","4":"C:/Users/tdunn/Documents/R/win-library/4.1/cachem","5":"C:/Users/tdunn/Documents/R/win-library/4.1/cachem","6":"FALSE","7":"FALSE","8":"2021-08-19","9":"CRAN (R 4.1.1)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"cachem"},{"1":"callr","2":"3.7.0","3":"3.7.0","4":"C:/Users/tdunn/Documents/R/win-library/4.1/callr","5":"C:/Users/tdunn/Documents/R/win-library/4.1/callr","6":"FALSE","7":"FALSE","8":"2021-04-20","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"callr"},{"1":"cellranger","2":"1.1.0","3":"1.1.0","4":"C:/Users/tdunn/Documents/R/win-library/4.1/cellranger","5":"C:/Users/tdunn/Documents/R/win-library/4.1/cellranger","6":"FALSE","7":"FALSE","8":"2016-07-27","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"cellranger"},{"1":"checkmate","2":"2.0.0","3":"2.0.0","4":"C:/Users/tdunn/Documents/R/win-library/4.1/checkmate","5":"C:/Users/tdunn/Documents/R/win-library/4.1/checkmate","6":"FALSE","7":"FALSE","8":"2020-02-06","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"checkmate"},{"1":"cli","2":"3.1.1","3":"3.1.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/cli","5":"C:/Users/tdunn/Documents/R/win-library/4.1/cli","6":"FALSE","7":"FALSE","8":"2022-01-20","9":"CRAN (R 4.1.2)","10":"NA","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"cli"},{"1":"colorspace","2":"2.0.2","3":"2.0-2","4":"C:/Users/tdunn/Documents/R/win-library/4.1/colorspace","5":"C:/Users/tdunn/Documents/R/win-library/4.1/colorspace","6":"FALSE","7":"FALSE","8":"2021-06-24","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"colorspace"},{"1":"crayon","2":"1.4.2","3":"1.4.2","4":"C:/Users/tdunn/Documents/R/win-library/4.1/crayon","5":"C:/Users/tdunn/Documents/R/win-library/4.1/crayon","6":"FALSE","7":"FALSE","8":"2021-10-29","9":"CRAN (R 4.1.1)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"crayon"},{"1":"curl","2":"4.3.2","3":"4.3.2","4":"C:/Users/tdunn/Documents/R/win-library/4.1/curl","5":"C:/Users/tdunn/Documents/R/win-library/4.1/curl","6":"FALSE","7":"FALSE","8":"2021-06-23","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"curl"},{"1":"DBI","2":"1.1.2","3":"1.1.2","4":"C:/Users/tdunn/Documents/R/win-library/4.1/DBI","5":"C:/Users/tdunn/Documents/R/win-library/4.1/DBI","6":"FALSE","7":"FALSE","8":"2021-12-20","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"DBI"},{"1":"dbplyr","2":"2.1.1","3":"2.1.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/dbplyr","5":"C:/Users/tdunn/Documents/R/win-library/4.1/dbplyr","6":"FALSE","7":"FALSE","8":"2021-04-06","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"dbplyr"},{"1":"desc","2":"1.4.0","3":"1.4.0","4":"C:/Users/tdunn/Documents/R/win-library/4.1/desc","5":"C:/Users/tdunn/Documents/R/win-library/4.1/desc","6":"FALSE","7":"FALSE","8":"2021-09-28","9":"CRAN (R 4.1.1)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"desc"},{"1":"devtools","2":"2.4.3","3":"2.4.3","4":"C:/Users/tdunn/Documents/R/win-library/4.1/devtools","5":"C:/Users/tdunn/Documents/R/win-library/4.1/devtools","6":"FALSE","7":"FALSE","8":"2021-11-30","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"devtools"},{"1":"digest","2":"0.6.29","3":"0.6.29","4":"C:/Users/tdunn/Documents/R/win-library/4.1/digest","5":"C:/Users/tdunn/Documents/R/win-library/4.1/digest","6":"FALSE","7":"FALSE","8":"2021-12-01","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"digest"},{"1":"distill","2":"1.3","3":"1.3","4":"C:/Users/tdunn/Documents/R/win-library/4.1/distill","5":"C:/Users/tdunn/Documents/R/win-library/4.1/distill","6":"FALSE","7":"FALSE","8":"2021-10-13","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"distill"},{"1":"downlit","2":"0.4.0","3":"0.4.0","4":"C:/Users/tdunn/Documents/R/win-library/4.1/downlit","5":"C:/Users/tdunn/Documents/R/win-library/4.1/downlit","6":"FALSE","7":"FALSE","8":"2021-10-29","9":"CRAN (R 4.1.1)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"downlit"},{"1":"dplyr","2":"1.0.7","3":"1.0.7","4":"C:/Users/tdunn/Documents/R/win-library/4.1/dplyr","5":"C:/Users/tdunn/Documents/R/win-library/4.1/dplyr","6":"TRUE","7":"FALSE","8":"2021-06-18","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"dplyr"},{"1":"dunnr","2":"0.2.5","3":"0.2.5","4":"C:/Users/tdunn/Documents/R/win-library/4.1/dunnr","5":"C:/Users/tdunn/Documents/R/win-library/4.1/dunnr","6":"TRUE","7":"FALSE","8":"2022-01-15","9":"Github (taylordunn/dunnr@c83b30e)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"dunnr"},{"1":"ellipsis","2":"0.3.2","3":"0.3.2","4":"C:/Users/tdunn/Documents/R/win-library/4.1/ellipsis","5":"C:/Users/tdunn/Documents/R/win-library/4.1/ellipsis","6":"FALSE","7":"FALSE","8":"2021-04-29","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"ellipsis"},{"1":"evaluate","2":"0.14","3":"0.14","4":"C:/Users/tdunn/Documents/R/win-library/4.1/evaluate","5":"C:/Users/tdunn/Documents/R/win-library/4.1/evaluate","6":"FALSE","7":"FALSE","8":"2019-05-28","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"evaluate"},{"1":"extrafont","2":"0.17","3":"0.17","4":"C:/Users/tdunn/Documents/R/win-library/4.1/extrafont","5":"C:/Users/tdunn/Documents/R/win-library/4.1/extrafont","6":"FALSE","7":"FALSE","8":"2014-12-08","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"extrafont"},{"1":"extrafontdb","2":"1.0","3":"1.0","4":"C:/Users/tdunn/Documents/R/win-library/4.1/extrafontdb","5":"C:/Users/tdunn/Documents/R/win-library/4.1/extrafontdb","6":"FALSE","7":"FALSE","8":"2012-06-11","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"extrafontdb"},{"1":"fansi","2":"1.0.2","3":"1.0.2","4":"C:/Users/tdunn/Documents/R/win-library/4.1/fansi","5":"C:/Users/tdunn/Documents/R/win-library/4.1/fansi","6":"FALSE","7":"FALSE","8":"2022-01-14","9":"CRAN (R 4.1.2)","10":"NA","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"fansi"},{"1":"farver","2":"2.1.0","3":"2.1.0","4":"C:/Users/tdunn/Documents/R/win-library/4.1/farver","5":"C:/Users/tdunn/Documents/R/win-library/4.1/farver","6":"FALSE","7":"FALSE","8":"2021-02-28","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"farver"},{"1":"fastmap","2":"1.1.0","3":"1.1.0","4":"C:/Users/tdunn/Documents/R/win-library/4.1/fastmap","5":"C:/Users/tdunn/Documents/R/win-library/4.1/fastmap","6":"FALSE","7":"FALSE","8":"2021-01-25","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"fastmap"},{"1":"forcats","2":"0.5.1","3":"0.5.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/forcats","5":"C:/Users/tdunn/Documents/R/win-library/4.1/forcats","6":"TRUE","7":"FALSE","8":"2021-01-27","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"forcats"},{"1":"fs","2":"1.5.2","3":"1.5.2","4":"C:/Users/tdunn/Documents/R/win-library/4.1/fs","5":"C:/Users/tdunn/Documents/R/win-library/4.1/fs","6":"FALSE","7":"FALSE","8":"2021-12-08","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"fs"},{"1":"generics","2":"0.1.1","3":"0.1.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/generics","5":"C:/Users/tdunn/Documents/R/win-library/4.1/generics","6":"FALSE","7":"FALSE","8":"2021-10-25","9":"CRAN (R 4.1.1)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"generics"},{"1":"ggplot2","2":"3.3.5","3":"3.3.5","4":"C:/Users/tdunn/Documents/R/win-library/4.1/ggplot2","5":"C:/Users/tdunn/Documents/R/win-library/4.1/ggplot2","6":"TRUE","7":"FALSE","8":"2021-06-25","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"ggplot2"},{"1":"ggrepel","2":"0.9.1","3":"0.9.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/ggrepel","5":"C:/Users/tdunn/Documents/R/win-library/4.1/ggrepel","6":"FALSE","7":"FALSE","8":"2021-01-15","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"ggrepel"},{"1":"ggtext","2":"0.1.1","3":"0.1.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/ggtext","5":"C:/Users/tdunn/Documents/R/win-library/4.1/ggtext","6":"TRUE","7":"FALSE","8":"2020-12-17","9":"CRAN (R 4.1.1)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"ggtext"},{"1":"glue","2":"1.6.0","3":"1.6.0","4":"C:/Users/tdunn/Documents/R/win-library/4.1/glue","5":"C:/Users/tdunn/Documents/R/win-library/4.1/glue","6":"FALSE","7":"FALSE","8":"2021-12-17","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"glue"},{"1":"gridtext","2":"0.1.4","3":"0.1.4","4":"C:/Users/tdunn/Documents/R/win-library/4.1/gridtext","5":"C:/Users/tdunn/Documents/R/win-library/4.1/gridtext","6":"FALSE","7":"FALSE","8":"2020-12-10","9":"CRAN (R 4.1.1)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"gridtext"},{"1":"gt","2":"0.3.1","3":"0.3.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/gt","5":"C:/Users/tdunn/Documents/R/win-library/4.1/gt","6":"TRUE","7":"FALSE","8":"2021-08-07","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"gt"},{"1":"gtable","2":"0.3.0","3":"0.3.0","4":"C:/Users/tdunn/Documents/R/win-library/4.1/gtable","5":"C:/Users/tdunn/Documents/R/win-library/4.1/gtable","6":"FALSE","7":"FALSE","8":"2019-03-25","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"gtable"},{"1":"haven","2":"2.4.1","3":"2.4.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/haven","5":"C:/Users/tdunn/Documents/R/win-library/4.1/haven","6":"FALSE","7":"FALSE","8":"2021-04-23","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"haven"},{"1":"highr","2":"0.9","3":"0.9","4":"C:/Users/tdunn/Documents/R/win-library/4.1/highr","5":"C:/Users/tdunn/Documents/R/win-library/4.1/highr","6":"FALSE","7":"FALSE","8":"2021-04-16","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"highr"},{"1":"hms","2":"1.1.1","3":"1.1.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/hms","5":"C:/Users/tdunn/Documents/R/win-library/4.1/hms","6":"FALSE","7":"FALSE","8":"2021-09-26","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"hms"},{"1":"htmltools","2":"0.5.2","3":"0.5.2","4":"C:/Users/tdunn/Documents/R/win-library/4.1/htmltools","5":"C:/Users/tdunn/Documents/R/win-library/4.1/htmltools","6":"FALSE","7":"FALSE","8":"2021-08-25","9":"CRAN (R 4.1.1)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"htmltools"},{"1":"httr","2":"1.4.2","3":"1.4.2","4":"C:/Users/tdunn/Documents/R/win-library/4.1/httr","5":"C:/Users/tdunn/Documents/R/win-library/4.1/httr","6":"FALSE","7":"FALSE","8":"2020-07-20","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"httr"},{"1":"jquerylib","2":"0.1.4","3":"0.1.4","4":"C:/Users/tdunn/Documents/R/win-library/4.1/jquerylib","5":"C:/Users/tdunn/Documents/R/win-library/4.1/jquerylib","6":"FALSE","7":"FALSE","8":"2021-04-26","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"jquerylib"},{"1":"jsonlite","2":"1.7.3","3":"1.7.3","4":"C:/Users/tdunn/Documents/R/win-library/4.1/jsonlite","5":"C:/Users/tdunn/Documents/R/win-library/4.1/jsonlite","6":"FALSE","7":"FALSE","8":"2022-01-17","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"jsonlite"},{"1":"knitr","2":"1.37","3":"1.37","4":"C:/Users/tdunn/Documents/R/win-library/4.1/knitr","5":"C:/Users/tdunn/Documents/R/win-library/4.1/knitr","6":"FALSE","7":"FALSE","8":"2021-12-16","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"knitr"},{"1":"labeling","2":"0.4.2","3":"0.4.2","4":"C:/Users/tdunn/Documents/R/win-library/4.1/labeling","5":"C:/Users/tdunn/Documents/R/win-library/4.1/labeling","6":"FALSE","7":"FALSE","8":"2020-10-20","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"labeling"},{"1":"lifecycle","2":"1.0.1","3":"1.0.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/lifecycle","5":"C:/Users/tdunn/Documents/R/win-library/4.1/lifecycle","6":"FALSE","7":"FALSE","8":"2021-09-24","9":"CRAN (R 4.1.1)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"lifecycle"},{"1":"lubridate","2":"1.8.0","3":"1.8.0","4":"C:/Users/tdunn/Documents/R/win-library/4.1/lubridate","5":"C:/Users/tdunn/Documents/R/win-library/4.1/lubridate","6":"TRUE","7":"FALSE","8":"2021-10-07","9":"CRAN (R 4.1.1)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"lubridate"},{"1":"magrittr","2":"2.0.1","3":"2.0.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/magrittr","5":"C:/Users/tdunn/Documents/R/win-library/4.1/magrittr","6":"FALSE","7":"FALSE","8":"2020-11-17","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"magrittr"},{"1":"markdown","2":"1.1","3":"1.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/markdown","5":"C:/Users/tdunn/Documents/R/win-library/4.1/markdown","6":"FALSE","7":"FALSE","8":"2019-08-07","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"markdown"},{"1":"memoise","2":"2.0.1","3":"2.0.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/memoise","5":"C:/Users/tdunn/Documents/R/win-library/4.1/memoise","6":"FALSE","7":"FALSE","8":"2021-11-26","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"memoise"},{"1":"modelr","2":"0.1.8","3":"0.1.8","4":"C:/Users/tdunn/Documents/R/win-library/4.1/modelr","5":"C:/Users/tdunn/Documents/R/win-library/4.1/modelr","6":"FALSE","7":"FALSE","8":"2020-05-19","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"modelr"},{"1":"munsell","2":"0.5.0","3":"0.5.0","4":"C:/Users/tdunn/Documents/R/win-library/4.1/munsell","5":"C:/Users/tdunn/Documents/R/win-library/4.1/munsell","6":"FALSE","7":"FALSE","8":"2018-06-12","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"munsell"},{"1":"pillar","2":"1.7.0","3":"1.7.0","4":"C:/Users/tdunn/Documents/R/win-library/4.1/pillar","5":"C:/Users/tdunn/Documents/R/win-library/4.1/pillar","6":"FALSE","7":"FALSE","8":"2022-02-01","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"pillar"},{"1":"pkgbuild","2":"1.2.0","3":"1.2.0","4":"C:/Users/tdunn/Documents/R/win-library/4.1/pkgbuild","5":"C:/Users/tdunn/Documents/R/win-library/4.1/pkgbuild","6":"FALSE","7":"FALSE","8":"2020-12-15","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"pkgbuild"},{"1":"pkgconfig","2":"2.0.3","3":"2.0.3","4":"C:/Users/tdunn/Documents/R/win-library/4.1/pkgconfig","5":"C:/Users/tdunn/Documents/R/win-library/4.1/pkgconfig","6":"FALSE","7":"FALSE","8":"2019-09-22","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"pkgconfig"},{"1":"pkgload","2":"1.2.1","3":"1.2.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/pkgload","5":"C:/Users/tdunn/Documents/R/win-library/4.1/pkgload","6":"FALSE","7":"FALSE","8":"2021-04-06","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"pkgload"},{"1":"prettyunits","2":"1.1.1","3":"1.1.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/prettyunits","5":"C:/Users/tdunn/Documents/R/win-library/4.1/prettyunits","6":"FALSE","7":"FALSE","8":"2020-01-24","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"prettyunits"},{"1":"processx","2":"3.5.2","3":"3.5.2","4":"C:/Users/tdunn/Documents/R/win-library/4.1/processx","5":"C:/Users/tdunn/Documents/R/win-library/4.1/processx","6":"FALSE","7":"FALSE","8":"2021-04-30","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"processx"},{"1":"ps","2":"1.6.0","3":"1.6.0","4":"C:/Users/tdunn/Documents/R/win-library/4.1/ps","5":"C:/Users/tdunn/Documents/R/win-library/4.1/ps","6":"FALSE","7":"FALSE","8":"2021-02-28","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"ps"},{"1":"purrr","2":"0.3.4","3":"0.3.4","4":"C:/Users/tdunn/Documents/R/win-library/4.1/purrr","5":"C:/Users/tdunn/Documents/R/win-library/4.1/purrr","6":"TRUE","7":"FALSE","8":"2020-04-17","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"purrr"},{"1":"R6","2":"2.5.1","3":"2.5.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/R6","5":"C:/Users/tdunn/Documents/R/win-library/4.1/R6","6":"FALSE","7":"FALSE","8":"2021-08-19","9":"CRAN (R 4.1.1)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"R6"},{"1":"Rcpp","2":"1.0.8","3":"1.0.8","4":"C:/Users/tdunn/Documents/R/win-library/4.1/Rcpp","5":"C:/Users/tdunn/Documents/R/win-library/4.1/Rcpp","6":"FALSE","7":"FALSE","8":"2022-01-13","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"Rcpp"},{"1":"readr","2":"2.1.1","3":"2.1.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/readr","5":"C:/Users/tdunn/Documents/R/win-library/4.1/readr","6":"TRUE","7":"FALSE","8":"2021-11-30","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"readr"},{"1":"readxl","2":"1.3.1","3":"1.3.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/readxl","5":"C:/Users/tdunn/Documents/R/win-library/4.1/readxl","6":"FALSE","7":"FALSE","8":"2019-03-13","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"readxl"},{"1":"remotes","2":"2.4.2","3":"2.4.2","4":"C:/Users/tdunn/Documents/R/win-library/4.1/remotes","5":"C:/Users/tdunn/Documents/R/win-library/4.1/remotes","6":"FALSE","7":"FALSE","8":"2021-11-30","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"remotes"},{"1":"reprex","2":"2.0.0","3":"2.0.0","4":"C:/Users/tdunn/Documents/R/win-library/4.1/reprex","5":"C:/Users/tdunn/Documents/R/win-library/4.1/reprex","6":"FALSE","7":"FALSE","8":"2021-04-02","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"reprex"},{"1":"rlang","2":"0.4.12","3":"0.4.12","4":"C:/Users/tdunn/Documents/R/win-library/4.1/rlang","5":"C:/Users/tdunn/Documents/R/win-library/4.1/rlang","6":"FALSE","7":"FALSE","8":"2021-10-18","9":"CRAN (R 4.1.1)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"rlang"},{"1":"rmarkdown","2":"2.11","3":"2.11","4":"C:/Users/tdunn/Documents/R/win-library/4.1/rmarkdown","5":"C:/Users/tdunn/Documents/R/win-library/4.1/rmarkdown","6":"FALSE","7":"FALSE","8":"2021-09-14","9":"CRAN (R 4.1.1)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"rmarkdown"},{"1":"rprojroot","2":"2.0.2","3":"2.0.2","4":"C:/Users/tdunn/Documents/R/win-library/4.1/rprojroot","5":"C:/Users/tdunn/Documents/R/win-library/4.1/rprojroot","6":"FALSE","7":"FALSE","8":"2020-11-15","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"rprojroot"},{"1":"rstudioapi","2":"0.13","3":"0.13","4":"C:/Users/tdunn/Documents/R/win-library/4.1/rstudioapi","5":"C:/Users/tdunn/Documents/R/win-library/4.1/rstudioapi","6":"FALSE","7":"FALSE","8":"2020-11-12","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"rstudioapi"},{"1":"Rttf2pt1","2":"1.3.8","3":"1.3.8","4":"C:/Users/tdunn/Documents/R/win-library/4.1/Rttf2pt1","5":"C:/Users/tdunn/Documents/R/win-library/4.1/Rttf2pt1","6":"FALSE","7":"FALSE","8":"2020-01-10","9":"CRAN (R 4.1.1)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"Rttf2pt1"},{"1":"rvest","2":"1.0.0","3":"1.0.0","4":"C:/Users/tdunn/Documents/R/win-library/4.1/rvest","5":"C:/Users/tdunn/Documents/R/win-library/4.1/rvest","6":"FALSE","7":"FALSE","8":"2021-03-09","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"rvest"},{"1":"sass","2":"0.4.0","3":"0.4.0","4":"C:/Users/tdunn/Documents/R/win-library/4.1/sass","5":"C:/Users/tdunn/Documents/R/win-library/4.1/sass","6":"FALSE","7":"FALSE","8":"2021-05-12","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"sass"},{"1":"scales","2":"1.1.1","3":"1.1.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/scales","5":"C:/Users/tdunn/Documents/R/win-library/4.1/scales","6":"FALSE","7":"FALSE","8":"2020-05-11","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"scales"},{"1":"selectr","2":"0.4.2","3":"0.4-2","4":"C:/Users/tdunn/Documents/R/win-library/4.1/selectr","5":"C:/Users/tdunn/Documents/R/win-library/4.1/selectr","6":"FALSE","7":"FALSE","8":"2019-11-20","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"selectr"},{"1":"sessioninfo","2":"1.1.1","3":"1.1.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/sessioninfo","5":"C:/Users/tdunn/Documents/R/win-library/4.1/sessioninfo","6":"FALSE","7":"FALSE","8":"2018-11-05","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"sessioninfo"},{"1":"stringi","2":"1.7.6","3":"1.7.6","4":"C:/Users/tdunn/Documents/R/win-library/4.1/stringi","5":"C:/Users/tdunn/Documents/R/win-library/4.1/stringi","6":"FALSE","7":"FALSE","8":"2021-11-29","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"stringi"},{"1":"stringr","2":"1.4.0","3":"1.4.0","4":"C:/Users/tdunn/Documents/R/win-library/4.1/stringr","5":"C:/Users/tdunn/Documents/R/win-library/4.1/stringr","6":"TRUE","7":"FALSE","8":"2019-02-10","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"stringr"},{"1":"testthat","2":"3.1.1","3":"3.1.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/testthat","5":"C:/Users/tdunn/Documents/R/win-library/4.1/testthat","6":"FALSE","7":"FALSE","8":"2021-12-03","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"testthat"},{"1":"tibble","2":"3.1.6","3":"3.1.6","4":"C:/Users/tdunn/Documents/R/win-library/4.1/tibble","5":"C:/Users/tdunn/Documents/R/win-library/4.1/tibble","6":"TRUE","7":"FALSE","8":"2021-11-07","9":"CRAN (R 4.1.1)","10":"NA","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"tibble"},{"1":"tidyr","2":"1.1.4","3":"1.1.4","4":"C:/Users/tdunn/Documents/R/win-library/4.1/tidyr","5":"C:/Users/tdunn/Documents/R/win-library/4.1/tidyr","6":"TRUE","7":"FALSE","8":"2021-09-27","9":"CRAN (R 4.1.1)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"tidyr"},{"1":"tidyselect","2":"1.1.1","3":"1.1.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/tidyselect","5":"C:/Users/tdunn/Documents/R/win-library/4.1/tidyselect","6":"FALSE","7":"FALSE","8":"2021-04-30","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"tidyselect"},{"1":"tidytuesdayR","2":"1.0.1","3":"1.0.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/tidytuesdayR","5":"C:/Users/tdunn/Documents/R/win-library/4.1/tidytuesdayR","6":"TRUE","7":"FALSE","8":"2020-07-10","9":"CRAN (R 4.1.1)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"tidytuesdayR"},{"1":"tidyverse","2":"1.3.1","3":"1.3.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/tidyverse","5":"C:/Users/tdunn/Documents/R/win-library/4.1/tidyverse","6":"TRUE","7":"FALSE","8":"2021-04-15","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"tidyverse"},{"1":"tzdb","2":"0.2.0","3":"0.2.0","4":"C:/Users/tdunn/Documents/R/win-library/4.1/tzdb","5":"C:/Users/tdunn/Documents/R/win-library/4.1/tzdb","6":"FALSE","7":"FALSE","8":"2021-10-27","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"tzdb"},{"1":"usethis","2":"2.1.5","3":"2.1.5","4":"C:/Users/tdunn/Documents/R/win-library/4.1/usethis","5":"C:/Users/tdunn/Documents/R/win-library/4.1/usethis","6":"FALSE","7":"FALSE","8":"2021-12-09","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"usethis"},{"1":"utf8","2":"1.2.2","3":"1.2.2","4":"C:/Users/tdunn/Documents/R/win-library/4.1/utf8","5":"C:/Users/tdunn/Documents/R/win-library/4.1/utf8","6":"FALSE","7":"FALSE","8":"2021-07-24","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"utf8"},{"1":"vctrs","2":"0.3.8","3":"0.3.8","4":"C:/Users/tdunn/Documents/R/win-library/4.1/vctrs","5":"C:/Users/tdunn/Documents/R/win-library/4.1/vctrs","6":"FALSE","7":"FALSE","8":"2021-04-29","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"vctrs"},{"1":"viridisLite","2":"0.4.0","3":"0.4.0","4":"C:/Users/tdunn/Documents/R/win-library/4.1/viridisLite","5":"C:/Users/tdunn/Documents/R/win-library/4.1/viridisLite","6":"FALSE","7":"FALSE","8":"2021-04-13","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"viridisLite"},{"1":"vroom","2":"1.5.7","3":"1.5.7","4":"C:/Users/tdunn/Documents/R/win-library/4.1/vroom","5":"C:/Users/tdunn/Documents/R/win-library/4.1/vroom","6":"FALSE","7":"FALSE","8":"2021-11-30","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"vroom"},{"1":"withr","2":"2.4.3","3":"2.4.3","4":"C:/Users/tdunn/Documents/R/win-library/4.1/withr","5":"C:/Users/tdunn/Documents/R/win-library/4.1/withr","6":"FALSE","7":"FALSE","8":"2021-11-30","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"withr"},{"1":"xfun","2":"0.29","3":"0.29","4":"C:/Users/tdunn/Documents/R/win-library/4.1/xfun","5":"C:/Users/tdunn/Documents/R/win-library/4.1/xfun","6":"FALSE","7":"FALSE","8":"2021-12-14","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"xfun"},{"1":"xml2","2":"1.3.3","3":"1.3.3","4":"C:/Users/tdunn/Documents/R/win-library/4.1/xml2","5":"C:/Users/tdunn/Documents/R/win-library/4.1/xml2","6":"FALSE","7":"FALSE","8":"2021-11-30","9":"CRAN (R 4.1.2)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"xml2"},{"1":"yaml","2":"2.2.1","3":"2.2.1","4":"C:/Users/tdunn/Documents/R/win-library/4.1/yaml","5":"C:/Users/tdunn/Documents/R/win-library/4.1/yaml","6":"FALSE","7":"FALSE","8":"2020-02-01","9":"CRAN (R 4.1.0)","10":"TRUE","11":"C:/Users/tdunn/Documents/R/win-library/4.1","_rn_":"yaml"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</details>
<details>
<summary>
Git repository
</summary>
<div class="layout-chunk" data-layout="l-body">
<pre><code>Local:    main C:/Users/tdunn/Documents/tdunn
Remote:   main @ origin (https://github.com/taylordunn/tdunn)
Head:     [451ff9b] 2022-03-27: Rebuild site</code></pre>
</div>
</details>
<div class="layout-chunk" data-layout="l-body">
<p><a href="https://github.com/taylordunn/tdunn/tree/main/_posts/2021-05-18-tidytuesday-2021-week-21">Source code</a></p>
</div>
<div class="sourceCode" id="cb9"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
  <h3 id="citation">Citation</h3>
  <p>For attribution, please cite this work as</p>
  <pre class="citation-appendix short">Dunn (2021, May 18). tdunn: TidyTuesday 2021 Week 21. Retrieved from https://tdunn.ca/posts/2021-05-18-tidytuesday-2021-week-21/</pre>
  <p>BibTeX citation</p>
  <pre class="citation-appendix long">@misc{dunn2021tidytuesday,
  author = {Dunn, Taylor},
  title = {tdunn: TidyTuesday 2021 Week 21},
  url = {https://tdunn.ca/posts/2021-05-18-tidytuesday-2021-week-21/},
  year = {2021}
}</pre>
</div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
