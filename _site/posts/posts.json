[
  {
    "path": "posts/2021-05-18-tidytuesday-week-21/",
    "title": "TidyTuesday Week 21",
    "description": "#TidyTuesday 2021-05-18: Ask a Manager Salary Survey",
    "author": [
      {
        "name": "Taylor Dunn",
        "url": {}
      }
    ],
    "date": "2021-05-18",
    "categories": [
      "tidytuesday"
    ],
    "contents": "\r\n\r\nContents\r\nLoad the data\r\nExplore the data\r\nAnalysis\r\n\r\n\r\n\r\nknitr::opts_chunk$set(echo = TRUE)\r\nlibrary(tidyverse)\r\nlibrary(tidytuesdayR)\r\nlibrary(lubridate)\r\nlibrary(gt)\r\nlibrary(dunnr)\r\nextrafont::loadfonts(device = \"win\", quiet = TRUE)\r\ntheme_set(theme_td())\r\nset_geom_fonts()\r\nset_palette()\r\n\r\n\r\n\r\nLoad the data\r\n\r\n\r\ntt <- tt_load(\"2021-05-18\")\r\n\r\n\r\n\r\n    Downloading file 1 of 1: `survey.csv`\r\n\r\nThe data this week comes from the Ask a Manager Survey. From the README:\r\n\r\nThe salary survey a few weeks ago got a huge response — 24,000+ people shared their salaries and other info, which is a lot of raw data to sift through. Reader Elisabeth Engl kindly took the raw data and analyzed some of the trends in it and here’s what she found. (She asked me to note that she did this as a fun project to share some insights from the survey, rather than as a paid engagement.)\r\nThis data does not reflect the general population; it reflects Ask a Manager readers who self-selected to respond, which is a very different group (as you can see just from the demographic breakdown below, which is very white and very female).\r\n\r\nExplore the data\r\nIt comes with just the single dataframe:\r\n\r\n\r\nsurvey <- tt$survey\r\nglimpse(survey)\r\n\r\n\r\nRows: 26,232\r\nColumns: 18\r\n$ timestamp                                <chr> \"4/27/2021 11:02:10~\r\n$ how_old_are_you                          <chr> \"25-34\", \"25-34\", \"~\r\n$ industry                                 <chr> \"Education (Higher ~\r\n$ job_title                                <chr> \"Research and Instr~\r\n$ additional_context_on_job_title          <chr> NA, NA, NA, NA, NA,~\r\n$ annual_salary                            <dbl> 55000, 54600, 34000~\r\n$ other_monetary_comp                      <chr> \"0\", \"4000\", NA, \"3~\r\n$ currency                                 <chr> \"USD\", \"GBP\", \"USD\"~\r\n$ currency_other                           <chr> NA, NA, NA, NA, NA,~\r\n$ additional_context_on_income             <chr> NA, NA, NA, NA, NA,~\r\n$ country                                  <chr> \"United States\", \"U~\r\n$ state                                    <chr> \"Massachusetts\", NA~\r\n$ city                                     <chr> \"Boston\", \"Cambridg~\r\n$ overall_years_of_professional_experience <chr> \"5-7 years\", \"8 - 1~\r\n$ years_of_experience_in_field             <chr> \"5-7 years\", \"5-7 y~\r\n$ highest_level_of_education_completed     <chr> \"Master's degree\", ~\r\n$ gender                                   <chr> \"Woman\", \"Non-binar~\r\n$ race                                     <chr> \"White\", \"White\", \"~\r\n\r\nLooks like each row corresponds to a single survey. 26232 survey responses is really impressive. Here is how those were gathered over time:\r\n\r\n\r\n# Convert character timestamp to a datetime object so we can plot it\r\nsurvey <- survey %>%\r\n  mutate(\r\n    timestamp = lubridate::parse_date_time(timestamp, orders = \"mdy HMS\"),\r\n    survey_date = as.Date(timestamp)\r\n  )\r\nsurvey %>%\r\n  ggplot(aes(x = survey_date)) +\r\n  geom_bar(fill = td_colors$nice$day9_yellow, alpha = 0.6) +\r\n  scale_y_continuous(expand = expansion(c(0, 0.07))) +\r\n  scale_x_date(breaks = seq.Date(as.Date(\"2021-05-01\"),\r\n                                 as.Date(\"2021-06-01\"), by = \"week\"))\r\n\r\n\r\n\r\n\r\nOver 10,000 responses in one day!\r\nHere are the age ranges:\r\n\r\n\r\nsurvey %>%\r\n  count(how_old_are_you) %>%\r\n  gt()\r\n\r\n\r\n\r\nhtml {\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\r\n}\r\n\r\n#mowlbbblqv .gt_table {\r\n  display: table;\r\n  border-collapse: collapse;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  color: #333333;\r\n  font-size: 16px;\r\n  font-weight: normal;\r\n  font-style: normal;\r\n  background-color: #FFFFFF;\r\n  width: auto;\r\n  border-top-style: solid;\r\n  border-top-width: 2px;\r\n  border-top-color: #A8A8A8;\r\n  border-right-style: none;\r\n  border-right-width: 2px;\r\n  border-right-color: #D3D3D3;\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #A8A8A8;\r\n  border-left-style: none;\r\n  border-left-width: 2px;\r\n  border-left-color: #D3D3D3;\r\n}\r\n\r\n#mowlbbblqv .gt_heading {\r\n  background-color: #FFFFFF;\r\n  text-align: center;\r\n  border-bottom-color: #FFFFFF;\r\n  border-left-style: none;\r\n  border-left-width: 1px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 1px;\r\n  border-right-color: #D3D3D3;\r\n}\r\n\r\n#mowlbbblqv .gt_title {\r\n  color: #333333;\r\n  font-size: 125%;\r\n  font-weight: initial;\r\n  padding-top: 4px;\r\n  padding-bottom: 4px;\r\n  border-bottom-color: #FFFFFF;\r\n  border-bottom-width: 0;\r\n}\r\n\r\n#mowlbbblqv .gt_subtitle {\r\n  color: #333333;\r\n  font-size: 85%;\r\n  font-weight: initial;\r\n  padding-top: 0;\r\n  padding-bottom: 4px;\r\n  border-top-color: #FFFFFF;\r\n  border-top-width: 0;\r\n}\r\n\r\n#mowlbbblqv .gt_bottom_border {\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n}\r\n\r\n#mowlbbblqv .gt_col_headings {\r\n  border-top-style: solid;\r\n  border-top-width: 2px;\r\n  border-top-color: #D3D3D3;\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n  border-left-style: none;\r\n  border-left-width: 1px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 1px;\r\n  border-right-color: #D3D3D3;\r\n}\r\n\r\n#mowlbbblqv .gt_col_heading {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  font-size: 100%;\r\n  font-weight: normal;\r\n  text-transform: inherit;\r\n  border-left-style: none;\r\n  border-left-width: 1px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 1px;\r\n  border-right-color: #D3D3D3;\r\n  vertical-align: bottom;\r\n  padding-top: 5px;\r\n  padding-bottom: 6px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  overflow-x: hidden;\r\n}\r\n\r\n#mowlbbblqv .gt_column_spanner_outer {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  font-size: 100%;\r\n  font-weight: normal;\r\n  text-transform: inherit;\r\n  padding-top: 0;\r\n  padding-bottom: 0;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n}\r\n\r\n#mowlbbblqv .gt_column_spanner_outer:first-child {\r\n  padding-left: 0;\r\n}\r\n\r\n#mowlbbblqv .gt_column_spanner_outer:last-child {\r\n  padding-right: 0;\r\n}\r\n\r\n#mowlbbblqv .gt_column_spanner {\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n  vertical-align: bottom;\r\n  padding-top: 5px;\r\n  padding-bottom: 6px;\r\n  overflow-x: hidden;\r\n  display: inline-block;\r\n  width: 100%;\r\n}\r\n\r\n#mowlbbblqv .gt_group_heading {\r\n  padding: 8px;\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  font-size: 100%;\r\n  font-weight: initial;\r\n  text-transform: inherit;\r\n  border-top-style: solid;\r\n  border-top-width: 2px;\r\n  border-top-color: #D3D3D3;\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n  border-left-style: none;\r\n  border-left-width: 1px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 1px;\r\n  border-right-color: #D3D3D3;\r\n  vertical-align: middle;\r\n}\r\n\r\n#mowlbbblqv .gt_empty_group_heading {\r\n  padding: 0.5px;\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  font-size: 100%;\r\n  font-weight: initial;\r\n  border-top-style: solid;\r\n  border-top-width: 2px;\r\n  border-top-color: #D3D3D3;\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n  vertical-align: middle;\r\n}\r\n\r\n#mowlbbblqv .gt_from_md > :first-child {\r\n  margin-top: 0;\r\n}\r\n\r\n#mowlbbblqv .gt_from_md > :last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n#mowlbbblqv .gt_row {\r\n  padding-top: 8px;\r\n  padding-bottom: 8px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  margin: 10px;\r\n  border-top-style: solid;\r\n  border-top-width: 1px;\r\n  border-top-color: #D3D3D3;\r\n  border-left-style: none;\r\n  border-left-width: 1px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 1px;\r\n  border-right-color: #D3D3D3;\r\n  vertical-align: middle;\r\n  overflow-x: hidden;\r\n}\r\n\r\n#mowlbbblqv .gt_stub {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  font-size: 100%;\r\n  font-weight: initial;\r\n  text-transform: inherit;\r\n  border-right-style: solid;\r\n  border-right-width: 2px;\r\n  border-right-color: #D3D3D3;\r\n  padding-left: 12px;\r\n}\r\n\r\n#mowlbbblqv .gt_summary_row {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  text-transform: inherit;\r\n  padding-top: 8px;\r\n  padding-bottom: 8px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n}\r\n\r\n#mowlbbblqv .gt_first_summary_row {\r\n  padding-top: 8px;\r\n  padding-bottom: 8px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  border-top-style: solid;\r\n  border-top-width: 2px;\r\n  border-top-color: #D3D3D3;\r\n}\r\n\r\n#mowlbbblqv .gt_grand_summary_row {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  text-transform: inherit;\r\n  padding-top: 8px;\r\n  padding-bottom: 8px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n}\r\n\r\n#mowlbbblqv .gt_first_grand_summary_row {\r\n  padding-top: 8px;\r\n  padding-bottom: 8px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  border-top-style: double;\r\n  border-top-width: 6px;\r\n  border-top-color: #D3D3D3;\r\n}\r\n\r\n#mowlbbblqv .gt_striped {\r\n  background-color: rgba(128, 128, 128, 0.05);\r\n}\r\n\r\n#mowlbbblqv .gt_table_body {\r\n  border-top-style: solid;\r\n  border-top-width: 2px;\r\n  border-top-color: #D3D3D3;\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n}\r\n\r\n#mowlbbblqv .gt_footnotes {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  border-bottom-style: none;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n  border-left-style: none;\r\n  border-left-width: 2px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 2px;\r\n  border-right-color: #D3D3D3;\r\n}\r\n\r\n#mowlbbblqv .gt_footnote {\r\n  margin: 0px;\r\n  font-size: 90%;\r\n  padding: 4px;\r\n}\r\n\r\n#mowlbbblqv .gt_sourcenotes {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  border-bottom-style: none;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n  border-left-style: none;\r\n  border-left-width: 2px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 2px;\r\n  border-right-color: #D3D3D3;\r\n}\r\n\r\n#mowlbbblqv .gt_sourcenote {\r\n  font-size: 90%;\r\n  padding: 4px;\r\n}\r\n\r\n#mowlbbblqv .gt_left {\r\n  text-align: left;\r\n}\r\n\r\n#mowlbbblqv .gt_center {\r\n  text-align: center;\r\n}\r\n\r\n#mowlbbblqv .gt_right {\r\n  text-align: right;\r\n  font-variant-numeric: tabular-nums;\r\n}\r\n\r\n#mowlbbblqv .gt_font_normal {\r\n  font-weight: normal;\r\n}\r\n\r\n#mowlbbblqv .gt_font_bold {\r\n  font-weight: bold;\r\n}\r\n\r\n#mowlbbblqv .gt_font_italic {\r\n  font-style: italic;\r\n}\r\n\r\n#mowlbbblqv .gt_super {\r\n  font-size: 65%;\r\n}\r\n\r\n#mowlbbblqv .gt_footnote_marks {\r\n  font-style: italic;\r\n  font-weight: normal;\r\n  font-size: 65%;\r\n}\r\nhow_old_are_you\r\n      n\r\n    18-24\r\n101525-34\r\n1174835-44\r\n939845-54\r\n304255-64\r\n93165 or over\r\n88under 18\r\n10\r\n\r\nConvert to an ordered factor:\r\n\r\n\r\nsurvey <- survey %>%\r\n  mutate(\r\n    age_range = fct_reorder(\r\n      how_old_are_you,\r\n      # This will order the factor by the first number in how_old_are_you\r\n      parse_number(how_old_are_you)\r\n    ) %>%\r\n      fct_relevel(\"under 18\")\r\n  )\r\nsurvey %>%\r\n  ggplot(aes(y = age_range)) +\r\n  geom_bar(aes(fill = age_range), show.legend = FALSE) +\r\n  scale_fill_viridis_d() +\r\n  scale_x_continuous(expand = expansion(c(0, 0.05)))\r\n\r\n\r\n\r\n\r\nOut of curiosity, these are the 10 survey respondents listed as “under 18”:\r\n\r\n\r\nsurvey %>%\r\n  filter(age_range == \"under 18\") %>%\r\n  select(industry, job_title, annual_salary, country,\r\n         overall_years_of_professional_experience) %>%\r\n  gt()\r\n\r\n\r\n\r\nhtml {\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\r\n}\r\n\r\n#pmavqglzbz .gt_table {\r\n  display: table;\r\n  border-collapse: collapse;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  color: #333333;\r\n  font-size: 16px;\r\n  font-weight: normal;\r\n  font-style: normal;\r\n  background-color: #FFFFFF;\r\n  width: auto;\r\n  border-top-style: solid;\r\n  border-top-width: 2px;\r\n  border-top-color: #A8A8A8;\r\n  border-right-style: none;\r\n  border-right-width: 2px;\r\n  border-right-color: #D3D3D3;\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #A8A8A8;\r\n  border-left-style: none;\r\n  border-left-width: 2px;\r\n  border-left-color: #D3D3D3;\r\n}\r\n\r\n#pmavqglzbz .gt_heading {\r\n  background-color: #FFFFFF;\r\n  text-align: center;\r\n  border-bottom-color: #FFFFFF;\r\n  border-left-style: none;\r\n  border-left-width: 1px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 1px;\r\n  border-right-color: #D3D3D3;\r\n}\r\n\r\n#pmavqglzbz .gt_title {\r\n  color: #333333;\r\n  font-size: 125%;\r\n  font-weight: initial;\r\n  padding-top: 4px;\r\n  padding-bottom: 4px;\r\n  border-bottom-color: #FFFFFF;\r\n  border-bottom-width: 0;\r\n}\r\n\r\n#pmavqglzbz .gt_subtitle {\r\n  color: #333333;\r\n  font-size: 85%;\r\n  font-weight: initial;\r\n  padding-top: 0;\r\n  padding-bottom: 4px;\r\n  border-top-color: #FFFFFF;\r\n  border-top-width: 0;\r\n}\r\n\r\n#pmavqglzbz .gt_bottom_border {\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n}\r\n\r\n#pmavqglzbz .gt_col_headings {\r\n  border-top-style: solid;\r\n  border-top-width: 2px;\r\n  border-top-color: #D3D3D3;\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n  border-left-style: none;\r\n  border-left-width: 1px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 1px;\r\n  border-right-color: #D3D3D3;\r\n}\r\n\r\n#pmavqglzbz .gt_col_heading {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  font-size: 100%;\r\n  font-weight: normal;\r\n  text-transform: inherit;\r\n  border-left-style: none;\r\n  border-left-width: 1px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 1px;\r\n  border-right-color: #D3D3D3;\r\n  vertical-align: bottom;\r\n  padding-top: 5px;\r\n  padding-bottom: 6px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  overflow-x: hidden;\r\n}\r\n\r\n#pmavqglzbz .gt_column_spanner_outer {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  font-size: 100%;\r\n  font-weight: normal;\r\n  text-transform: inherit;\r\n  padding-top: 0;\r\n  padding-bottom: 0;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n}\r\n\r\n#pmavqglzbz .gt_column_spanner_outer:first-child {\r\n  padding-left: 0;\r\n}\r\n\r\n#pmavqglzbz .gt_column_spanner_outer:last-child {\r\n  padding-right: 0;\r\n}\r\n\r\n#pmavqglzbz .gt_column_spanner {\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n  vertical-align: bottom;\r\n  padding-top: 5px;\r\n  padding-bottom: 6px;\r\n  overflow-x: hidden;\r\n  display: inline-block;\r\n  width: 100%;\r\n}\r\n\r\n#pmavqglzbz .gt_group_heading {\r\n  padding: 8px;\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  font-size: 100%;\r\n  font-weight: initial;\r\n  text-transform: inherit;\r\n  border-top-style: solid;\r\n  border-top-width: 2px;\r\n  border-top-color: #D3D3D3;\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n  border-left-style: none;\r\n  border-left-width: 1px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 1px;\r\n  border-right-color: #D3D3D3;\r\n  vertical-align: middle;\r\n}\r\n\r\n#pmavqglzbz .gt_empty_group_heading {\r\n  padding: 0.5px;\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  font-size: 100%;\r\n  font-weight: initial;\r\n  border-top-style: solid;\r\n  border-top-width: 2px;\r\n  border-top-color: #D3D3D3;\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n  vertical-align: middle;\r\n}\r\n\r\n#pmavqglzbz .gt_from_md > :first-child {\r\n  margin-top: 0;\r\n}\r\n\r\n#pmavqglzbz .gt_from_md > :last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n#pmavqglzbz .gt_row {\r\n  padding-top: 8px;\r\n  padding-bottom: 8px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  margin: 10px;\r\n  border-top-style: solid;\r\n  border-top-width: 1px;\r\n  border-top-color: #D3D3D3;\r\n  border-left-style: none;\r\n  border-left-width: 1px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 1px;\r\n  border-right-color: #D3D3D3;\r\n  vertical-align: middle;\r\n  overflow-x: hidden;\r\n}\r\n\r\n#pmavqglzbz .gt_stub {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  font-size: 100%;\r\n  font-weight: initial;\r\n  text-transform: inherit;\r\n  border-right-style: solid;\r\n  border-right-width: 2px;\r\n  border-right-color: #D3D3D3;\r\n  padding-left: 12px;\r\n}\r\n\r\n#pmavqglzbz .gt_summary_row {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  text-transform: inherit;\r\n  padding-top: 8px;\r\n  padding-bottom: 8px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n}\r\n\r\n#pmavqglzbz .gt_first_summary_row {\r\n  padding-top: 8px;\r\n  padding-bottom: 8px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  border-top-style: solid;\r\n  border-top-width: 2px;\r\n  border-top-color: #D3D3D3;\r\n}\r\n\r\n#pmavqglzbz .gt_grand_summary_row {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  text-transform: inherit;\r\n  padding-top: 8px;\r\n  padding-bottom: 8px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n}\r\n\r\n#pmavqglzbz .gt_first_grand_summary_row {\r\n  padding-top: 8px;\r\n  padding-bottom: 8px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  border-top-style: double;\r\n  border-top-width: 6px;\r\n  border-top-color: #D3D3D3;\r\n}\r\n\r\n#pmavqglzbz .gt_striped {\r\n  background-color: rgba(128, 128, 128, 0.05);\r\n}\r\n\r\n#pmavqglzbz .gt_table_body {\r\n  border-top-style: solid;\r\n  border-top-width: 2px;\r\n  border-top-color: #D3D3D3;\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n}\r\n\r\n#pmavqglzbz .gt_footnotes {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  border-bottom-style: none;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n  border-left-style: none;\r\n  border-left-width: 2px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 2px;\r\n  border-right-color: #D3D3D3;\r\n}\r\n\r\n#pmavqglzbz .gt_footnote {\r\n  margin: 0px;\r\n  font-size: 90%;\r\n  padding: 4px;\r\n}\r\n\r\n#pmavqglzbz .gt_sourcenotes {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  border-bottom-style: none;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n  border-left-style: none;\r\n  border-left-width: 2px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 2px;\r\n  border-right-color: #D3D3D3;\r\n}\r\n\r\n#pmavqglzbz .gt_sourcenote {\r\n  font-size: 90%;\r\n  padding: 4px;\r\n}\r\n\r\n#pmavqglzbz .gt_left {\r\n  text-align: left;\r\n}\r\n\r\n#pmavqglzbz .gt_center {\r\n  text-align: center;\r\n}\r\n\r\n#pmavqglzbz .gt_right {\r\n  text-align: right;\r\n  font-variant-numeric: tabular-nums;\r\n}\r\n\r\n#pmavqglzbz .gt_font_normal {\r\n  font-weight: normal;\r\n}\r\n\r\n#pmavqglzbz .gt_font_bold {\r\n  font-weight: bold;\r\n}\r\n\r\n#pmavqglzbz .gt_font_italic {\r\n  font-style: italic;\r\n}\r\n\r\n#pmavqglzbz .gt_super {\r\n  font-size: 65%;\r\n}\r\n\r\n#pmavqglzbz .gt_footnote_marks {\r\n  font-style: italic;\r\n  font-weight: normal;\r\n  font-size: 65%;\r\n}\r\nindustry\r\n      job_title\r\n      annual_salary\r\n      country\r\n      overall_years_of_professional_experience\r\n    Education (Primary/Secondary)\r\nTeacher\r\n45000\r\nUSA\r\n21 - 30 yearsHealth care\r\nUndergraduate Research Assistant\r\n17000\r\nUnited States\r\n2 - 4 yearsRetail\r\nWalmart cashier\r\n32552\r\nCanada\r\n2 - 4 yearsHealth care\r\nIntern\r\n29120\r\nU.S.\r\n2 - 4 yearsNonprofits\r\nFinance Director\r\n118000\r\nUnited States\r\n31 - 40 yearsHealth care\r\nDoctor\r\n220000\r\nUnited States\r\n2 - 4 yearsLeisure, Sport & Tourism\r\nLifeguard, Swim Instructor\r\n34320\r\nUnited States\r\n1 year or lessLeisure, Sport & Tourism\r\nHead Lifegaurd\r\n31200\r\nUnited States\r\n2 - 4 yearsLaw\r\nRecords manager\r\n106000\r\nUSA\r\n41 years or moreRetail\r\nTechnology Manager\r\n100200\r\nUSA\r\n21 - 30 years\r\n\r\nSome pretty impressive teenagers here. I think my favorite are the ones with more years of experience than years alive.\r\nAs for the industry variable, I know from checking out the survey itself that there are 26 options, +1 “Other” option to enter free-text. Do the most frequent 26 industry correspond to those preset options?\r\n\r\n\r\nsurvey %>%\r\n  count(industry, sort = T) %>%\r\n  head(30) %>%\r\n  mutate(rank = 1:n()) %>% relocate(rank) %>%\r\n  gt() %>%\r\n  tab_options(container.height = 300, container.overflow.y = TRUE)\r\n\r\n\r\n\r\nhtml {\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\r\n}\r\n\r\n#fvvbghlpmn .gt_table {\r\n  display: table;\r\n  border-collapse: collapse;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  color: #333333;\r\n  font-size: 16px;\r\n  font-weight: normal;\r\n  font-style: normal;\r\n  background-color: #FFFFFF;\r\n  width: auto;\r\n  border-top-style: solid;\r\n  border-top-width: 2px;\r\n  border-top-color: #A8A8A8;\r\n  border-right-style: none;\r\n  border-right-width: 2px;\r\n  border-right-color: #D3D3D3;\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #A8A8A8;\r\n  border-left-style: none;\r\n  border-left-width: 2px;\r\n  border-left-color: #D3D3D3;\r\n}\r\n\r\n#fvvbghlpmn .gt_heading {\r\n  background-color: #FFFFFF;\r\n  text-align: center;\r\n  border-bottom-color: #FFFFFF;\r\n  border-left-style: none;\r\n  border-left-width: 1px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 1px;\r\n  border-right-color: #D3D3D3;\r\n}\r\n\r\n#fvvbghlpmn .gt_title {\r\n  color: #333333;\r\n  font-size: 125%;\r\n  font-weight: initial;\r\n  padding-top: 4px;\r\n  padding-bottom: 4px;\r\n  border-bottom-color: #FFFFFF;\r\n  border-bottom-width: 0;\r\n}\r\n\r\n#fvvbghlpmn .gt_subtitle {\r\n  color: #333333;\r\n  font-size: 85%;\r\n  font-weight: initial;\r\n  padding-top: 0;\r\n  padding-bottom: 4px;\r\n  border-top-color: #FFFFFF;\r\n  border-top-width: 0;\r\n}\r\n\r\n#fvvbghlpmn .gt_bottom_border {\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n}\r\n\r\n#fvvbghlpmn .gt_col_headings {\r\n  border-top-style: solid;\r\n  border-top-width: 2px;\r\n  border-top-color: #D3D3D3;\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n  border-left-style: none;\r\n  border-left-width: 1px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 1px;\r\n  border-right-color: #D3D3D3;\r\n}\r\n\r\n#fvvbghlpmn .gt_col_heading {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  font-size: 100%;\r\n  font-weight: normal;\r\n  text-transform: inherit;\r\n  border-left-style: none;\r\n  border-left-width: 1px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 1px;\r\n  border-right-color: #D3D3D3;\r\n  vertical-align: bottom;\r\n  padding-top: 5px;\r\n  padding-bottom: 6px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  overflow-x: hidden;\r\n}\r\n\r\n#fvvbghlpmn .gt_column_spanner_outer {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  font-size: 100%;\r\n  font-weight: normal;\r\n  text-transform: inherit;\r\n  padding-top: 0;\r\n  padding-bottom: 0;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n}\r\n\r\n#fvvbghlpmn .gt_column_spanner_outer:first-child {\r\n  padding-left: 0;\r\n}\r\n\r\n#fvvbghlpmn .gt_column_spanner_outer:last-child {\r\n  padding-right: 0;\r\n}\r\n\r\n#fvvbghlpmn .gt_column_spanner {\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n  vertical-align: bottom;\r\n  padding-top: 5px;\r\n  padding-bottom: 6px;\r\n  overflow-x: hidden;\r\n  display: inline-block;\r\n  width: 100%;\r\n}\r\n\r\n#fvvbghlpmn .gt_group_heading {\r\n  padding: 8px;\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  font-size: 100%;\r\n  font-weight: initial;\r\n  text-transform: inherit;\r\n  border-top-style: solid;\r\n  border-top-width: 2px;\r\n  border-top-color: #D3D3D3;\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n  border-left-style: none;\r\n  border-left-width: 1px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 1px;\r\n  border-right-color: #D3D3D3;\r\n  vertical-align: middle;\r\n}\r\n\r\n#fvvbghlpmn .gt_empty_group_heading {\r\n  padding: 0.5px;\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  font-size: 100%;\r\n  font-weight: initial;\r\n  border-top-style: solid;\r\n  border-top-width: 2px;\r\n  border-top-color: #D3D3D3;\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n  vertical-align: middle;\r\n}\r\n\r\n#fvvbghlpmn .gt_from_md > :first-child {\r\n  margin-top: 0;\r\n}\r\n\r\n#fvvbghlpmn .gt_from_md > :last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n#fvvbghlpmn .gt_row {\r\n  padding-top: 8px;\r\n  padding-bottom: 8px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  margin: 10px;\r\n  border-top-style: solid;\r\n  border-top-width: 1px;\r\n  border-top-color: #D3D3D3;\r\n  border-left-style: none;\r\n  border-left-width: 1px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 1px;\r\n  border-right-color: #D3D3D3;\r\n  vertical-align: middle;\r\n  overflow-x: hidden;\r\n}\r\n\r\n#fvvbghlpmn .gt_stub {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  font-size: 100%;\r\n  font-weight: initial;\r\n  text-transform: inherit;\r\n  border-right-style: solid;\r\n  border-right-width: 2px;\r\n  border-right-color: #D3D3D3;\r\n  padding-left: 12px;\r\n}\r\n\r\n#fvvbghlpmn .gt_summary_row {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  text-transform: inherit;\r\n  padding-top: 8px;\r\n  padding-bottom: 8px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n}\r\n\r\n#fvvbghlpmn .gt_first_summary_row {\r\n  padding-top: 8px;\r\n  padding-bottom: 8px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  border-top-style: solid;\r\n  border-top-width: 2px;\r\n  border-top-color: #D3D3D3;\r\n}\r\n\r\n#fvvbghlpmn .gt_grand_summary_row {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  text-transform: inherit;\r\n  padding-top: 8px;\r\n  padding-bottom: 8px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n}\r\n\r\n#fvvbghlpmn .gt_first_grand_summary_row {\r\n  padding-top: 8px;\r\n  padding-bottom: 8px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  border-top-style: double;\r\n  border-top-width: 6px;\r\n  border-top-color: #D3D3D3;\r\n}\r\n\r\n#fvvbghlpmn .gt_striped {\r\n  background-color: rgba(128, 128, 128, 0.05);\r\n}\r\n\r\n#fvvbghlpmn .gt_table_body {\r\n  border-top-style: solid;\r\n  border-top-width: 2px;\r\n  border-top-color: #D3D3D3;\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n}\r\n\r\n#fvvbghlpmn .gt_footnotes {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  border-bottom-style: none;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n  border-left-style: none;\r\n  border-left-width: 2px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 2px;\r\n  border-right-color: #D3D3D3;\r\n}\r\n\r\n#fvvbghlpmn .gt_footnote {\r\n  margin: 0px;\r\n  font-size: 90%;\r\n  padding: 4px;\r\n}\r\n\r\n#fvvbghlpmn .gt_sourcenotes {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  border-bottom-style: none;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n  border-left-style: none;\r\n  border-left-width: 2px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 2px;\r\n  border-right-color: #D3D3D3;\r\n}\r\n\r\n#fvvbghlpmn .gt_sourcenote {\r\n  font-size: 90%;\r\n  padding: 4px;\r\n}\r\n\r\n#fvvbghlpmn .gt_left {\r\n  text-align: left;\r\n}\r\n\r\n#fvvbghlpmn .gt_center {\r\n  text-align: center;\r\n}\r\n\r\n#fvvbghlpmn .gt_right {\r\n  text-align: right;\r\n  font-variant-numeric: tabular-nums;\r\n}\r\n\r\n#fvvbghlpmn .gt_font_normal {\r\n  font-weight: normal;\r\n}\r\n\r\n#fvvbghlpmn .gt_font_bold {\r\n  font-weight: bold;\r\n}\r\n\r\n#fvvbghlpmn .gt_font_italic {\r\n  font-style: italic;\r\n}\r\n\r\n#fvvbghlpmn .gt_super {\r\n  font-size: 65%;\r\n}\r\n\r\n#fvvbghlpmn .gt_footnote_marks {\r\n  font-style: italic;\r\n  font-weight: normal;\r\n  font-size: 65%;\r\n}\r\nrank\r\n      industry\r\n      n\r\n    1\r\nComputing or Tech\r\n43602\r\nEducation (Higher Education)\r\n23593\r\nNonprofits\r\n23314\r\nGovernment and Public Administration\r\n18215\r\nHealth care\r\n17396\r\nAccounting, Banking & Finance\r\n16887\r\nEngineering or Manufacturing\r\n15198\r\nMarketing, Advertising & PR\r\n10649\r\nLaw\r\n105010\r\nEducation (Primary/Secondary)\r\n80511\r\nBusiness or Consulting\r\n77812\r\nMedia & Digital\r\n73213\r\nInsurance\r\n50014\r\nRetail\r\n45015\r\nRecruitment or HR\r\n42916\r\nProperty or Construction\r\n35017\r\nArt & Design\r\n32718\r\nUtilities & Telecommunications\r\n32419\r\nTransport or Logistics\r\n27020\r\nSales\r\n26221\r\nSocial Work\r\n26022\r\nEntertainment\r\n23423\r\nHospitality & Events\r\n23424\r\nAgriculture or Forestry\r\n13025\r\nLeisure, Sport & Tourism\r\n9626\r\nPublishing\r\n5927\r\nNA\r\n5928\r\nLibrary\r\n5429\r\nLibraries\r\n5130\r\nBiotech\r\n48\r\n\r\nNot quite. industry = “Publishing” is the 26th most frequent despite not being a preset option, for example. Make a factor out of this variable, and group anything infrequent (<100 occurrences) into “Other”:\r\n\r\n\r\nsurvey <- survey %>%\r\n  mutate(\r\n    industry_factor = fct_infreq(industry) %>%\r\n      fct_lump_min(min = 100)\r\n  )\r\nsurvey %>%\r\n  ggplot(aes(y = industry_factor)) +\r\n  geom_bar(fill = td_colors$nice$indigo_blue) +\r\n  scale_x_continuous(expand = c(0, 0))\r\n\r\n\r\n\r\n\r\nThe “Other” category accounts for a lot of responses.\r\nThe job_title variable is entirely free-text so will be difficult to use for any analysis/visualization, but here are the most common responses:\r\n\r\n\r\nsurvey %>%\r\n  count(job_title, sort = T) %>%\r\n  head(50) %>%\r\n  rmarkdown::paged_table()\r\n\r\n\r\n\r\n\r\n{\"columns\":[{\"label\":[\"job_title\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"n\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"Software Engineer\",\"2\":\"289\"},{\"1\":\"Project Manager\",\"2\":\"242\"},{\"1\":\"Director\",\"2\":\"211\"},{\"1\":\"Senior Software Engineer\",\"2\":\"200\"},{\"1\":\"Executive Assistant\",\"2\":\"171\"},{\"1\":\"Librarian\",\"2\":\"160\"},{\"1\":\"Teacher\",\"2\":\"160\"},{\"1\":\"Program Manager\",\"2\":\"152\"},{\"1\":\"Manager\",\"2\":\"146\"},{\"1\":\"Product Manager\",\"2\":\"122\"},{\"1\":\"Administrative Assistant\",\"2\":\"119\"},{\"1\":\"Attorney\",\"2\":\"107\"},{\"1\":\"Associate\",\"2\":\"103\"},{\"1\":\"Data Analyst\",\"2\":\"97\"},{\"1\":\"Marketing Manager\",\"2\":\"95\"},{\"1\":\"Office Manager\",\"2\":\"93\"},{\"1\":\"Analyst\",\"2\":\"89\"},{\"1\":\"Engineering Manager\",\"2\":\"88\"},{\"1\":\"Consultant\",\"2\":\"87\"},{\"1\":\"Paralegal\",\"2\":\"87\"},{\"1\":\"Software Developer\",\"2\":\"85\"},{\"1\":\"Executive Director\",\"2\":\"83\"},{\"1\":\"Assistant Professor\",\"2\":\"81\"},{\"1\":\"Operations Manager\",\"2\":\"81\"},{\"1\":\"Business Analyst\",\"2\":\"76\"},{\"1\":\"Editor\",\"2\":\"76\"},{\"1\":\"HR Manager\",\"2\":\"75\"},{\"1\":\"Associate Director\",\"2\":\"69\"},{\"1\":\"Associate Attorney\",\"2\":\"66\"},{\"1\":\"Senior Manager\",\"2\":\"64\"},{\"1\":\"Software engineer\",\"2\":\"64\"},{\"1\":\"Account Manager\",\"2\":\"63\"},{\"1\":\"Assistant Director\",\"2\":\"61\"},{\"1\":\"Data Scientist\",\"2\":\"60\"},{\"1\":\"Program Coordinator\",\"2\":\"58\"},{\"1\":\"Project Coordinator\",\"2\":\"55\"},{\"1\":\"Vice President\",\"2\":\"54\"},{\"1\":\"Controller\",\"2\":\"51\"},{\"1\":\"HR Generalist\",\"2\":\"49\"},{\"1\":\"Senior Associate\",\"2\":\"49\"},{\"1\":\"Director of Operations\",\"2\":\"48\"},{\"1\":\"Senior Consultant\",\"2\":\"48\"},{\"1\":\"Associate Professor\",\"2\":\"47\"},{\"1\":\"Senior Analyst\",\"2\":\"45\"},{\"1\":\"Senior Project Manager\",\"2\":\"42\"},{\"1\":\"Graphic Designer\",\"2\":\"41\"},{\"1\":\"Partner\",\"2\":\"41\"},{\"1\":\"Senior Engineer\",\"2\":\"41\"},{\"1\":\"Technical Writer\",\"2\":\"41\"},{\"1\":\"Accountant\",\"2\":\"40\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\r\n  \r\n\r\nHow about job titles related to data or statistics or machine learning?\r\n\r\n\r\nsurvey %>%\r\n  filter(\r\n    str_detect(job_title,\r\n               regex(\"data|statistic|machine learn\", ignore_case = TRUE))\r\n  ) %>%\r\n  count(job_title, sort = T) %>%\r\n  rmarkdown::paged_table()\r\n\r\n\r\n\r\n\r\n{\"columns\":[{\"label\":[\"job_title\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"n\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"Data Analyst\",\"2\":\"97\"},{\"1\":\"Data Scientist\",\"2\":\"60\"},{\"1\":\"Data analyst\",\"2\":\"25\"},{\"1\":\"Senior Data Scientist\",\"2\":\"21\"},{\"1\":\"Data Engineer\",\"2\":\"20\"},{\"1\":\"Data scientist\",\"2\":\"16\"},{\"1\":\"Senior Data Analyst\",\"2\":\"14\"},{\"1\":\"Data Manager\",\"2\":\"12\"},{\"1\":\"Database Administrator\",\"2\":\"12\"},{\"1\":\"Statistician\",\"2\":\"9\"},{\"1\":\"Biostatistician\",\"2\":\"6\"},{\"1\":\"Director of Data Science\",\"2\":\"5\"},{\"1\":\"Data Architect\",\"2\":\"4\"},{\"1\":\"Database Manager\",\"2\":\"4\"},{\"1\":\"Lead Data Scientist\",\"2\":\"4\"},{\"1\":\"Machine Learning Engineer\",\"2\":\"4\"},{\"1\":\"Senior data analyst\",\"2\":\"4\"},{\"1\":\"Senior Data Manager\",\"2\":\"4\"},{\"1\":\"Sr Data Analyst\",\"2\":\"4\"},{\"1\":\"data analyst\",\"2\":\"3\"},{\"1\":\"Data science manager\",\"2\":\"3\"},{\"1\":\"Data Science Manager\",\"2\":\"3\"},{\"1\":\"data scientist\",\"2\":\"3\"},{\"1\":\"Database Analyst\",\"2\":\"3\"},{\"1\":\"Metadata Librarian\",\"2\":\"3\"},{\"1\":\"Senior Data Engineer\",\"2\":\"3\"},{\"1\":\"Chief Data Scientist\",\"2\":\"2\"},{\"1\":\"Data Analyst II\",\"2\":\"2\"},{\"1\":\"Data analytics manager\",\"2\":\"2\"},{\"1\":\"Data Analytics Manager\",\"2\":\"2\"},{\"1\":\"Data Entry\",\"2\":\"2\"},{\"1\":\"Data Entry Specialist\",\"2\":\"2\"},{\"1\":\"Data Processor\",\"2\":\"2\"},{\"1\":\"Data Scientist II\",\"2\":\"2\"},{\"1\":\"Data Specialist\",\"2\":\"2\"},{\"1\":\"Data Strategist\",\"2\":\"2\"},{\"1\":\"Database Specialist\",\"2\":\"2\"},{\"1\":\"Junior Data Scientist\",\"2\":\"2\"},{\"1\":\"Master Data Analyst\",\"2\":\"2\"},{\"1\":\"Principal Data Scientist\",\"2\":\"2\"},{\"1\":\"Research and Data Analyst\",\"2\":\"2\"},{\"1\":\"senior data analyst\",\"2\":\"2\"},{\"1\":\"Senior data scientist\",\"2\":\"2\"},{\"1\":\"Senior Machine Learning Engineer\",\"2\":\"2\"},{\"1\":\"Senior Statistician\",\"2\":\"2\"},{\"1\":\"Actuarial data /systems programmer\",\"2\":\"1\"},{\"1\":\"Admin / Data Entry\",\"2\":\"1\"},{\"1\":\"Administrative and Data Coordinator\",\"2\":\"1\"},{\"1\":\"Admission Prospect Data Specialist\",\"2\":\"1\"},{\"1\":\"Annual Fund and Database Manager\",\"2\":\"1\"},{\"1\":\"Applied Data Scientist\",\"2\":\"1\"},{\"1\":\"Assistant Director, Data Integrity\",\"2\":\"1\"},{\"1\":\"Assistant Professor/Director of Cataloging & Metadata Services\",\"2\":\"1\"},{\"1\":\"Assistant Statistician\",\"2\":\"1\"},{\"1\":\"Assoc Dir Data Analysis\",\"2\":\"1\"},{\"1\":\"Associate Data Analyst\",\"2\":\"1\"},{\"1\":\"Associate Data Scientist\",\"2\":\"1\"},{\"1\":\"Biostatistician I\",\"2\":\"1\"},{\"1\":\"Business Analyst, Enterprise Data Governance\",\"2\":\"1\"},{\"1\":\"Business Data Analyst\",\"2\":\"1\"},{\"1\":\"Business Operations (Data Analyst)\",\"2\":\"1\"},{\"1\":\"Client Data Analyst\",\"2\":\"1\"},{\"1\":\"Consultant- Data Analytics\",\"2\":\"1\"},{\"1\":\"Consultant, data analyst\",\"2\":\"1\"},{\"1\":\"Crime Data Analyst\",\"2\":\"1\"},{\"1\":\"Customer Data Management\",\"2\":\"1\"},{\"1\":\"Data & Analytics Director\",\"2\":\"1\"},{\"1\":\"Data & Evaluation Specialist\",\"2\":\"1\"},{\"1\":\"Data & Systems Analyst\",\"2\":\"1\"},{\"1\":\"Data / Document Specialist\",\"2\":\"1\"},{\"1\":\"Data Admin\",\"2\":\"1\"},{\"1\":\"Data Analysis Manager\",\"2\":\"1\"},{\"1\":\"data Analyst\",\"2\":\"1\"},{\"1\":\"Data Analyst (EC-05)\",\"2\":\"1\"},{\"1\":\"Data Analyst 2\",\"2\":\"1\"},{\"1\":\"Data Analyst Engineer\",\"2\":\"1\"},{\"1\":\"Data Analyst III\",\"2\":\"1\"},{\"1\":\"Data Analyst Manager\",\"2\":\"1\"},{\"1\":\"Data Analyst Supervisor (Public Health)\",\"2\":\"1\"},{\"1\":\"Data Analyst, Fundraising\",\"2\":\"1\"},{\"1\":\"Data Analytics\",\"2\":\"1\"},{\"1\":\"Data Analytics Consultant\",\"2\":\"1\"},{\"1\":\"Data Analytics Developer\",\"2\":\"1\"},{\"1\":\"Data Analytics Lead\",\"2\":\"1\"},{\"1\":\"Data and Analytics Lead\",\"2\":\"1\"},{\"1\":\"Data and Analytics Product Manager\",\"2\":\"1\"},{\"1\":\"Data and Evaluation Specialist\",\"2\":\"1\"},{\"1\":\"Data and Insights Analyst\",\"2\":\"1\"},{\"1\":\"Data and insights exec\",\"2\":\"1\"},{\"1\":\"Data and layout\",\"2\":\"1\"},{\"1\":\"Data and policy specialist\",\"2\":\"1\"},{\"1\":\"Data and Quality Assurance Manager\",\"2\":\"1\"},{\"1\":\"Data and Reporting Analyst\",\"2\":\"1\"},{\"1\":\"Data architect\",\"2\":\"1\"},{\"1\":\"data associate\",\"2\":\"1\"},{\"1\":\"Data Associate\",\"2\":\"1\"},{\"1\":\"Data Consultant\",\"2\":\"1\"},{\"1\":\"Data Conversion Analyst IV\",\"2\":\"1\"},{\"1\":\"data coordinator\",\"2\":\"1\"},{\"1\":\"Data coordinator\",\"2\":\"1\"},{\"1\":\"Data Coordinator\",\"2\":\"1\"},{\"1\":\"Data curation\",\"2\":\"1\"},{\"1\":\"Data curator\",\"2\":\"1\"},{\"1\":\"Data engineer\",\"2\":\"1\"},{\"1\":\"Data Engineering Manager\",\"2\":\"1\"},{\"1\":\"Data Entry and Records Specialist\",\"2\":\"1\"},{\"1\":\"Data Entry Associate\",\"2\":\"1\"},{\"1\":\"Data entry clerk\",\"2\":\"1\"},{\"1\":\"Data Finance Administrator\",\"2\":\"1\"},{\"1\":\"Data Governance\",\"2\":\"1\"},{\"1\":\"Data Governance Analyst\",\"2\":\"1\"},{\"1\":\"Data Insights Analyst\",\"2\":\"1\"},{\"1\":\"Data Integrity\",\"2\":\"1\"},{\"1\":\"Data Integrity Specialist\",\"2\":\"1\"},{\"1\":\"Data Lead\",\"2\":\"1\"},{\"1\":\"Data librarian\",\"2\":\"1\"},{\"1\":\"Data Management Officer\",\"2\":\"1\"},{\"1\":\"Data Management Team Lead\",\"2\":\"1\"},{\"1\":\"Data manager\",\"2\":\"1\"},{\"1\":\"Data mechanic\",\"2\":\"1\"},{\"1\":\"Data Migration Consultant\",\"2\":\"1\"},{\"1\":\"Data Officer\",\"2\":\"1\"},{\"1\":\"Data Practice Lead\",\"2\":\"1\"},{\"1\":\"Data Privacy & Compliance Professional\",\"2\":\"1\"},{\"1\":\"Data processing\",\"2\":\"1\"},{\"1\":\"Data Product Consultant\",\"2\":\"1\"},{\"1\":\"data product manager\",\"2\":\"1\"},{\"1\":\"Data Programmer Analyst\",\"2\":\"1\"},{\"1\":\"Data Protection Manager\",\"2\":\"1\"},{\"1\":\"Data protection officer\",\"2\":\"1\"},{\"1\":\"Data Quality Analyst\",\"2\":\"1\"},{\"1\":\"Data Quality Lead\",\"2\":\"1\"},{\"1\":\"Data quality manager\",\"2\":\"1\"},{\"1\":\"Data Quality Manager\",\"2\":\"1\"},{\"1\":\"data science\",\"2\":\"1\"},{\"1\":\"Data Science Lecturer\",\"2\":\"1\"},{\"1\":\"Data scientist /epidemiologist\",\"2\":\"1\"},{\"1\":\"Data Scientist 2\",\"2\":\"1\"},{\"1\":\"Data Scientist III\",\"2\":\"1\"},{\"1\":\"Data services associate\",\"2\":\"1\"},{\"1\":\"Data Statistician\",\"2\":\"1\"},{\"1\":\"Data Strategy & Analytics Consultant\",\"2\":\"1\"},{\"1\":\"Data Support\",\"2\":\"1\"},{\"1\":\"Data Systems Manager\",\"2\":\"1\"},{\"1\":\"data team lead\",\"2\":\"1\"},{\"1\":\"Data visualization consultant\",\"2\":\"1\"},{\"1\":\"Data Visualization Consultant\",\"2\":\"1\"},{\"1\":\"Data visualization developer\",\"2\":\"1\"},{\"1\":\"Data warehouse operations analyst\",\"2\":\"1\"},{\"1\":\"Database administrator\",\"2\":\"1\"},{\"1\":\"Database Administrator SQL\",\"2\":\"1\"},{\"1\":\"Database Architect\",\"2\":\"1\"},{\"1\":\"Database Assistant\",\"2\":\"1\"},{\"1\":\"Database Associate\",\"2\":\"1\"},{\"1\":\"database developer\",\"2\":\"1\"},{\"1\":\"Database Developer\",\"2\":\"1\"},{\"1\":\"Development and Data Specialist\",\"2\":\"1\"},{\"1\":\"Development Database Associate\",\"2\":\"1\"},{\"1\":\"Development Database Manager\",\"2\":\"1\"},{\"1\":\"Director - Data Operations\",\"2\":\"1\"},{\"1\":\"Director - Data Science\",\"2\":\"1\"},{\"1\":\"Director of Data & Analytics\",\"2\":\"1\"},{\"1\":\"Director of Data & Information Systems\",\"2\":\"1\"},{\"1\":\"Director of Data Analytics\",\"2\":\"1\"},{\"1\":\"Director of Data and Reporting\",\"2\":\"1\"},{\"1\":\"Director of Data Engineering\",\"2\":\"1\"},{\"1\":\"Director of Library and Database Services\",\"2\":\"1\"},{\"1\":\"Director of Research and Data Analytics\",\"2\":\"1\"},{\"1\":\"Director, Advanced Analytics and Statistics\",\"2\":\"1\"},{\"1\":\"Director, Biostatistics\",\"2\":\"1\"},{\"1\":\"Director, Data Analytics\",\"2\":\"1\"},{\"1\":\"Director, Data Management\",\"2\":\"1\"},{\"1\":\"Director, Data Management (non-academic)\",\"2\":\"1\"},{\"1\":\"Director, Master Data\",\"2\":\"1\"},{\"1\":\"District Data Manager\",\"2\":\"1\"},{\"1\":\"Federal consultant (data analytics)\",\"2\":\"1\"},{\"1\":\"Financial Data Specialist\",\"2\":\"1\"},{\"1\":\"Further Education Funding and Data Consultant\",\"2\":\"1\"},{\"1\":\"Geospatial Data Technician II\",\"2\":\"1\"},{\"1\":\"Gifts and Data Coordinator\",\"2\":\"1\"},{\"1\":\"GIS Data Specialist\",\"2\":\"1\"},{\"1\":\"Global Data Team Leader\",\"2\":\"1\"},{\"1\":\"Government Statistician\",\"2\":\"1\"},{\"1\":\"HCIS Database Analyst\",\"2\":\"1\"},{\"1\":\"Head data scientist\",\"2\":\"1\"},{\"1\":\"Head metadata librarian\",\"2\":\"1\"},{\"1\":\"Head of Data & Analytics\",\"2\":\"1\"},{\"1\":\"Head of Data Science\",\"2\":\"1\"},{\"1\":\"Head of Data Science & Analytics\",\"2\":\"1\"},{\"1\":\"Head of Public Sector Data Sharing\",\"2\":\"1\"},{\"1\":\"Healthcare Data Analyst\",\"2\":\"1\"},{\"1\":\"HR Data Analyst\",\"2\":\"1\"},{\"1\":\"Interim Director of Cataloging and Metadata Services\",\"2\":\"1\"},{\"1\":\"IT Project Manager and Data Analyst\",\"2\":\"1\"},{\"1\":\"Lead Data Engineer\",\"2\":\"1\"},{\"1\":\"Lead Data Strategist\",\"2\":\"1\"},{\"1\":\"Library metadata coordinator\",\"2\":\"1\"},{\"1\":\"Library metadata specialist\",\"2\":\"1\"},{\"1\":\"Machine learning model developer\",\"2\":\"1\"},{\"1\":\"Management Analyst IV (Data Analyst)\",\"2\":\"1\"},{\"1\":\"Manager of Data Engineering\",\"2\":\"1\"},{\"1\":\"Manager of Data Integrity and Prospect Research\",\"2\":\"1\"},{\"1\":\"Manager of Data Science\",\"2\":\"1\"},{\"1\":\"Manager of Market Research and Data\",\"2\":\"1\"},{\"1\":\"Manager, Gift Processing and Data Management\",\"2\":\"1\"},{\"1\":\"Managing Director Data Science and Analytics\",\"2\":\"1\"},{\"1\":\"Mathematical Statistician\",\"2\":\"1\"},{\"1\":\"Media and Data Analyst\",\"2\":\"1\"},{\"1\":\"Member Data Specialist\",\"2\":\"1\"},{\"1\":\"Membership & Data Analytics Manager\",\"2\":\"1\"},{\"1\":\"Metadata Management Librarian\",\"2\":\"1\"},{\"1\":\"Metadata Specialist\",\"2\":\"1\"},{\"1\":\"Metadata Specialist II\",\"2\":\"1\"},{\"1\":\"Office specialist-database management\",\"2\":\"1\"},{\"1\":\"Officer, Analyst II- System/Data Security\",\"2\":\"1\"},{\"1\":\"Operations Data Analyst\",\"2\":\"1\"},{\"1\":\"Payroll and Data Specialist\",\"2\":\"1\"},{\"1\":\"Principal Data Science Manager\",\"2\":\"1\"},{\"1\":\"principal data scientist\",\"2\":\"1\"},{\"1\":\"Principal Project Data Manager\",\"2\":\"1\"},{\"1\":\"Principal Statistical Programmer\",\"2\":\"1\"},{\"1\":\"Product Data Analyst\",\"2\":\"1\"},{\"1\":\"Product Owner: Data, Reporting, & Analytics\",\"2\":\"1\"},{\"1\":\"Project Analyst or Data Manager\",\"2\":\"1\"},{\"1\":\"Provider Data Analyst\",\"2\":\"1\"},{\"1\":\"Provider Data Specialist III\",\"2\":\"1\"},{\"1\":\"Quality data analyst\",\"2\":\"1\"},{\"1\":\"Quality Improvement Data Analyst\",\"2\":\"1\"},{\"1\":\"Records and Data Control Specialist\",\"2\":\"1\"},{\"1\":\"Recruiter & Data Analyst\",\"2\":\"1\"},{\"1\":\"Reporting & Data Analyst\",\"2\":\"1\"},{\"1\":\"Research Data Analyst\",\"2\":\"1\"},{\"1\":\"Research Data Coordinator\",\"2\":\"1\"},{\"1\":\"Research Data Scientist\",\"2\":\"1\"},{\"1\":\"Research Data Specialist\",\"2\":\"1\"},{\"1\":\"Research Specialist/Data Analyst\",\"2\":\"1\"},{\"1\":\"Senior Advisor, Data Science\",\"2\":\"1\"},{\"1\":\"Senior Associate Data Scientist\",\"2\":\"1\"},{\"1\":\"Senior biostatistician\",\"2\":\"1\"},{\"1\":\"Senior Biostatistician\",\"2\":\"1\"},{\"1\":\"Senior Clinical Data Analyst\",\"2\":\"1\"},{\"1\":\"Senior Data & Policy Specialist\",\"2\":\"1\"},{\"1\":\"Senior Data Analytics Developer\",\"2\":\"1\"},{\"1\":\"Senior Data architect\",\"2\":\"1\"},{\"1\":\"Senior Data Architect\",\"2\":\"1\"},{\"1\":\"Senior data engineer\",\"2\":\"1\"},{\"1\":\"Senior Data Planner\",\"2\":\"1\"},{\"1\":\"Senior Data Quality Specialist\",\"2\":\"1\"},{\"1\":\"senior data scientist\",\"2\":\"1\"},{\"1\":\"Senior Data scientist\",\"2\":\"1\"},{\"1\":\"Senior Data Specialist\",\"2\":\"1\"},{\"1\":\"Senior Database Administrator\",\"2\":\"1\"},{\"1\":\"Senior Database Analyst\",\"2\":\"1\"},{\"1\":\"Senior Database Engineer\",\"2\":\"1\"},{\"1\":\"Senior director data management\",\"2\":\"1\"},{\"1\":\"Senior Director, Data Engineering\",\"2\":\"1\"},{\"1\":\"Senior Editor, Data Visualization\",\"2\":\"1\"},{\"1\":\"Senior GIS Data Analyst\",\"2\":\"1\"},{\"1\":\"Senior Health Data Analyst\",\"2\":\"1\"},{\"1\":\"Senior Manager, Statistics\",\"2\":\"1\"},{\"1\":\"senior marketing data specialist\",\"2\":\"1\"},{\"1\":\"Senior Research Data Analyst\",\"2\":\"1\"},{\"1\":\"Senior statistical analytical programmwr\",\"2\":\"1\"},{\"1\":\"Senior Technical Data Analyst\",\"2\":\"1\"},{\"1\":\"Snr Data Engineer\",\"2\":\"1\"},{\"1\":\"Software and Database Engineer\",\"2\":\"1\"},{\"1\":\"Spatial Data Analyst\",\"2\":\"1\"},{\"1\":\"Sr data consultant\",\"2\":\"1\"},{\"1\":\"Sr Database Administrator\",\"2\":\"1\"},{\"1\":\"Sr Fraud Data Analyst\",\"2\":\"1\"},{\"1\":\"Sr Manager, Data\",\"2\":\"1\"},{\"1\":\"Sr. Data Analyst\",\"2\":\"1\"},{\"1\":\"Sr. Data Scientist\",\"2\":\"1\"},{\"1\":\"Sr. Database Analyst\",\"2\":\"1\"},{\"1\":\"Staff Data Scientist\",\"2\":\"1\"},{\"1\":\"Statistical Analyst\",\"2\":\"1\"},{\"1\":\"Statistical Analyst II\",\"2\":\"1\"},{\"1\":\"Statistical Associate\",\"2\":\"1\"},{\"1\":\"Statistical Officer\",\"2\":\"1\"},{\"1\":\"Statistical Program Manager\",\"2\":\"1\"},{\"1\":\"Statistical Programmer\",\"2\":\"1\"},{\"1\":\"Statistical Programmer II\",\"2\":\"1\"},{\"1\":\"Statistical Programmer/Data Analyst\",\"2\":\"1\"},{\"1\":\"Statistician II\",\"2\":\"1\"},{\"1\":\"Statistics Supervisor\",\"2\":\"1\"},{\"1\":\"Strategic Data Manager\",\"2\":\"1\"},{\"1\":\"Student data specialist\",\"2\":\"1\"},{\"1\":\"Surveillance Data Manager\",\"2\":\"1\"},{\"1\":\"Survey Statistician\",\"2\":\"1\"},{\"1\":\"Technical consultant (data science/AI)\",\"2\":\"1\"},{\"1\":\"Technical Data Analyst\",\"2\":\"1\"},{\"1\":\"Technical Data Msnager\",\"2\":\"1\"},{\"1\":\"Technical Lead, Data Discovery\",\"2\":\"1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\r\n  \r\n\r\nI might check this out later – quite a few responses.\r\nIn terms of location, we have country, state, and city, but I’ll just be looking at just the country level for now:\r\n\r\n\r\nsurvey %>%\r\n  count(country, sort = T) %>%\r\n  rmarkdown::paged_table()\r\n\r\n\r\n\r\n\r\n{\"columns\":[{\"label\":[\"country\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"n\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"United States\",\"2\":\"9010\"},{\"1\":\"USA\",\"2\":\"7918\"},{\"1\":\"US\",\"2\":\"2485\"},{\"1\":\"Canada\",\"2\":\"1543\"},{\"1\":\"United Kingdom\",\"2\":\"584\"},{\"1\":\"UK\",\"2\":\"579\"},{\"1\":\"U.S.\",\"2\":\"569\"},{\"1\":\"United States of America\",\"2\":\"425\"},{\"1\":\"Usa\",\"2\":\"420\"},{\"1\":\"Australia\",\"2\":\"368\"},{\"1\":\"United states\",\"2\":\"201\"},{\"1\":\"Germany\",\"2\":\"179\"},{\"1\":\"usa\",\"2\":\"170\"},{\"1\":\"England\",\"2\":\"157\"},{\"1\":\"Ireland\",\"2\":\"117\"},{\"1\":\"united states\",\"2\":\"104\"},{\"1\":\"Us\",\"2\":\"102\"},{\"1\":\"New Zealand\",\"2\":\"100\"},{\"1\":\"Uk\",\"2\":\"87\"},{\"1\":\"France\",\"2\":\"56\"},{\"1\":\"Netherlands\",\"2\":\"47\"},{\"1\":\"Scotland\",\"2\":\"44\"},{\"1\":\"Spain\",\"2\":\"42\"},{\"1\":\"U.S.A.\",\"2\":\"41\"},{\"1\":\"Sweden\",\"2\":\"38\"},{\"1\":\"Switzerland\",\"2\":\"35\"},{\"1\":\"Belgium\",\"2\":\"32\"},{\"1\":\"us\",\"2\":\"32\"},{\"1\":\"Japan\",\"2\":\"27\"},{\"1\":\"The Netherlands\",\"2\":\"24\"},{\"1\":\"canada\",\"2\":\"23\"},{\"1\":\"America\",\"2\":\"20\"},{\"1\":\"U.S\",\"2\":\"19\"},{\"1\":\"Denmark\",\"2\":\"18\"},{\"1\":\"United State\",\"2\":\"17\"},{\"1\":\"Finland\",\"2\":\"15\"},{\"1\":\"South Africa\",\"2\":\"15\"},{\"1\":\"Israel\",\"2\":\"14\"},{\"1\":\"Unites States\",\"2\":\"14\"},{\"1\":\"Austria\",\"2\":\"13\"},{\"1\":\"India\",\"2\":\"13\"},{\"1\":\"Italy\",\"2\":\"13\"},{\"1\":\"Malaysia\",\"2\":\"13\"},{\"1\":\"Norway\",\"2\":\"13\"},{\"1\":\"United kingdom\",\"2\":\"12\"},{\"1\":\"Brazil\",\"2\":\"11\"},{\"1\":\"Singapore\",\"2\":\"11\"},{\"1\":\"U.K.\",\"2\":\"11\"},{\"1\":\"United Stated\",\"2\":\"9\"},{\"1\":\"Philippines\",\"2\":\"8\"},{\"1\":\"U.S.A\",\"2\":\"8\"},{\"1\":\"China\",\"2\":\"7\"},{\"1\":\"Mexico\",\"2\":\"7\"},{\"1\":\"U. S.\",\"2\":\"7\"},{\"1\":\"UNITED STATES\",\"2\":\"7\"},{\"1\":\"United States of america\",\"2\":\"7\"},{\"1\":\"Poland\",\"2\":\"6\"},{\"1\":\"The United States\",\"2\":\"6\"},{\"1\":\"CANADA\",\"2\":\"5\"},{\"1\":\"Great Britain\",\"2\":\"5\"},{\"1\":\"Greece\",\"2\":\"5\"},{\"1\":\"NZ\",\"2\":\"5\"},{\"1\":\"Portugal\",\"2\":\"5\"},{\"1\":\"South Korea\",\"2\":\"5\"},{\"1\":\"United Sates\",\"2\":\"5\"},{\"1\":\"Argentina\",\"2\":\"4\"},{\"1\":\"England, UK\",\"2\":\"4\"},{\"1\":\"Hong Kong\",\"2\":\"4\"},{\"1\":\"New zealand\",\"2\":\"4\"},{\"1\":\"Puerto Rico\",\"2\":\"4\"},{\"1\":\"uk\",\"2\":\"4\"},{\"1\":\"united kingdom\",\"2\":\"4\"},{\"1\":\"united States\",\"2\":\"4\"},{\"1\":\"United states of America\",\"2\":\"4\"},{\"1\":\"United States Of America\",\"2\":\"4\"},{\"1\":\"UnitedStates\",\"2\":\"4\"},{\"1\":\"Wales\",\"2\":\"4\"},{\"1\":\"<U+0001F1FA><U+0001F1F8>\",\"2\":\"3\"},{\"1\":\"australia\",\"2\":\"3\"},{\"1\":\"Czech Republic\",\"2\":\"3\"},{\"1\":\"denmark\",\"2\":\"3\"},{\"1\":\"England, United Kingdom\",\"2\":\"3\"},{\"1\":\"ireland\",\"2\":\"3\"},{\"1\":\"Latvia\",\"2\":\"3\"},{\"1\":\"netherlands\",\"2\":\"3\"},{\"1\":\"Northern Ireland\",\"2\":\"3\"},{\"1\":\"Romania\",\"2\":\"3\"},{\"1\":\"Taiwan\",\"2\":\"3\"},{\"1\":\"U.s.\",\"2\":\"3\"},{\"1\":\"United Stares\",\"2\":\"3\"},{\"1\":\"United Statea\",\"2\":\"3\"},{\"1\":\"Bangladesh\",\"2\":\"2\"},{\"1\":\"Bermuda\",\"2\":\"2\"},{\"1\":\"Bulgaria\",\"2\":\"2\"},{\"1\":\"Canda\",\"2\":\"2\"},{\"1\":\"england\",\"2\":\"2\"},{\"1\":\"Estonia\",\"2\":\"2\"},{\"1\":\"germany\",\"2\":\"2\"},{\"1\":\"Ghana\",\"2\":\"2\"},{\"1\":\"Hungary\",\"2\":\"2\"},{\"1\":\"I.S.\",\"2\":\"2\"},{\"1\":\"Indonesia\",\"2\":\"2\"},{\"1\":\"ISA\",\"2\":\"2\"},{\"1\":\"Kenya\",\"2\":\"2\"},{\"1\":\"Lithuania\",\"2\":\"2\"},{\"1\":\"Luxembourg\",\"2\":\"2\"},{\"1\":\"Pakistan\",\"2\":\"2\"},{\"1\":\"Remote\",\"2\":\"2\"},{\"1\":\"Scotland, UK\",\"2\":\"2\"},{\"1\":\"South africa\",\"2\":\"2\"},{\"1\":\"spain\",\"2\":\"2\"},{\"1\":\"Thailand\",\"2\":\"2\"},{\"1\":\"The US\",\"2\":\"2\"},{\"1\":\"u.s.\",\"2\":\"2\"},{\"1\":\"UK (England)\",\"2\":\"2\"},{\"1\":\"Unite States\",\"2\":\"2\"},{\"1\":\"United Kingdom (England)\",\"2\":\"2\"},{\"1\":\"United Sates of America\",\"2\":\"2\"},{\"1\":\"United State of America\",\"2\":\"2\"},{\"1\":\"Unites states\",\"2\":\"2\"},{\"1\":\"USA tomorrow\",\"2\":\"2\"},{\"1\":\"Vietnam\",\"2\":\"2\"},{\"1\":\"$2,175.84/year is deducted for benefits\",\"2\":\"1\"},{\"1\":\"Afghanistan\",\"2\":\"1\"},{\"1\":\"Africa\",\"2\":\"1\"},{\"1\":\"america\",\"2\":\"1\"},{\"1\":\"ARGENTINA BUT MY ORG IS IN THAILAND\",\"2\":\"1\"},{\"1\":\"Australi\",\"2\":\"1\"},{\"1\":\"Australian\",\"2\":\"1\"},{\"1\":\"Austria, but I work remotely for a Dutch/British company\",\"2\":\"1\"},{\"1\":\"bonus based on meeting yearly goals set w/ my supervisor\",\"2\":\"1\"},{\"1\":\"Brasil\",\"2\":\"1\"},{\"1\":\"Britain\",\"2\":\"1\"},{\"1\":\"California\",\"2\":\"1\"},{\"1\":\"Cambodia\",\"2\":\"1\"},{\"1\":\"Can\",\"2\":\"1\"},{\"1\":\"Canad\",\"2\":\"1\"},{\"1\":\"Canada and USA\",\"2\":\"1\"},{\"1\":\"Canada, Ottawa, ontario\",\"2\":\"1\"},{\"1\":\"Canadw\",\"2\":\"1\"},{\"1\":\"Catalonia\",\"2\":\"1\"},{\"1\":\"Cayman Islands\",\"2\":\"1\"},{\"1\":\"Chile\",\"2\":\"1\"},{\"1\":\"Colombia\",\"2\":\"1\"},{\"1\":\"Congo\",\"2\":\"1\"},{\"1\":\"Contracts\",\"2\":\"1\"},{\"1\":\"Costa Rica\",\"2\":\"1\"},{\"1\":\"Cote d'Ivoire\",\"2\":\"1\"},{\"1\":\"Croatia\",\"2\":\"1\"},{\"1\":\"Csnada\",\"2\":\"1\"},{\"1\":\"Cuba\",\"2\":\"1\"},{\"1\":\"Currently finance\",\"2\":\"1\"},{\"1\":\"czech republic\",\"2\":\"1\"},{\"1\":\"Czech republic\",\"2\":\"1\"},{\"1\":\"Czechia\",\"2\":\"1\"},{\"1\":\"Danmark\",\"2\":\"1\"},{\"1\":\"Ecuador\",\"2\":\"1\"},{\"1\":\"England, Gb\",\"2\":\"1\"},{\"1\":\"England, UK.\",\"2\":\"1\"},{\"1\":\"England/UK\",\"2\":\"1\"},{\"1\":\"Englang\",\"2\":\"1\"},{\"1\":\"Eritrea\",\"2\":\"1\"},{\"1\":\"europe\",\"2\":\"1\"},{\"1\":\"finland\",\"2\":\"1\"},{\"1\":\"For the United States government, but posted overseas\",\"2\":\"1\"},{\"1\":\"france\",\"2\":\"1\"},{\"1\":\"FRANCE\",\"2\":\"1\"},{\"1\":\"From New Zealand but on projects across APAC\",\"2\":\"1\"},{\"1\":\"From Romania, but for an US based company\",\"2\":\"1\"},{\"1\":\"Global\",\"2\":\"1\"},{\"1\":\"Hartford\",\"2\":\"1\"},{\"1\":\"I am located in Canada but I work for a company in the US\",\"2\":\"1\"},{\"1\":\"I earn commission on sales. If I meet quota, I'm guaranteed another 16k min. Last year i earned an additional 27k. It's not uncommon for people in my space to earn 100k+ after commission.\",\"2\":\"1\"},{\"1\":\"I was brought in on this salary to help with the EHR and very quickly was promoted to current position but compensation was not altered.\",\"2\":\"1\"},{\"1\":\"I work for a UAE-based organization, though I am personally in the US.\",\"2\":\"1\"},{\"1\":\"I work for an US based company but I'm from Argentina.\",\"2\":\"1\"},{\"1\":\"International\",\"2\":\"1\"},{\"1\":\"IS\",\"2\":\"1\"},{\"1\":\"Isle of Man\",\"2\":\"1\"},{\"1\":\"Italy (South)\",\"2\":\"1\"},{\"1\":\"Jamaica\",\"2\":\"1\"},{\"1\":\"japan\",\"2\":\"1\"},{\"1\":\"Japan, US Gov position\",\"2\":\"1\"},{\"1\":\"Jersey, Channel islands\",\"2\":\"1\"},{\"1\":\"Jordan\",\"2\":\"1\"},{\"1\":\"Kuwait\",\"2\":\"1\"},{\"1\":\"Luxemburg\",\"2\":\"1\"},{\"1\":\"Mainland China\",\"2\":\"1\"},{\"1\":\"Malta\",\"2\":\"1\"},{\"1\":\"México\",\"2\":\"1\"},{\"1\":\"Morocco\",\"2\":\"1\"},{\"1\":\"n/a (remote from wherever I want)\",\"2\":\"1\"},{\"1\":\"Nederland\",\"2\":\"1\"},{\"1\":\"new zealand\",\"2\":\"1\"},{\"1\":\"New Zealand Aotearoa\",\"2\":\"1\"},{\"1\":\"Nigeria\",\"2\":\"1\"},{\"1\":\"NL\",\"2\":\"1\"},{\"1\":\"Northern Ireland, United Kingdom\",\"2\":\"1\"},{\"1\":\"Panamá\",\"2\":\"1\"},{\"1\":\"Qatar\",\"2\":\"1\"},{\"1\":\"Remote (philippines)\",\"2\":\"1\"},{\"1\":\"Russia\",\"2\":\"1\"},{\"1\":\"Rwanda\",\"2\":\"1\"},{\"1\":\"San Francisco\",\"2\":\"1\"},{\"1\":\"Saudi Arabia\",\"2\":\"1\"},{\"1\":\"Serbia\",\"2\":\"1\"},{\"1\":\"Sierra Leone\",\"2\":\"1\"},{\"1\":\"singapore\",\"2\":\"1\"},{\"1\":\"Slovakia\",\"2\":\"1\"},{\"1\":\"Slovenia\",\"2\":\"1\"},{\"1\":\"Somalia\",\"2\":\"1\"},{\"1\":\"Sri lanka\",\"2\":\"1\"},{\"1\":\"Sri Lanka\",\"2\":\"1\"},{\"1\":\"switzerland\",\"2\":\"1\"},{\"1\":\"SWITZERLAND\",\"2\":\"1\"},{\"1\":\"The Bahamas\",\"2\":\"1\"},{\"1\":\"the netherlands\",\"2\":\"1\"},{\"1\":\"the Netherlands\",\"2\":\"1\"},{\"1\":\"The netherlands\",\"2\":\"1\"},{\"1\":\"Trinidad and Tobago\",\"2\":\"1\"},{\"1\":\"Turkey\",\"2\":\"1\"},{\"1\":\"U. S\",\"2\":\"1\"},{\"1\":\"U.A.\",\"2\":\"1\"},{\"1\":\"U.K\",\"2\":\"1\"},{\"1\":\"U.K. (northern England)\",\"2\":\"1\"},{\"1\":\"U.s.a.\",\"2\":\"1\"},{\"1\":\"U.S>\",\"2\":\"1\"},{\"1\":\"U.SA\",\"2\":\"1\"},{\"1\":\"UA\",\"2\":\"1\"},{\"1\":\"UAE\",\"2\":\"1\"},{\"1\":\"Uganda\",\"2\":\"1\"},{\"1\":\"UK (Northern Ireland)\",\"2\":\"1\"},{\"1\":\"UK for U.S. company\",\"2\":\"1\"},{\"1\":\"UK, but for globally fully remote company\",\"2\":\"1\"},{\"1\":\"UK, remote\",\"2\":\"1\"},{\"1\":\"Ukraine\",\"2\":\"1\"},{\"1\":\"Uniited States\",\"2\":\"1\"},{\"1\":\"United  States\",\"2\":\"1\"},{\"1\":\"United Arab Emirates\",\"2\":\"1\"},{\"1\":\"United Kindom\",\"2\":\"1\"},{\"1\":\"United Kingdom.\",\"2\":\"1\"},{\"1\":\"United Kingdomk\",\"2\":\"1\"},{\"1\":\"united stated\",\"2\":\"1\"},{\"1\":\"United Stateds\",\"2\":\"1\"},{\"1\":\"United Statees\",\"2\":\"1\"},{\"1\":\"United STates\",\"2\":\"1\"},{\"1\":\"UNited States\",\"2\":\"1\"},{\"1\":\"United States- Puerto Rico\",\"2\":\"1\"},{\"1\":\"United States (I work from home and my clients are all over the US/Canada/PR\",\"2\":\"1\"},{\"1\":\"united states of america\",\"2\":\"1\"},{\"1\":\"United states of america\",\"2\":\"1\"},{\"1\":\"United States of American\",\"2\":\"1\"},{\"1\":\"United States of Americas\",\"2\":\"1\"},{\"1\":\"United Statesp\",\"2\":\"1\"},{\"1\":\"United statew\",\"2\":\"1\"},{\"1\":\"United Statss\",\"2\":\"1\"},{\"1\":\"United Stattes\",\"2\":\"1\"},{\"1\":\"United Statues\",\"2\":\"1\"},{\"1\":\"United Status\",\"2\":\"1\"},{\"1\":\"United Statws\",\"2\":\"1\"},{\"1\":\"United Sttes\",\"2\":\"1\"},{\"1\":\"United y\",\"2\":\"1\"},{\"1\":\"Uniteed States\",\"2\":\"1\"},{\"1\":\"Unitef Stated\",\"2\":\"1\"},{\"1\":\"Uniter Statez\",\"2\":\"1\"},{\"1\":\"Unites kingdom\",\"2\":\"1\"},{\"1\":\"Unitied States\",\"2\":\"1\"},{\"1\":\"Uniyed states\",\"2\":\"1\"},{\"1\":\"Uniyes States\",\"2\":\"1\"},{\"1\":\"Unted States\",\"2\":\"1\"},{\"1\":\"Untied States\",\"2\":\"1\"},{\"1\":\"Uruguay\",\"2\":\"1\"},{\"1\":\"uS\",\"2\":\"1\"},{\"1\":\"US govt employee overseas, country withheld\",\"2\":\"1\"},{\"1\":\"US of A\",\"2\":\"1\"},{\"1\":\"uSA\",\"2\":\"1\"},{\"1\":\"UsA\",\"2\":\"1\"},{\"1\":\"USA-- Virgin Islands\",\"2\":\"1\"},{\"1\":\"USA (company is based in a US territory, I work remote)\",\"2\":\"1\"},{\"1\":\"USA, but for foreign gov't\",\"2\":\"1\"},{\"1\":\"USaa\",\"2\":\"1\"},{\"1\":\"USAB\",\"2\":\"1\"},{\"1\":\"Usat\",\"2\":\"1\"},{\"1\":\"USD\",\"2\":\"1\"},{\"1\":\"USS\",\"2\":\"1\"},{\"1\":\"UXZ\",\"2\":\"1\"},{\"1\":\"Virginia\",\"2\":\"1\"},{\"1\":\"Wales (UK)\",\"2\":\"1\"},{\"1\":\"Wales (United Kingdom)\",\"2\":\"1\"},{\"1\":\"Wales, UK\",\"2\":\"1\"},{\"1\":\"We don't get raises, we get quarterly bonuses, but they periodically asses income in the area you work, so I got a raise because a 3rd party assessment showed I was paid too little for the area we were located\",\"2\":\"1\"},{\"1\":\"Worldwide (based in US but short term trips aroudn the world)\",\"2\":\"1\"},{\"1\":\"Y\",\"2\":\"1\"},{\"1\":\"Zimbabwe\",\"2\":\"1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\r\n  \r\n\r\nThis is in need of some data cleaning obviously– a lot of variations on “United States”, for example. I’ll also consolidate England, Scotland, Northern Ireland and Wales into the UK.\r\n\r\n\r\nsurvey <- survey %>%\r\n  mutate(\r\n    country_clean = str_remove_all(tolower(country), \"\\\\.\"),\r\n    country_clean = case_when(\r\n      str_detect(country_clean,\r\n                 \"states|^us|america|d state|^u s|sates\") ~ \"USA\",\r\n      str_detect(country_clean,\r\n                 \"kingdom|^uk|england|scotland|wales|northern i|britain\") ~ \"UK\",\r\n      str_detect(country_clean,\r\n                 \"canada|canda|canadw|csnada\") ~ \"Canada\",\r\n      str_detect(country_clean, \"austral\") ~ \"Australia\",\r\n      str_detect(country_clean, \"brazil|brasil\") ~ \"Brazil\",\r\n      str_detect(country_clean, \"zealand|nz\") ~ \"New Zealand\",\r\n      # If less than three letters, put in all caps\r\n      nchar(country_clean) <= 3 ~ toupper(country_clean),\r\n      # Otherwise, title case\r\n      TRUE ~ str_to_title(country_clean)\r\n    )\r\n  )\r\nsurvey %>%\r\n  count(country, country_clean, sort = T) %>%\r\n  rmarkdown::paged_table()\r\n\r\n\r\n\r\n\r\n{\"columns\":[{\"label\":[\"country\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"country_clean\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"n\"],\"name\":[3],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"United States\",\"2\":\"USA\",\"3\":\"9010\"},{\"1\":\"USA\",\"2\":\"USA\",\"3\":\"7918\"},{\"1\":\"US\",\"2\":\"USA\",\"3\":\"2485\"},{\"1\":\"Canada\",\"2\":\"Canada\",\"3\":\"1543\"},{\"1\":\"United Kingdom\",\"2\":\"UK\",\"3\":\"584\"},{\"1\":\"UK\",\"2\":\"UK\",\"3\":\"579\"},{\"1\":\"U.S.\",\"2\":\"USA\",\"3\":\"569\"},{\"1\":\"United States of America\",\"2\":\"USA\",\"3\":\"425\"},{\"1\":\"Usa\",\"2\":\"USA\",\"3\":\"420\"},{\"1\":\"Australia\",\"2\":\"Australia\",\"3\":\"368\"},{\"1\":\"United states\",\"2\":\"USA\",\"3\":\"201\"},{\"1\":\"Germany\",\"2\":\"Germany\",\"3\":\"179\"},{\"1\":\"usa\",\"2\":\"USA\",\"3\":\"170\"},{\"1\":\"England\",\"2\":\"UK\",\"3\":\"157\"},{\"1\":\"Ireland\",\"2\":\"Ireland\",\"3\":\"117\"},{\"1\":\"united states\",\"2\":\"USA\",\"3\":\"104\"},{\"1\":\"Us\",\"2\":\"USA\",\"3\":\"102\"},{\"1\":\"New Zealand\",\"2\":\"New Zealand\",\"3\":\"100\"},{\"1\":\"Uk\",\"2\":\"UK\",\"3\":\"87\"},{\"1\":\"France\",\"2\":\"France\",\"3\":\"56\"},{\"1\":\"Netherlands\",\"2\":\"Netherlands\",\"3\":\"47\"},{\"1\":\"Scotland\",\"2\":\"UK\",\"3\":\"44\"},{\"1\":\"Spain\",\"2\":\"Spain\",\"3\":\"42\"},{\"1\":\"U.S.A.\",\"2\":\"USA\",\"3\":\"41\"},{\"1\":\"Sweden\",\"2\":\"Sweden\",\"3\":\"38\"},{\"1\":\"Switzerland\",\"2\":\"Switzerland\",\"3\":\"35\"},{\"1\":\"Belgium\",\"2\":\"Belgium\",\"3\":\"32\"},{\"1\":\"us\",\"2\":\"USA\",\"3\":\"32\"},{\"1\":\"Japan\",\"2\":\"Japan\",\"3\":\"27\"},{\"1\":\"The Netherlands\",\"2\":\"The Netherlands\",\"3\":\"24\"},{\"1\":\"canada\",\"2\":\"Canada\",\"3\":\"23\"},{\"1\":\"America\",\"2\":\"USA\",\"3\":\"20\"},{\"1\":\"U.S\",\"2\":\"USA\",\"3\":\"19\"},{\"1\":\"Denmark\",\"2\":\"Denmark\",\"3\":\"18\"},{\"1\":\"United State\",\"2\":\"USA\",\"3\":\"17\"},{\"1\":\"Finland\",\"2\":\"Finland\",\"3\":\"15\"},{\"1\":\"South Africa\",\"2\":\"South Africa\",\"3\":\"15\"},{\"1\":\"Israel\",\"2\":\"Israel\",\"3\":\"14\"},{\"1\":\"Unites States\",\"2\":\"USA\",\"3\":\"14\"},{\"1\":\"Austria\",\"2\":\"Austria\",\"3\":\"13\"},{\"1\":\"India\",\"2\":\"India\",\"3\":\"13\"},{\"1\":\"Italy\",\"2\":\"Italy\",\"3\":\"13\"},{\"1\":\"Malaysia\",\"2\":\"Malaysia\",\"3\":\"13\"},{\"1\":\"Norway\",\"2\":\"Norway\",\"3\":\"13\"},{\"1\":\"United kingdom\",\"2\":\"UK\",\"3\":\"12\"},{\"1\":\"Brazil\",\"2\":\"Brazil\",\"3\":\"11\"},{\"1\":\"Singapore\",\"2\":\"Singapore\",\"3\":\"11\"},{\"1\":\"U.K.\",\"2\":\"UK\",\"3\":\"11\"},{\"1\":\"United Stated\",\"2\":\"USA\",\"3\":\"9\"},{\"1\":\"Philippines\",\"2\":\"Philippines\",\"3\":\"8\"},{\"1\":\"U.S.A\",\"2\":\"USA\",\"3\":\"8\"},{\"1\":\"China\",\"2\":\"China\",\"3\":\"7\"},{\"1\":\"Mexico\",\"2\":\"Mexico\",\"3\":\"7\"},{\"1\":\"U. S.\",\"2\":\"USA\",\"3\":\"7\"},{\"1\":\"UNITED STATES\",\"2\":\"USA\",\"3\":\"7\"},{\"1\":\"United States of america\",\"2\":\"USA\",\"3\":\"7\"},{\"1\":\"Poland\",\"2\":\"Poland\",\"3\":\"6\"},{\"1\":\"The United States\",\"2\":\"USA\",\"3\":\"6\"},{\"1\":\"CANADA\",\"2\":\"Canada\",\"3\":\"5\"},{\"1\":\"Great Britain\",\"2\":\"UK\",\"3\":\"5\"},{\"1\":\"Greece\",\"2\":\"Greece\",\"3\":\"5\"},{\"1\":\"NZ\",\"2\":\"New Zealand\",\"3\":\"5\"},{\"1\":\"Portugal\",\"2\":\"Portugal\",\"3\":\"5\"},{\"1\":\"South Korea\",\"2\":\"South Korea\",\"3\":\"5\"},{\"1\":\"United Sates\",\"2\":\"USA\",\"3\":\"5\"},{\"1\":\"Argentina\",\"2\":\"Argentina\",\"3\":\"4\"},{\"1\":\"England, UK\",\"2\":\"UK\",\"3\":\"4\"},{\"1\":\"Hong Kong\",\"2\":\"Hong Kong\",\"3\":\"4\"},{\"1\":\"New zealand\",\"2\":\"New Zealand\",\"3\":\"4\"},{\"1\":\"Puerto Rico\",\"2\":\"Puerto Rico\",\"3\":\"4\"},{\"1\":\"uk\",\"2\":\"UK\",\"3\":\"4\"},{\"1\":\"united kingdom\",\"2\":\"UK\",\"3\":\"4\"},{\"1\":\"united States\",\"2\":\"USA\",\"3\":\"4\"},{\"1\":\"United states of America\",\"2\":\"USA\",\"3\":\"4\"},{\"1\":\"United States Of America\",\"2\":\"USA\",\"3\":\"4\"},{\"1\":\"UnitedStates\",\"2\":\"USA\",\"3\":\"4\"},{\"1\":\"Wales\",\"2\":\"UK\",\"3\":\"4\"},{\"1\":\"<U+0001F1FA><U+0001F1F8>\",\"2\":\"<U+0001F1FA><U+0001F1F8>\",\"3\":\"3\"},{\"1\":\"australia\",\"2\":\"Australia\",\"3\":\"3\"},{\"1\":\"Czech Republic\",\"2\":\"Czech Republic\",\"3\":\"3\"},{\"1\":\"denmark\",\"2\":\"Denmark\",\"3\":\"3\"},{\"1\":\"England, United Kingdom\",\"2\":\"UK\",\"3\":\"3\"},{\"1\":\"ireland\",\"2\":\"Ireland\",\"3\":\"3\"},{\"1\":\"Latvia\",\"2\":\"Latvia\",\"3\":\"3\"},{\"1\":\"netherlands\",\"2\":\"Netherlands\",\"3\":\"3\"},{\"1\":\"Northern Ireland\",\"2\":\"UK\",\"3\":\"3\"},{\"1\":\"Romania\",\"2\":\"Romania\",\"3\":\"3\"},{\"1\":\"Taiwan\",\"2\":\"Taiwan\",\"3\":\"3\"},{\"1\":\"U.s.\",\"2\":\"USA\",\"3\":\"3\"},{\"1\":\"United Stares\",\"2\":\"United Stares\",\"3\":\"3\"},{\"1\":\"United Statea\",\"2\":\"USA\",\"3\":\"3\"},{\"1\":\"Bangladesh\",\"2\":\"Bangladesh\",\"3\":\"2\"},{\"1\":\"Bermuda\",\"2\":\"Bermuda\",\"3\":\"2\"},{\"1\":\"Bulgaria\",\"2\":\"Bulgaria\",\"3\":\"2\"},{\"1\":\"Canda\",\"2\":\"Canada\",\"3\":\"2\"},{\"1\":\"england\",\"2\":\"UK\",\"3\":\"2\"},{\"1\":\"Estonia\",\"2\":\"Estonia\",\"3\":\"2\"},{\"1\":\"germany\",\"2\":\"Germany\",\"3\":\"2\"},{\"1\":\"Ghana\",\"2\":\"Ghana\",\"3\":\"2\"},{\"1\":\"Hungary\",\"2\":\"Hungary\",\"3\":\"2\"},{\"1\":\"I.S.\",\"2\":\"IS\",\"3\":\"2\"},{\"1\":\"Indonesia\",\"2\":\"Indonesia\",\"3\":\"2\"},{\"1\":\"ISA\",\"2\":\"ISA\",\"3\":\"2\"},{\"1\":\"Kenya\",\"2\":\"Kenya\",\"3\":\"2\"},{\"1\":\"Lithuania\",\"2\":\"Lithuania\",\"3\":\"2\"},{\"1\":\"Luxembourg\",\"2\":\"Luxembourg\",\"3\":\"2\"},{\"1\":\"Pakistan\",\"2\":\"Pakistan\",\"3\":\"2\"},{\"1\":\"Remote\",\"2\":\"Remote\",\"3\":\"2\"},{\"1\":\"Scotland, UK\",\"2\":\"UK\",\"3\":\"2\"},{\"1\":\"South africa\",\"2\":\"South Africa\",\"3\":\"2\"},{\"1\":\"spain\",\"2\":\"Spain\",\"3\":\"2\"},{\"1\":\"Thailand\",\"2\":\"Thailand\",\"3\":\"2\"},{\"1\":\"The US\",\"2\":\"The Us\",\"3\":\"2\"},{\"1\":\"u.s.\",\"2\":\"USA\",\"3\":\"2\"},{\"1\":\"UK (England)\",\"2\":\"UK\",\"3\":\"2\"},{\"1\":\"Unite States\",\"2\":\"USA\",\"3\":\"2\"},{\"1\":\"United Kingdom (England)\",\"2\":\"UK\",\"3\":\"2\"},{\"1\":\"United Sates of America\",\"2\":\"USA\",\"3\":\"2\"},{\"1\":\"United State of America\",\"2\":\"USA\",\"3\":\"2\"},{\"1\":\"Unites states\",\"2\":\"USA\",\"3\":\"2\"},{\"1\":\"USA tomorrow\",\"2\":\"USA\",\"3\":\"2\"},{\"1\":\"Vietnam\",\"2\":\"Vietnam\",\"3\":\"2\"},{\"1\":\"$2,175.84/year is deducted for benefits\",\"2\":\"$2,17584/Year Is Deducted For Benefits\",\"3\":\"1\"},{\"1\":\"Afghanistan\",\"2\":\"Afghanistan\",\"3\":\"1\"},{\"1\":\"Africa\",\"2\":\"Africa\",\"3\":\"1\"},{\"1\":\"america\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"ARGENTINA BUT MY ORG IS IN THAILAND\",\"2\":\"Argentina But My Org Is In Thailand\",\"3\":\"1\"},{\"1\":\"Australi\",\"2\":\"Australia\",\"3\":\"1\"},{\"1\":\"Australian\",\"2\":\"Australia\",\"3\":\"1\"},{\"1\":\"Austria, but I work remotely for a Dutch/British company\",\"2\":\"Austria, But I Work Remotely For A Dutch/British Company\",\"3\":\"1\"},{\"1\":\"bonus based on meeting yearly goals set w/ my supervisor\",\"2\":\"Bonus Based On Meeting Yearly Goals Set W/ My Supervisor\",\"3\":\"1\"},{\"1\":\"Brasil\",\"2\":\"Brazil\",\"3\":\"1\"},{\"1\":\"Britain\",\"2\":\"UK\",\"3\":\"1\"},{\"1\":\"California\",\"2\":\"California\",\"3\":\"1\"},{\"1\":\"Cambodia\",\"2\":\"Cambodia\",\"3\":\"1\"},{\"1\":\"Can\",\"2\":\"CAN\",\"3\":\"1\"},{\"1\":\"Canad\",\"2\":\"Canad\",\"3\":\"1\"},{\"1\":\"Canada and USA\",\"2\":\"Canada\",\"3\":\"1\"},{\"1\":\"Canada, Ottawa, ontario\",\"2\":\"Canada\",\"3\":\"1\"},{\"1\":\"Canadw\",\"2\":\"Canada\",\"3\":\"1\"},{\"1\":\"Catalonia\",\"2\":\"Catalonia\",\"3\":\"1\"},{\"1\":\"Cayman Islands\",\"2\":\"Cayman Islands\",\"3\":\"1\"},{\"1\":\"Chile\",\"2\":\"Chile\",\"3\":\"1\"},{\"1\":\"Colombia\",\"2\":\"Colombia\",\"3\":\"1\"},{\"1\":\"Congo\",\"2\":\"Congo\",\"3\":\"1\"},{\"1\":\"Contracts\",\"2\":\"Contracts\",\"3\":\"1\"},{\"1\":\"Costa Rica\",\"2\":\"Costa Rica\",\"3\":\"1\"},{\"1\":\"Cote d'Ivoire\",\"2\":\"Cote D'ivoire\",\"3\":\"1\"},{\"1\":\"Croatia\",\"2\":\"Croatia\",\"3\":\"1\"},{\"1\":\"Csnada\",\"2\":\"Canada\",\"3\":\"1\"},{\"1\":\"Cuba\",\"2\":\"Cuba\",\"3\":\"1\"},{\"1\":\"Currently finance\",\"2\":\"Currently Finance\",\"3\":\"1\"},{\"1\":\"czech republic\",\"2\":\"Czech Republic\",\"3\":\"1\"},{\"1\":\"Czech republic\",\"2\":\"Czech Republic\",\"3\":\"1\"},{\"1\":\"Czechia\",\"2\":\"Czechia\",\"3\":\"1\"},{\"1\":\"Danmark\",\"2\":\"Danmark\",\"3\":\"1\"},{\"1\":\"Ecuador\",\"2\":\"Ecuador\",\"3\":\"1\"},{\"1\":\"England, Gb\",\"2\":\"UK\",\"3\":\"1\"},{\"1\":\"England, UK.\",\"2\":\"UK\",\"3\":\"1\"},{\"1\":\"England/UK\",\"2\":\"UK\",\"3\":\"1\"},{\"1\":\"Englang\",\"2\":\"Englang\",\"3\":\"1\"},{\"1\":\"Eritrea\",\"2\":\"Eritrea\",\"3\":\"1\"},{\"1\":\"europe\",\"2\":\"Europe\",\"3\":\"1\"},{\"1\":\"finland\",\"2\":\"Finland\",\"3\":\"1\"},{\"1\":\"For the United States government, but posted overseas\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"france\",\"2\":\"France\",\"3\":\"1\"},{\"1\":\"FRANCE\",\"2\":\"France\",\"3\":\"1\"},{\"1\":\"From New Zealand but on projects across APAC\",\"2\":\"New Zealand\",\"3\":\"1\"},{\"1\":\"From Romania, but for an US based company\",\"2\":\"From Romania, But For An Us Based Company\",\"3\":\"1\"},{\"1\":\"Global\",\"2\":\"Global\",\"3\":\"1\"},{\"1\":\"Hartford\",\"2\":\"Hartford\",\"3\":\"1\"},{\"1\":\"I am located in Canada but I work for a company in the US\",\"2\":\"Canada\",\"3\":\"1\"},{\"1\":\"I earn commission on sales. If I meet quota, I'm guaranteed another 16k min. Last year i earned an additional 27k. It's not uncommon for people in my space to earn 100k+ after commission.\",\"2\":\"I Earn Commission On Sales If I Meet Quota, I'm Guaranteed Another 16k Min Last Year I Earned An Additional 27k It's Not Uncommon For People In My Space To Earn 100k+ After Commission\",\"3\":\"1\"},{\"1\":\"I was brought in on this salary to help with the EHR and very quickly was promoted to current position but compensation was not altered.\",\"2\":\"I Was Brought In On This Salary To Help With The Ehr And Very Quickly Was Promoted To Current Position But Compensation Was Not Altered\",\"3\":\"1\"},{\"1\":\"I work for a UAE-based organization, though I am personally in the US.\",\"2\":\"I Work For A Uae-Based Organization, Though I Am Personally In The Us\",\"3\":\"1\"},{\"1\":\"I work for an US based company but I'm from Argentina.\",\"2\":\"I Work For An Us Based Company But I'm From Argentina\",\"3\":\"1\"},{\"1\":\"International\",\"2\":\"International\",\"3\":\"1\"},{\"1\":\"IS\",\"2\":\"IS\",\"3\":\"1\"},{\"1\":\"Isle of Man\",\"2\":\"Isle Of Man\",\"3\":\"1\"},{\"1\":\"Italy (South)\",\"2\":\"Italy (South)\",\"3\":\"1\"},{\"1\":\"Jamaica\",\"2\":\"Jamaica\",\"3\":\"1\"},{\"1\":\"japan\",\"2\":\"Japan\",\"3\":\"1\"},{\"1\":\"Japan, US Gov position\",\"2\":\"Japan, Us Gov Position\",\"3\":\"1\"},{\"1\":\"Jersey, Channel islands\",\"2\":\"Jersey, Channel Islands\",\"3\":\"1\"},{\"1\":\"Jordan\",\"2\":\"Jordan\",\"3\":\"1\"},{\"1\":\"Kuwait\",\"2\":\"Kuwait\",\"3\":\"1\"},{\"1\":\"Luxemburg\",\"2\":\"Luxemburg\",\"3\":\"1\"},{\"1\":\"Mainland China\",\"2\":\"Mainland China\",\"3\":\"1\"},{\"1\":\"Malta\",\"2\":\"Malta\",\"3\":\"1\"},{\"1\":\"México\",\"2\":\"México\",\"3\":\"1\"},{\"1\":\"Morocco\",\"2\":\"Morocco\",\"3\":\"1\"},{\"1\":\"n/a (remote from wherever I want)\",\"2\":\"N/A (Remote From Wherever I Want)\",\"3\":\"1\"},{\"1\":\"Nederland\",\"2\":\"Nederland\",\"3\":\"1\"},{\"1\":\"new zealand\",\"2\":\"New Zealand\",\"3\":\"1\"},{\"1\":\"New Zealand Aotearoa\",\"2\":\"New Zealand\",\"3\":\"1\"},{\"1\":\"Nigeria\",\"2\":\"Nigeria\",\"3\":\"1\"},{\"1\":\"NL\",\"2\":\"NL\",\"3\":\"1\"},{\"1\":\"Northern Ireland, United Kingdom\",\"2\":\"UK\",\"3\":\"1\"},{\"1\":\"Panamá\",\"2\":\"Panamá\",\"3\":\"1\"},{\"1\":\"Qatar\",\"2\":\"Qatar\",\"3\":\"1\"},{\"1\":\"Remote (philippines)\",\"2\":\"Remote (Philippines)\",\"3\":\"1\"},{\"1\":\"Russia\",\"2\":\"Russia\",\"3\":\"1\"},{\"1\":\"Rwanda\",\"2\":\"Rwanda\",\"3\":\"1\"},{\"1\":\"San Francisco\",\"2\":\"San Francisco\",\"3\":\"1\"},{\"1\":\"Saudi Arabia\",\"2\":\"Saudi Arabia\",\"3\":\"1\"},{\"1\":\"Serbia\",\"2\":\"Serbia\",\"3\":\"1\"},{\"1\":\"Sierra Leone\",\"2\":\"Sierra Leone\",\"3\":\"1\"},{\"1\":\"singapore\",\"2\":\"Singapore\",\"3\":\"1\"},{\"1\":\"Slovakia\",\"2\":\"Slovakia\",\"3\":\"1\"},{\"1\":\"Slovenia\",\"2\":\"Slovenia\",\"3\":\"1\"},{\"1\":\"Somalia\",\"2\":\"Somalia\",\"3\":\"1\"},{\"1\":\"Sri lanka\",\"2\":\"Sri Lanka\",\"3\":\"1\"},{\"1\":\"Sri Lanka\",\"2\":\"Sri Lanka\",\"3\":\"1\"},{\"1\":\"switzerland\",\"2\":\"Switzerland\",\"3\":\"1\"},{\"1\":\"SWITZERLAND\",\"2\":\"Switzerland\",\"3\":\"1\"},{\"1\":\"The Bahamas\",\"2\":\"The Bahamas\",\"3\":\"1\"},{\"1\":\"the netherlands\",\"2\":\"The Netherlands\",\"3\":\"1\"},{\"1\":\"the Netherlands\",\"2\":\"The Netherlands\",\"3\":\"1\"},{\"1\":\"The netherlands\",\"2\":\"The Netherlands\",\"3\":\"1\"},{\"1\":\"Trinidad and Tobago\",\"2\":\"Trinidad And Tobago\",\"3\":\"1\"},{\"1\":\"Turkey\",\"2\":\"Turkey\",\"3\":\"1\"},{\"1\":\"U. S\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"U.A.\",\"2\":\"UA\",\"3\":\"1\"},{\"1\":\"U.K\",\"2\":\"UK\",\"3\":\"1\"},{\"1\":\"U.K. (northern England)\",\"2\":\"UK\",\"3\":\"1\"},{\"1\":\"U.s.a.\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"U.S>\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"U.SA\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"UA\",\"2\":\"UA\",\"3\":\"1\"},{\"1\":\"UAE\",\"2\":\"UAE\",\"3\":\"1\"},{\"1\":\"Uganda\",\"2\":\"Uganda\",\"3\":\"1\"},{\"1\":\"UK (Northern Ireland)\",\"2\":\"UK\",\"3\":\"1\"},{\"1\":\"UK for U.S. company\",\"2\":\"UK\",\"3\":\"1\"},{\"1\":\"UK, but for globally fully remote company\",\"2\":\"UK\",\"3\":\"1\"},{\"1\":\"UK, remote\",\"2\":\"UK\",\"3\":\"1\"},{\"1\":\"Ukraine\",\"2\":\"UK\",\"3\":\"1\"},{\"1\":\"Uniited States\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"United  States\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"United Arab Emirates\",\"2\":\"United Arab Emirates\",\"3\":\"1\"},{\"1\":\"United Kindom\",\"2\":\"United Kindom\",\"3\":\"1\"},{\"1\":\"United Kingdom.\",\"2\":\"UK\",\"3\":\"1\"},{\"1\":\"United Kingdomk\",\"2\":\"UK\",\"3\":\"1\"},{\"1\":\"united stated\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"United Stateds\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"United Statees\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"United STates\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"UNited States\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"United States- Puerto Rico\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"United States (I work from home and my clients are all over the US/Canada/PR\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"united states of america\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"United states of america\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"United States of American\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"United States of Americas\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"United Statesp\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"United statew\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"United Statss\",\"2\":\"United Statss\",\"3\":\"1\"},{\"1\":\"United Stattes\",\"2\":\"United Stattes\",\"3\":\"1\"},{\"1\":\"United Statues\",\"2\":\"United Statues\",\"3\":\"1\"},{\"1\":\"United Status\",\"2\":\"United Status\",\"3\":\"1\"},{\"1\":\"United Statws\",\"2\":\"United Statws\",\"3\":\"1\"},{\"1\":\"United Sttes\",\"2\":\"United Sttes\",\"3\":\"1\"},{\"1\":\"United y\",\"2\":\"United Y\",\"3\":\"1\"},{\"1\":\"Uniteed States\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"Unitef Stated\",\"2\":\"Unitef Stated\",\"3\":\"1\"},{\"1\":\"Uniter Statez\",\"2\":\"Uniter Statez\",\"3\":\"1\"},{\"1\":\"Unites kingdom\",\"2\":\"UK\",\"3\":\"1\"},{\"1\":\"Unitied States\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"Uniyed states\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"Uniyes States\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"Unted States\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"Untied States\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"Uruguay\",\"2\":\"Uruguay\",\"3\":\"1\"},{\"1\":\"uS\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"US govt employee overseas, country withheld\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"US of A\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"uSA\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"UsA\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"USA-- Virgin Islands\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"USA (company is based in a US territory, I work remote)\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"USA, but for foreign gov't\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"USaa\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"USAB\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"Usat\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"USD\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"USS\",\"2\":\"USA\",\"3\":\"1\"},{\"1\":\"UXZ\",\"2\":\"UXZ\",\"3\":\"1\"},{\"1\":\"Virginia\",\"2\":\"Virginia\",\"3\":\"1\"},{\"1\":\"Wales (UK)\",\"2\":\"UK\",\"3\":\"1\"},{\"1\":\"Wales (United Kingdom)\",\"2\":\"UK\",\"3\":\"1\"},{\"1\":\"Wales, UK\",\"2\":\"UK\",\"3\":\"1\"},{\"1\":\"We don't get raises, we get quarterly bonuses, but they periodically asses income in the area you work, so I got a raise because a 3rd party assessment showed I was paid too little for the area we were located\",\"2\":\"We Don't Get Raises, We Get Quarterly Bonuses, But They Periodically Asses Income In The Area You Work, So I Got A Raise Because A 3rd Party Assessment Showed I Was Paid Too Little For The Area We Were Located\",\"3\":\"1\"},{\"1\":\"Worldwide (based in US but short term trips aroudn the world)\",\"2\":\"Worldwide (Based In Us But Short Term Trips Aroudn The World)\",\"3\":\"1\"},{\"1\":\"Y\",\"2\":\"Y\",\"3\":\"1\"},{\"1\":\"Zimbabwe\",\"2\":\"Zimbabwe\",\"3\":\"1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\r\n  \r\n\r\nI think that did a pretty reasonable job of consolidating spellings/misspellings of the most common countries. Visualize the counts, lumping any countries with <20 responses into “Other”:\r\n\r\n\r\nsurvey %>%\r\n  mutate(\r\n    country_fact = fct_infreq(country_clean) %>%\r\n      fct_lump_min(min = 20)\r\n  ) %>%\r\n  ggplot(aes(y = country_fact)) +\r\n  geom_bar(fill = td_colors$nice$strong_red) +\r\n  scale_x_continuous(expand = c(0, 0)) +\r\n  labs(y = NULL)\r\n\r\n\r\n\r\n\r\nUnsurprisingly for a mostly US-based blog, a large majority of respondents are based in America.\r\nThankfully, the currency option was a dropdown selection in the survey, so less data cleaning will be needed:\r\n\r\n\r\nsurvey %>%\r\n  count(currency, sort = TRUE) %>%\r\n  gt()\r\n\r\n\r\n\r\nhtml {\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\r\n}\r\n\r\n#npwcicscfz .gt_table {\r\n  display: table;\r\n  border-collapse: collapse;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  color: #333333;\r\n  font-size: 16px;\r\n  font-weight: normal;\r\n  font-style: normal;\r\n  background-color: #FFFFFF;\r\n  width: auto;\r\n  border-top-style: solid;\r\n  border-top-width: 2px;\r\n  border-top-color: #A8A8A8;\r\n  border-right-style: none;\r\n  border-right-width: 2px;\r\n  border-right-color: #D3D3D3;\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #A8A8A8;\r\n  border-left-style: none;\r\n  border-left-width: 2px;\r\n  border-left-color: #D3D3D3;\r\n}\r\n\r\n#npwcicscfz .gt_heading {\r\n  background-color: #FFFFFF;\r\n  text-align: center;\r\n  border-bottom-color: #FFFFFF;\r\n  border-left-style: none;\r\n  border-left-width: 1px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 1px;\r\n  border-right-color: #D3D3D3;\r\n}\r\n\r\n#npwcicscfz .gt_title {\r\n  color: #333333;\r\n  font-size: 125%;\r\n  font-weight: initial;\r\n  padding-top: 4px;\r\n  padding-bottom: 4px;\r\n  border-bottom-color: #FFFFFF;\r\n  border-bottom-width: 0;\r\n}\r\n\r\n#npwcicscfz .gt_subtitle {\r\n  color: #333333;\r\n  font-size: 85%;\r\n  font-weight: initial;\r\n  padding-top: 0;\r\n  padding-bottom: 4px;\r\n  border-top-color: #FFFFFF;\r\n  border-top-width: 0;\r\n}\r\n\r\n#npwcicscfz .gt_bottom_border {\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n}\r\n\r\n#npwcicscfz .gt_col_headings {\r\n  border-top-style: solid;\r\n  border-top-width: 2px;\r\n  border-top-color: #D3D3D3;\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n  border-left-style: none;\r\n  border-left-width: 1px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 1px;\r\n  border-right-color: #D3D3D3;\r\n}\r\n\r\n#npwcicscfz .gt_col_heading {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  font-size: 100%;\r\n  font-weight: normal;\r\n  text-transform: inherit;\r\n  border-left-style: none;\r\n  border-left-width: 1px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 1px;\r\n  border-right-color: #D3D3D3;\r\n  vertical-align: bottom;\r\n  padding-top: 5px;\r\n  padding-bottom: 6px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  overflow-x: hidden;\r\n}\r\n\r\n#npwcicscfz .gt_column_spanner_outer {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  font-size: 100%;\r\n  font-weight: normal;\r\n  text-transform: inherit;\r\n  padding-top: 0;\r\n  padding-bottom: 0;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n}\r\n\r\n#npwcicscfz .gt_column_spanner_outer:first-child {\r\n  padding-left: 0;\r\n}\r\n\r\n#npwcicscfz .gt_column_spanner_outer:last-child {\r\n  padding-right: 0;\r\n}\r\n\r\n#npwcicscfz .gt_column_spanner {\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n  vertical-align: bottom;\r\n  padding-top: 5px;\r\n  padding-bottom: 6px;\r\n  overflow-x: hidden;\r\n  display: inline-block;\r\n  width: 100%;\r\n}\r\n\r\n#npwcicscfz .gt_group_heading {\r\n  padding: 8px;\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  font-size: 100%;\r\n  font-weight: initial;\r\n  text-transform: inherit;\r\n  border-top-style: solid;\r\n  border-top-width: 2px;\r\n  border-top-color: #D3D3D3;\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n  border-left-style: none;\r\n  border-left-width: 1px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 1px;\r\n  border-right-color: #D3D3D3;\r\n  vertical-align: middle;\r\n}\r\n\r\n#npwcicscfz .gt_empty_group_heading {\r\n  padding: 0.5px;\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  font-size: 100%;\r\n  font-weight: initial;\r\n  border-top-style: solid;\r\n  border-top-width: 2px;\r\n  border-top-color: #D3D3D3;\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n  vertical-align: middle;\r\n}\r\n\r\n#npwcicscfz .gt_from_md > :first-child {\r\n  margin-top: 0;\r\n}\r\n\r\n#npwcicscfz .gt_from_md > :last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n#npwcicscfz .gt_row {\r\n  padding-top: 8px;\r\n  padding-bottom: 8px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  margin: 10px;\r\n  border-top-style: solid;\r\n  border-top-width: 1px;\r\n  border-top-color: #D3D3D3;\r\n  border-left-style: none;\r\n  border-left-width: 1px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 1px;\r\n  border-right-color: #D3D3D3;\r\n  vertical-align: middle;\r\n  overflow-x: hidden;\r\n}\r\n\r\n#npwcicscfz .gt_stub {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  font-size: 100%;\r\n  font-weight: initial;\r\n  text-transform: inherit;\r\n  border-right-style: solid;\r\n  border-right-width: 2px;\r\n  border-right-color: #D3D3D3;\r\n  padding-left: 12px;\r\n}\r\n\r\n#npwcicscfz .gt_summary_row {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  text-transform: inherit;\r\n  padding-top: 8px;\r\n  padding-bottom: 8px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n}\r\n\r\n#npwcicscfz .gt_first_summary_row {\r\n  padding-top: 8px;\r\n  padding-bottom: 8px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  border-top-style: solid;\r\n  border-top-width: 2px;\r\n  border-top-color: #D3D3D3;\r\n}\r\n\r\n#npwcicscfz .gt_grand_summary_row {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  text-transform: inherit;\r\n  padding-top: 8px;\r\n  padding-bottom: 8px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n}\r\n\r\n#npwcicscfz .gt_first_grand_summary_row {\r\n  padding-top: 8px;\r\n  padding-bottom: 8px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  border-top-style: double;\r\n  border-top-width: 6px;\r\n  border-top-color: #D3D3D3;\r\n}\r\n\r\n#npwcicscfz .gt_striped {\r\n  background-color: rgba(128, 128, 128, 0.05);\r\n}\r\n\r\n#npwcicscfz .gt_table_body {\r\n  border-top-style: solid;\r\n  border-top-width: 2px;\r\n  border-top-color: #D3D3D3;\r\n  border-bottom-style: solid;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n}\r\n\r\n#npwcicscfz .gt_footnotes {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  border-bottom-style: none;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n  border-left-style: none;\r\n  border-left-width: 2px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 2px;\r\n  border-right-color: #D3D3D3;\r\n}\r\n\r\n#npwcicscfz .gt_footnote {\r\n  margin: 0px;\r\n  font-size: 90%;\r\n  padding: 4px;\r\n}\r\n\r\n#npwcicscfz .gt_sourcenotes {\r\n  color: #333333;\r\n  background-color: #FFFFFF;\r\n  border-bottom-style: none;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #D3D3D3;\r\n  border-left-style: none;\r\n  border-left-width: 2px;\r\n  border-left-color: #D3D3D3;\r\n  border-right-style: none;\r\n  border-right-width: 2px;\r\n  border-right-color: #D3D3D3;\r\n}\r\n\r\n#npwcicscfz .gt_sourcenote {\r\n  font-size: 90%;\r\n  padding: 4px;\r\n}\r\n\r\n#npwcicscfz .gt_left {\r\n  text-align: left;\r\n}\r\n\r\n#npwcicscfz .gt_center {\r\n  text-align: center;\r\n}\r\n\r\n#npwcicscfz .gt_right {\r\n  text-align: right;\r\n  font-variant-numeric: tabular-nums;\r\n}\r\n\r\n#npwcicscfz .gt_font_normal {\r\n  font-weight: normal;\r\n}\r\n\r\n#npwcicscfz .gt_font_bold {\r\n  font-weight: bold;\r\n}\r\n\r\n#npwcicscfz .gt_font_italic {\r\n  font-style: italic;\r\n}\r\n\r\n#npwcicscfz .gt_super {\r\n  font-size: 65%;\r\n}\r\n\r\n#npwcicscfz .gt_footnote_marks {\r\n  font-style: italic;\r\n  font-weight: normal;\r\n  font-size: 65%;\r\n}\r\ncurrency\r\n      n\r\n    USD\r\n21852CAD\r\n1564GBP\r\n1521EUR\r\n585AUD/NZD\r\n469Other\r\n133CHF\r\n35SEK\r\n34JPY\r\n22ZAR\r\n13HKD\r\n4\r\n\r\nCheck out the other currency:\r\n\r\n\r\nsurvey %>%\r\n  filter(currency == \"Other\") %>%\r\n  count(currency_other, sort = TRUE) %>%\r\n  rmarkdown::paged_table()\r\n\r\n\r\n\r\n\r\n{\"columns\":[{\"label\":[\"currency_other\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"n\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"DKK\",\"2\":\"8\"},{\"1\":\"MYR\",\"2\":\"8\"},{\"1\":\"USD\",\"2\":\"8\"},{\"1\":\"NOK\",\"2\":\"7\"},{\"1\":\"BRL\",\"2\":\"6\"},{\"1\":\"INR\",\"2\":\"6\"},{\"1\":\"SGD\",\"2\":\"6\"},{\"1\":\"CZK\",\"2\":\"4\"},{\"1\":\"NA\",\"2\":\"4\"},{\"1\":\"AUD\",\"2\":\"2\"},{\"1\":\"CNY\",\"2\":\"2\"},{\"1\":\"Dkk\",\"2\":\"2\"},{\"1\":\"GBP\",\"2\":\"2\"},{\"1\":\"IDR\",\"2\":\"2\"},{\"1\":\"ILS\",\"2\":\"2\"},{\"1\":\"KRW\",\"2\":\"2\"},{\"1\":\"MXN\",\"2\":\"2\"},{\"1\":\"NTD\",\"2\":\"2\"},{\"1\":\"NZD\",\"2\":\"2\"},{\"1\":\"PLN\",\"2\":\"2\"},{\"1\":\"American Dollars\",\"2\":\"1\"},{\"1\":\"Argentine Peso\",\"2\":\"1\"},{\"1\":\"Argentinian peso (ARS)\",\"2\":\"1\"},{\"1\":\"ARS\",\"2\":\"1\"},{\"1\":\"AUD Australian\",\"2\":\"1\"},{\"1\":\"Australian Dollars\",\"2\":\"1\"},{\"1\":\"Bdt\",\"2\":\"1\"},{\"1\":\"BR$\",\"2\":\"1\"},{\"1\":\"BRL (R$)\",\"2\":\"1\"},{\"1\":\"CAD\",\"2\":\"1\"},{\"1\":\"CHF\",\"2\":\"1\"},{\"1\":\"China RMB\",\"2\":\"1\"},{\"1\":\"czech crowns\",\"2\":\"1\"},{\"1\":\"Czk\",\"2\":\"1\"},{\"1\":\"Danish Kroner\",\"2\":\"1\"},{\"1\":\"dkk\",\"2\":\"1\"},{\"1\":\"Equity\",\"2\":\"1\"},{\"1\":\"EUR\",\"2\":\"1\"},{\"1\":\"Euro\",\"2\":\"1\"},{\"1\":\"Ils\",\"2\":\"1\"},{\"1\":\"ILS (Shekel)\",\"2\":\"1\"},{\"1\":\"ILS/NIS\",\"2\":\"1\"},{\"1\":\"Indian rupees\",\"2\":\"1\"},{\"1\":\"INR (Indian Rupee)\",\"2\":\"1\"},{\"1\":\"Israeli Shekels\",\"2\":\"1\"},{\"1\":\"Korean Won\",\"2\":\"1\"},{\"1\":\"KRW (Korean Won)\",\"2\":\"1\"},{\"1\":\"LKR\",\"2\":\"1\"},{\"1\":\"Mexican pesos\",\"2\":\"1\"},{\"1\":\"Mexican Pesos\",\"2\":\"1\"},{\"1\":\"NIS (new Israeli shekel)\",\"2\":\"1\"},{\"1\":\"Nok\",\"2\":\"1\"},{\"1\":\"Norwegian kroner (NOK)\",\"2\":\"1\"},{\"1\":\"Peso Argentino\",\"2\":\"1\"},{\"1\":\"Philippine Peso\",\"2\":\"1\"},{\"1\":\"Philippine peso (PHP)\",\"2\":\"1\"},{\"1\":\"Philippine Pesos\",\"2\":\"1\"},{\"1\":\"Php\",\"2\":\"1\"},{\"1\":\"PHP\",\"2\":\"1\"},{\"1\":\"PhP (Philippine Peso)\",\"2\":\"1\"},{\"1\":\"PLN (Polish zloty)\",\"2\":\"1\"},{\"1\":\"Polish Zloty\",\"2\":\"1\"},{\"1\":\"RM\",\"2\":\"1\"},{\"1\":\"RMB (chinese yuan)\",\"2\":\"1\"},{\"1\":\"SAR\",\"2\":\"1\"},{\"1\":\"SEK\",\"2\":\"1\"},{\"1\":\"Sgd\",\"2\":\"1\"},{\"1\":\"Taiwanese dollars\",\"2\":\"1\"},{\"1\":\"THAI  BAHT\",\"2\":\"1\"},{\"1\":\"THB\",\"2\":\"1\"},{\"1\":\"TRY\",\"2\":\"1\"},{\"1\":\"TTD\",\"2\":\"1\"},{\"1\":\"US Dollar\",\"2\":\"1\"},{\"1\":\"ZAR\",\"2\":\"1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\r\n  \r\n\r\nThese have few enough responses that they probably aren’t worth cleaning. Just make currency a factor in order of frequency:\r\n\r\n\r\nsurvey <- survey %>%\r\n  mutate(currency = fct_infreq(currency))\r\n\r\n\r\n\r\nThese are the country-currency combinations for USA, Canada and the UK:\r\n\r\n\r\nsurvey %>%\r\n  filter(country_clean %in% c(\"USA\", \"Canada\", \"UK\")) %>% \r\n  count(country_clean, currency, sort = TRUE) %>%\r\n  rmarkdown::paged_table()\r\n\r\n\r\n\r\n\r\n{\"columns\":[{\"label\":[\"country_clean\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"currency\"],\"name\":[2],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"n\"],\"name\":[3],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"USA\",\"2\":\"USD\",\"3\":\"21648\"},{\"1\":\"Canada\",\"2\":\"CAD\",\"3\":\"1557\"},{\"1\":\"UK\",\"2\":\"GBP\",\"3\":\"1508\"},{\"1\":\"Canada\",\"2\":\"USD\",\"3\":\"18\"},{\"1\":\"UK\",\"2\":\"USD\",\"3\":\"14\"},{\"1\":\"USA\",\"2\":\"Other\",\"3\":\"13\"},{\"1\":\"UK\",\"2\":\"EUR\",\"3\":\"3\"},{\"1\":\"USA\",\"2\":\"CAD\",\"3\":\"3\"},{\"1\":\"UK\",\"2\":\"Other\",\"3\":\"2\"},{\"1\":\"USA\",\"2\":\"EUR\",\"3\":\"2\"},{\"1\":\"Canada\",\"2\":\"AUD/NZD\",\"3\":\"1\"},{\"1\":\"Canada\",\"2\":\"Other\",\"3\":\"1\"},{\"1\":\"Canada\",\"2\":\"CHF\",\"3\":\"1\"},{\"1\":\"USA\",\"2\":\"GBP\",\"3\":\"1\"},{\"1\":\"USA\",\"2\":\"AUD/NZD\",\"3\":\"1\"},{\"1\":\"USA\",\"2\":\"SEK\",\"3\":\"1\"},{\"1\":\"USA\",\"2\":\"JPY\",\"3\":\"1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\r\n  \r\n\r\nannual_salary and other_monetary_comp are the key variables of this data, but they must be interpreted with currency in mind. First, look for improper (negative, non-numeric) responses:\r\n\r\n\r\nsurvey %>%\r\n  filter(\r\n    # Missing annual salary\r\n    is.na(annual_salary) | is.na(as.numeric(annual_salary)) |\r\n      # Zero or negative annual salary\r\n      (as.numeric(annual_salary) <= 0) |\r\n      # Negative other compensation\r\n      (as.numeric(other_monetary_comp) < 0)\r\n  ) %>%\r\n  select(industry,  job_title, annual_salary, other_monetary_comp,\r\n         additional_context_on_income) %>%\r\n  rmarkdown::paged_table()\r\n\r\n\r\n\r\n\r\n{\"columns\":[{\"label\":[\"industry\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"job_title\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"annual_salary\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"other_monetary_comp\"],\"name\":[4],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"additional_context_on_income\"],\"name\":[5],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"Stay-at-home parent\",\"2\":\"\\\"mum\\\" ;)\",\"3\":\"0\",\"4\":\"0\",\"5\":\"NA\"},{\"1\":\"Nonprofits\",\"2\":\"Executive Director\",\"3\":\"0\",\"4\":\"NA\",\"5\":\"NA\"},{\"1\":\"Law\",\"2\":\"Attorney\",\"3\":\"0\",\"4\":\"185000\",\"5\":\"I receive bi-weekly draws with end-of-year income distribution.\"},{\"1\":\"Education (Primary/Secondary)\",\"2\":\"Student teacher\",\"3\":\"0\",\"4\":\"0\",\"5\":\"Student teaching is usually unpaid\"},{\"1\":\"Computing or Tech\",\"2\":\"Product Marketer\",\"3\":\"0\",\"4\":\"0\",\"5\":\"Start up without funding. Compensation is in stocks.\"},{\"1\":\"Education (Primary/Secondary)\",\"2\":\"Househusband\",\"3\":\"0\",\"4\":\"0\",\"5\":\"NA\"},{\"1\":\"Computing or Tech\",\"2\":\"Founder\",\"3\":\"0\",\"4\":\"0\",\"5\":\"NA\"},{\"1\":\"Marketing, Advertising & PR\",\"2\":\"Unemployed\",\"3\":\"0\",\"4\":\"NA\",\"5\":\"NA\"},{\"1\":\"Nonprofits\",\"2\":\"Government Relations Director\",\"3\":\"0\",\"4\":\"0\",\"5\":\"We are working on getting funding for salaries but do not have enough to pay everyone yet.\"},{\"1\":\"Business or Consulting\",\"2\":\"Realtor\",\"3\":\"0\",\"4\":\"200000\",\"5\":\"Commission based realtor\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\r\n  \r\n\r\nSo 10 cases of annual_salary = 0. In 2 of those cases, the other_monetary_comp makes up the difference, so I’ll create a total_salary variable adding those two:\r\n\r\n\r\nsurvey <- survey %>%\r\n  mutate(\r\n    total_salary = ifelse(\r\n      is.na(other_monetary_comp),\r\n      as.numeric(annual_salary),\r\n      as.numeric(annual_salary) + as.numeric(other_monetary_comp)\r\n    )\r\n  ) %>%\r\n  # Remove those 8 cases of 0 income\r\n  filter(total_salary > 0)\r\n\r\n\r\n\r\nVisualize income on a log scale for the most common currencies:\r\n\r\n\r\np <- survey %>%\r\n  filter(currency %in% c(\"USD\", \"CAD\", \"GBP\", \"EUR\")) %>%\r\n  ggplot(aes(x = total_salary, y = currency)) +\r\n  geom_violin(aes(fill = currency), show.legend = FALSE) +\r\n  scale_x_log10(labels = scales::label_dollar()) +\r\n  facet_wrap(~currency, scales = \"free\") +\r\n  remove_axis(\"y\") +\r\n  add_facet_borders()\r\np\r\n\r\n\r\n\r\n\r\nEven on a log scale, there are a lot of outliers in each currency. If we trim the data to only have the inner 95%:\r\n\r\n\r\np %+%\r\n  (\r\n    survey %>%\r\n      filter(currency %in% c(\"USD\", \"CAD\", \"GBP\", \"EUR\")) %>%\r\n      group_by(currency) %>%\r\n      filter(\r\n        total_salary < quantile(total_salary, 0.975),\r\n        total_salary > quantile(total_salary, 0.025)\r\n      )\r\n  )\r\n\r\n\r\n\r\n\r\nThese are much more reasonable salary ranges.\r\nThere are two variables related to years of experience:\r\n\r\n\r\nsurvey %>%\r\n  count(overall_years_of_professional_experience) %>%\r\n  rmarkdown::paged_table()\r\n\r\n\r\n\r\n\r\n{\"columns\":[{\"label\":[\"overall_years_of_professional_experience\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"n\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"1 year or less\",\"2\":\"430\"},{\"1\":\"11 - 20 years\",\"2\":\"9138\"},{\"1\":\"2 - 4 years\",\"2\":\"2699\"},{\"1\":\"21 - 30 years\",\"2\":\"3467\"},{\"1\":\"31 - 40 years\",\"2\":\"821\"},{\"1\":\"41 years or more\",\"2\":\"115\"},{\"1\":\"5-7 years\",\"2\":\"4514\"},{\"1\":\"8 - 10 years\",\"2\":\"5040\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\r\n  \r\n\r\nsurvey %>%\r\n  count(years_of_experience_in_field) %>%\r\n  rmarkdown::paged_table()\r\n\r\n\r\n\r\n\r\n{\"columns\":[{\"label\":[\"years_of_experience_in_field\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"n\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"1 year or less\",\"2\":\"1248\"},{\"1\":\"11 - 20 years\",\"2\":\"6244\"},{\"1\":\"2 - 4 years\",\"2\":\"5735\"},{\"1\":\"21 - 30 years\",\"2\":\"1781\"},{\"1\":\"31 - 40 years\",\"2\":\"366\"},{\"1\":\"41 years or more\",\"2\":\"38\"},{\"1\":\"5-7 years\",\"2\":\"6112\"},{\"1\":\"8 - 10 years\",\"2\":\"4700\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\r\n  \r\n\r\nThe same 8 levels were used. Like with the age variable, we can parse these numbers and put them into ordered factors:\r\n\r\n\r\nsurvey <- survey %>%\r\n  mutate(\r\n    across(\r\n      c(years_of_experience_in_field,\r\n        overall_years_of_professional_experience),\r\n      ~fct_reorder(., parse_number(.))\r\n    )\r\n  )\r\nsurvey %>%\r\n  count(years_of_experience_in_field,\r\n        overall_years_of_professional_experience) %>%\r\n  ggplot(aes(x = years_of_experience_in_field,\r\n             y = overall_years_of_professional_experience)) +\r\n  geom_tile(aes(fill = n), show.legend = FALSE) +\r\n  geom_text(aes(label = n), color = \"white\") +\r\n  scale_x_discrete(expand = c(0, 0)) +\r\n  scale_y_discrete(expand = c(0, 0)) +\r\n  theme(axis.text.x = element_text(angle = 25, vjust = 0.8))\r\n\r\n\r\n\r\n\r\nIn each case except “41 years or more”, the diagonal of overall_years_of_professional_experience = years_of_experience_in_field is the most frequent co-occurence.\r\nThe education options:\r\n\r\n\r\nsurvey %>%\r\n  count(highest_level_of_education_completed, sort = T) %>%\r\n  rmarkdown::paged_table()\r\n\r\n\r\n\r\n\r\n{\"columns\":[{\"label\":[\"highest_level_of_education_completed\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"n\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"College degree\",\"2\":\"12583\"},{\"1\":\"Master's degree\",\"2\":\"8382\"},{\"1\":\"Some college\",\"2\":\"1879\"},{\"1\":\"PhD\",\"2\":\"1355\"},{\"1\":\"Professional degree (MD, JD, etc.)\",\"2\":\"1261\"},{\"1\":\"High School\",\"2\":\"568\"},{\"1\":\"NA\",\"2\":\"196\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\r\n  \r\n\r\nWe’ll put it in a factor manually ordered by the most years to complete (on average):\r\n\r\n\r\nsurvey <- survey %>%\r\n  mutate(\r\n    highest_level_of_education_completed = factor(\r\n      highest_level_of_education_completed,\r\n      levels = c(\"High School\", \"Some college\", \"College degree\",\r\n                 \"Master's degree\", \"Professional degree (MD, JD, etc.)\", \"PhD\")\r\n    )\r\n  )\r\nsurvey %>%\r\n  mutate(\r\n    highest_level_of_education_completed = fct_explicit_na(\r\n      highest_level_of_education_completed\r\n    )\r\n  ) %>%\r\n  ggplot(aes(y = highest_level_of_education_completed)) +\r\n  geom_bar(aes(fill = highest_level_of_education_completed),\r\n           show.legend = FALSE) +\r\n  scale_fill_viridis_d() +\r\n  scale_x_continuous(expand = expansion(c(0, 0.1)))\r\n\r\n\r\n\r\n\r\nThe gender options:\r\n\r\n\r\nsurvey %>%\r\n  count(gender)\r\n\r\n\r\n# A tibble: 6 x 2\r\n  gender                            n\r\n  <chr>                         <int>\r\n1 Man                            4740\r\n2 Non-binary                      713\r\n3 Other or prefer not to answer   267\r\n4 Prefer not to answer              1\r\n5 Woman                         20355\r\n6 <NA>                            148\r\n\r\nWe can put the “Prefer not to answer” response into the appropriate category, and make a factor:\r\n\r\n\r\nsurvey <- survey %>%\r\n  mutate(gender = ifelse(gender == \"Prefer not to answer\",\r\n                         \"Other or prefer not to answer\", gender),\r\n         gender = fct_infreq(gender))\r\nsurvey %>%\r\n  mutate(gender = fct_explicit_na(gender)) %>%\r\n  ggplot(aes(y = gender)) +\r\n  geom_bar(aes(fill = gender), show.legend = FALSE) +\r\n  scale_x_continuous(expand = c(0, 0))\r\n\r\n\r\n\r\n\r\nA lot more women respondents than men.\r\nThe race variable was a “Choose all that apply” question:\r\n\r\n\r\nsurvey %>%\r\n  count(race, sort = T) %>%\r\n  rmarkdown::paged_table()\r\n\r\n\r\n\r\n\r\n{\"columns\":[{\"label\":[\"race\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"n\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"White\",\"2\":\"21903\"},{\"1\":\"Asian or Asian American\",\"2\":\"1216\"},{\"1\":\"Black or African American\",\"2\":\"618\"},{\"1\":\"Another option not listed here or prefer not to answer\",\"2\":\"566\"},{\"1\":\"Hispanic, Latino, or Spanish origin\",\"2\":\"521\"},{\"1\":\"Hispanic, Latino, or Spanish origin, White\",\"2\":\"351\"},{\"1\":\"Asian or Asian American, White\",\"2\":\"327\"},{\"1\":\"NA\",\"2\":\"146\"},{\"1\":\"Black or African American, White\",\"2\":\"121\"},{\"1\":\"Middle Eastern or Northern African, White\",\"2\":\"72\"},{\"1\":\"Native American or Alaska Native, White\",\"2\":\"65\"},{\"1\":\"White, Another option not listed here or prefer not to answer\",\"2\":\"62\"},{\"1\":\"Middle Eastern or Northern African\",\"2\":\"60\"},{\"1\":\"Native American or Alaska Native\",\"2\":\"39\"},{\"1\":\"Black or African American, Hispanic, Latino, or Spanish origin\",\"2\":\"27\"},{\"1\":\"Asian or Asian American, Another option not listed here or prefer not to answer\",\"2\":\"11\"},{\"1\":\"Asian or Asian American, Hispanic, Latino, or Spanish origin\",\"2\":\"11\"},{\"1\":\"Asian or Asian American, Hispanic, Latino, or Spanish origin, White\",\"2\":\"11\"},{\"1\":\"Hispanic, Latino, or Spanish origin, Native American or Alaska Native\",\"2\":\"10\"},{\"1\":\"Black or African American, Hispanic, Latino, or Spanish origin, White\",\"2\":\"9\"},{\"1\":\"Hispanic, Latino, or Spanish origin, Native American or Alaska Native, White\",\"2\":\"9\"},{\"1\":\"Asian or Asian American, Black or African American\",\"2\":\"7\"},{\"1\":\"Asian or Asian American, Middle Eastern or Northern African\",\"2\":\"7\"},{\"1\":\"Asian or Asian American, White, Another option not listed here or prefer not to answer\",\"2\":\"6\"},{\"1\":\"Hispanic, Latino, or Spanish origin, Another option not listed here or prefer not to answer\",\"2\":\"6\"},{\"1\":\"Asian or Asian American, Black or African American, White\",\"2\":\"5\"},{\"1\":\"Black or African American, Native American or Alaska Native, White\",\"2\":\"5\"},{\"1\":\"Black or African American, Middle Eastern or Northern African, White\",\"2\":\"4\"},{\"1\":\"Hispanic, Latino, or Spanish origin, Middle Eastern or Northern African, White\",\"2\":\"4\"},{\"1\":\"Black or African American, Hispanic, Latino, or Spanish origin, Native American or Alaska Native, White\",\"2\":\"3\"},{\"1\":\"Asian or Asian American, Native American or Alaska Native, White\",\"2\":\"2\"},{\"1\":\"Black or African American, Another option not listed here or prefer not to answer\",\"2\":\"2\"},{\"1\":\"Black or African American, Middle Eastern or Northern African\",\"2\":\"2\"},{\"1\":\"Middle Eastern or Northern African, White, Another option not listed here or prefer not to answer\",\"2\":\"2\"},{\"1\":\"Asian or Asian American, Black or African American, Hispanic, Latino, or Spanish origin\",\"2\":\"1\"},{\"1\":\"Asian or Asian American, Black or African American, Native American or Alaska Native, White\",\"2\":\"1\"},{\"1\":\"Asian or Asian American, Hispanic, Latino, or Spanish origin, Another option not listed here or prefer not to answer\",\"2\":\"1\"},{\"1\":\"Asian or Asian American, Hispanic, Latino, or Spanish origin, Native American or Alaska Native, White\",\"2\":\"1\"},{\"1\":\"Asian or Asian American, Middle Eastern or Northern African, White\",\"2\":\"1\"},{\"1\":\"Asian or Asian American, Native American or Alaska Native\",\"2\":\"1\"},{\"1\":\"Black or African American, Middle Eastern or Northern African, Native American or Alaska Native, White\",\"2\":\"1\"},{\"1\":\"Hispanic, Latino, or Spanish origin, Middle Eastern or Northern African\",\"2\":\"1\"},{\"1\":\"Hispanic, Latino, or Spanish origin, Native American or Alaska Native, Another option not listed here or prefer not to answer\",\"2\":\"1\"},{\"1\":\"Hispanic, Latino, or Spanish origin, White, Another option not listed here or prefer not to answer\",\"2\":\"1\"},{\"1\":\"Middle Eastern or Northern African, Native American or Alaska Native\",\"2\":\"1\"},{\"1\":\"Middle Eastern or Northern African, Native American or Alaska Native, White\",\"2\":\"1\"},{\"1\":\"Native American or Alaska Native, Another option not listed here or prefer not to answer\",\"2\":\"1\"},{\"1\":\"Native American or Alaska Native, White, Another option not listed here or prefer not to answer\",\"2\":\"1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\r\n  \r\n\r\nThe responses are split by commas, but the “Hispanic, Latino, or Spanish origin” option has commas itself. We can approach this two ways. (1) Remove the extra commas, tokenize the answers, and store it in a column vector:\r\n\r\n\r\nsurvey <- survey %>%\r\n  mutate(\r\n    race = str_replace(\r\n      race,\r\n      \"Hispanic, Latino, or Spanish\",\r\n      \"Hispanic Latino or Spanish\"\r\n    ),\r\n    race_split = str_split(\r\n      race,\r\n      pattern = \", \"\r\n    )\r\n  )\r\nsurvey %>%\r\n  select(race, race_split) %>%\r\n  head(30) %>%\r\n  rmarkdown::paged_table()\r\n\r\n\r\n\r\n\r\n{\"columns\":[{\"label\":[\"race\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"race_split\"],\"name\":[2],\"type\":[\"list\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"White\",\"2\":\"<chr [1]>\"},{\"1\":\"White\",\"2\":\"<chr [1]>\"},{\"1\":\"White\",\"2\":\"<chr [1]>\"},{\"1\":\"White\",\"2\":\"<chr [1]>\"},{\"1\":\"White\",\"2\":\"<chr [1]>\"},{\"1\":\"White\",\"2\":\"<chr [1]>\"},{\"1\":\"White\",\"2\":\"<chr [1]>\"},{\"1\":\"White\",\"2\":\"<chr [1]>\"},{\"1\":\"White\",\"2\":\"<chr [1]>\"},{\"1\":\"Hispanic Latino or Spanish origin, White\",\"2\":\"<chr [2]>\"},{\"1\":\"White\",\"2\":\"<chr [1]>\"},{\"1\":\"Hispanic Latino or Spanish origin, White\",\"2\":\"<chr [2]>\"},{\"1\":\"Asian or Asian American, White\",\"2\":\"<chr [2]>\"},{\"1\":\"White\",\"2\":\"<chr [1]>\"},{\"1\":\"White\",\"2\":\"<chr [1]>\"},{\"1\":\"White\",\"2\":\"<chr [1]>\"},{\"1\":\"White\",\"2\":\"<chr [1]>\"},{\"1\":\"White\",\"2\":\"<chr [1]>\"},{\"1\":\"White\",\"2\":\"<chr [1]>\"},{\"1\":\"White\",\"2\":\"<chr [1]>\"},{\"1\":\"White\",\"2\":\"<chr [1]>\"},{\"1\":\"White\",\"2\":\"<chr [1]>\"},{\"1\":\"White\",\"2\":\"<chr [1]>\"},{\"1\":\"Asian or Asian American\",\"2\":\"<chr [1]>\"},{\"1\":\"White\",\"2\":\"<chr [1]>\"},{\"1\":\"White\",\"2\":\"<chr [1]>\"},{\"1\":\"White\",\"2\":\"<chr [1]>\"},{\"1\":\"Another option not listed here or prefer not to answer\",\"2\":\"<chr [1]>\"},{\"1\":\"White\",\"2\":\"<chr [1]>\"},{\"1\":\"White\",\"2\":\"<chr [1]>\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\r\n  \r\n\r\nThen to get race counts, we unnest the race_split column:\r\n\r\n\r\nsurvey %>%\r\n  mutate(n_respondents = n()) %>%\r\n  unnest(race_split) %>%\r\n  count(race_split, n_respondents) %>%\r\n  mutate(\r\n    p = n / n_respondents,\r\n    race = fct_reorder(race_split, n) %>% fct_explicit_na()\r\n  ) %>%\r\n  ggplot(aes(y = race, x = p)) +\r\n  geom_text(aes(label = scales::percent(p, accuracy = 0.1)), nudge_x = 0.05) +\r\n  geom_col(fill = td_colors$nice$soft_orange) +\r\n  scale_x_continuous(\"Percentage of respondents\",\r\n                     labels = scales::percent,\r\n                     expand = c(0, 0), limits = c(0, 1))\r\n\r\n\r\n\r\n\r\nOr (2) manually create indicator variables for each response:\r\n\r\n\r\nsurvey <- survey %>%\r\n  mutate(\r\n    white = str_detect(race, \"White\"),\r\n    asian = str_detect(race, \"Asian\"),\r\n    black = str_detect(race, \"Black\"),\r\n    hispanic_latino_spanish = str_detect(race, \"Hispanic\"),\r\n    middle_eastern_northern_african = str_detect(race, \"Middle Eastern\"),\r\n    native_american_alaska = str_detect(race, \"Native\"),\r\n    other_na = str_detect(race, \"Another option\")\r\n  ) %>%\r\n  # Need to fix NA values\r\n  mutate(\r\n    across(white:other_na, ~replace_na(., FALSE))\r\n  )\r\nsurvey %>%\r\n  # Add an indicator if NA race\r\n  mutate(missing = is.na(race)) %>%\r\n  summarise(across(white:missing, ~mean(.))) %>%\r\n  pivot_longer(everything(), names_to = \"race\", values_to = \"p\") %>%\r\n  mutate(race = fct_reorder(race, p)) %>%\r\n  ggplot(aes(y = race, x = p)) +\r\n  geom_text(aes(label = scales::percent(p, accuracy = 0.1)), nudge_x = 0.05) +\r\n  geom_col(fill = td_colors$nice$soft_orange) +\r\n  scale_x_continuous(\"Percentage of respondents\",\r\n                     labels = scales::percent,\r\n                     expand = c(0, 0), limits = c(0, 1))\r\n\r\n\r\n\r\n\r\nSame percentages, just different labels on the race variable because of how the data were wrangled.\r\nAnalysis\r\nAfter exploring the data, I decided I’d like to analyze the salaries of the data-oriented professions in Canada and the US. Filter by job_title:\r\n\r\n\r\nsurvey_data <- survey %>%\r\n  filter(\r\n    country_clean %in% c(\"USA\", \"Canada\"),\r\n    str_detect(job_title,\r\n               regex(\"data|statistic|stats|machine learn\", ignore_case = TRUE))\r\n  )\r\nsurvey_data %>%\r\n  count(job_title, sort = T) %>%\r\n  rmarkdown::paged_table()\r\n\r\n\r\n\r\n\r\n{\"columns\":[{\"label\":[\"job_title\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"n\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"Data Analyst\",\"2\":\"84\"},{\"1\":\"Data Scientist\",\"2\":\"50\"},{\"1\":\"Senior Data Scientist\",\"2\":\"20\"},{\"1\":\"Data analyst\",\"2\":\"16\"},{\"1\":\"Data Engineer\",\"2\":\"15\"},{\"1\":\"Data scientist\",\"2\":\"14\"},{\"1\":\"Senior Data Analyst\",\"2\":\"12\"},{\"1\":\"Database Administrator\",\"2\":\"10\"},{\"1\":\"Data Manager\",\"2\":\"9\"},{\"1\":\"Statistician\",\"2\":\"7\"},{\"1\":\"Biostatistician\",\"2\":\"6\"},{\"1\":\"Director of Data Science\",\"2\":\"5\"},{\"1\":\"Database Manager\",\"2\":\"4\"},{\"1\":\"Lead Data Scientist\",\"2\":\"4\"},{\"1\":\"Sr Data Analyst\",\"2\":\"4\"},{\"1\":\"data scientist\",\"2\":\"3\"},{\"1\":\"Database Analyst\",\"2\":\"3\"},{\"1\":\"Machine Learning Engineer\",\"2\":\"3\"},{\"1\":\"Metadata Librarian\",\"2\":\"3\"},{\"1\":\"Senior data analyst\",\"2\":\"3\"},{\"1\":\"Senior Data Manager\",\"2\":\"3\"},{\"1\":\"Chief Data Scientist\",\"2\":\"2\"},{\"1\":\"data analyst\",\"2\":\"2\"},{\"1\":\"Data Analyst II\",\"2\":\"2\"},{\"1\":\"Data Architect\",\"2\":\"2\"},{\"1\":\"Data Entry\",\"2\":\"2\"},{\"1\":\"Data Entry Specialist\",\"2\":\"2\"},{\"1\":\"Data Processor\",\"2\":\"2\"},{\"1\":\"Data science manager\",\"2\":\"2\"},{\"1\":\"Data Science Manager\",\"2\":\"2\"},{\"1\":\"Data Scientist II\",\"2\":\"2\"},{\"1\":\"Data Specialist\",\"2\":\"2\"},{\"1\":\"Database Specialist\",\"2\":\"2\"},{\"1\":\"Master Data Analyst\",\"2\":\"2\"},{\"1\":\"Principal Data Scientist\",\"2\":\"2\"},{\"1\":\"Research and Data Analyst\",\"2\":\"2\"},{\"1\":\"Senior Statistician\",\"2\":\"2\"},{\"1\":\"Actuarial data /systems programmer\",\"2\":\"1\"},{\"1\":\"Admin / Data Entry\",\"2\":\"1\"},{\"1\":\"Administrative and Data Coordinator\",\"2\":\"1\"},{\"1\":\"Admission Prospect Data Specialist\",\"2\":\"1\"},{\"1\":\"Annual Fund and Database Manager\",\"2\":\"1\"},{\"1\":\"Applied Data Scientist\",\"2\":\"1\"},{\"1\":\"Assistant Director, Data Integrity\",\"2\":\"1\"},{\"1\":\"Assistant Professor/Director of Cataloging & Metadata Services\",\"2\":\"1\"},{\"1\":\"Assoc Dir Data Analysis\",\"2\":\"1\"},{\"1\":\"Associate Data Analyst\",\"2\":\"1\"},{\"1\":\"Associate Data Scientist\",\"2\":\"1\"},{\"1\":\"Biostatistician I\",\"2\":\"1\"},{\"1\":\"Business Analyst, Enterprise Data Governance\",\"2\":\"1\"},{\"1\":\"Business Data Analyst\",\"2\":\"1\"},{\"1\":\"Business Operations (Data Analyst)\",\"2\":\"1\"},{\"1\":\"Consultant, data analyst\",\"2\":\"1\"},{\"1\":\"Crime Data Analyst\",\"2\":\"1\"},{\"1\":\"Customer Data Management\",\"2\":\"1\"},{\"1\":\"Data & Analytics Director\",\"2\":\"1\"},{\"1\":\"Data & Evaluation Specialist\",\"2\":\"1\"},{\"1\":\"Data / Document Specialist\",\"2\":\"1\"},{\"1\":\"Data Admin\",\"2\":\"1\"},{\"1\":\"data Analyst\",\"2\":\"1\"},{\"1\":\"Data Analyst (EC-05)\",\"2\":\"1\"},{\"1\":\"Data Analyst 2\",\"2\":\"1\"},{\"1\":\"Data Analyst Engineer\",\"2\":\"1\"},{\"1\":\"Data Analyst III\",\"2\":\"1\"},{\"1\":\"Data Analyst Manager\",\"2\":\"1\"},{\"1\":\"Data Analyst Supervisor (Public Health)\",\"2\":\"1\"},{\"1\":\"Data Analyst, Fundraising\",\"2\":\"1\"},{\"1\":\"Data Analytics\",\"2\":\"1\"},{\"1\":\"Data Analytics Consultant\",\"2\":\"1\"},{\"1\":\"Data Analytics Developer\",\"2\":\"1\"},{\"1\":\"Data Analytics Lead\",\"2\":\"1\"},{\"1\":\"Data analytics manager\",\"2\":\"1\"},{\"1\":\"Data Analytics Manager\",\"2\":\"1\"},{\"1\":\"Data and Analytics Lead\",\"2\":\"1\"},{\"1\":\"Data and Analytics Product Manager\",\"2\":\"1\"},{\"1\":\"Data and Evaluation Specialist\",\"2\":\"1\"},{\"1\":\"Data and Insights Analyst\",\"2\":\"1\"},{\"1\":\"Data and layout\",\"2\":\"1\"},{\"1\":\"Data and policy specialist\",\"2\":\"1\"},{\"1\":\"Data and Quality Assurance Manager\",\"2\":\"1\"},{\"1\":\"Data and Reporting Analyst\",\"2\":\"1\"},{\"1\":\"Data architect\",\"2\":\"1\"},{\"1\":\"data associate\",\"2\":\"1\"},{\"1\":\"Data Associate\",\"2\":\"1\"},{\"1\":\"Data Consultant\",\"2\":\"1\"},{\"1\":\"Data Conversion Analyst IV\",\"2\":\"1\"},{\"1\":\"data coordinator\",\"2\":\"1\"},{\"1\":\"Data coordinator\",\"2\":\"1\"},{\"1\":\"Data Coordinator\",\"2\":\"1\"},{\"1\":\"Data curator\",\"2\":\"1\"},{\"1\":\"Data engineer\",\"2\":\"1\"},{\"1\":\"Data Engineering Manager\",\"2\":\"1\"},{\"1\":\"Data Entry and Records Specialist\",\"2\":\"1\"},{\"1\":\"Data Entry Associate\",\"2\":\"1\"},{\"1\":\"Data entry clerk\",\"2\":\"1\"},{\"1\":\"Data Governance\",\"2\":\"1\"},{\"1\":\"Data Governance Analyst\",\"2\":\"1\"},{\"1\":\"Data Insights Analyst\",\"2\":\"1\"},{\"1\":\"Data Integrity\",\"2\":\"1\"},{\"1\":\"Data Integrity Specialist\",\"2\":\"1\"},{\"1\":\"Data Lead\",\"2\":\"1\"},{\"1\":\"Data librarian\",\"2\":\"1\"},{\"1\":\"Data Management Officer\",\"2\":\"1\"},{\"1\":\"Data Management Team Lead\",\"2\":\"1\"},{\"1\":\"Data Migration Consultant\",\"2\":\"1\"},{\"1\":\"Data Privacy & Compliance Professional\",\"2\":\"1\"},{\"1\":\"Data processing\",\"2\":\"1\"},{\"1\":\"data product manager\",\"2\":\"1\"},{\"1\":\"Data Programmer Analyst\",\"2\":\"1\"},{\"1\":\"Data Quality Analyst\",\"2\":\"1\"},{\"1\":\"Data Quality Lead\",\"2\":\"1\"},{\"1\":\"Data quality manager\",\"2\":\"1\"},{\"1\":\"data science\",\"2\":\"1\"},{\"1\":\"Data scientist /epidemiologist\",\"2\":\"1\"},{\"1\":\"Data Scientist 2\",\"2\":\"1\"},{\"1\":\"Data Scientist III\",\"2\":\"1\"},{\"1\":\"Data services associate\",\"2\":\"1\"},{\"1\":\"Data Statistician\",\"2\":\"1\"},{\"1\":\"Data Strategist\",\"2\":\"1\"},{\"1\":\"Data Strategy & Analytics Consultant\",\"2\":\"1\"},{\"1\":\"Data Support\",\"2\":\"1\"},{\"1\":\"Data Systems Manager\",\"2\":\"1\"},{\"1\":\"data team lead\",\"2\":\"1\"},{\"1\":\"Data visualization consultant\",\"2\":\"1\"},{\"1\":\"Data visualization developer\",\"2\":\"1\"},{\"1\":\"Data warehouse operations analyst\",\"2\":\"1\"},{\"1\":\"Database administrator\",\"2\":\"1\"},{\"1\":\"Database Administrator SQL\",\"2\":\"1\"},{\"1\":\"Database Architect\",\"2\":\"1\"},{\"1\":\"Database Assistant\",\"2\":\"1\"},{\"1\":\"Database Associate\",\"2\":\"1\"},{\"1\":\"database developer\",\"2\":\"1\"},{\"1\":\"Database Developer\",\"2\":\"1\"},{\"1\":\"Development and Data Specialist\",\"2\":\"1\"},{\"1\":\"Development Database Associate\",\"2\":\"1\"},{\"1\":\"Development Database Manager\",\"2\":\"1\"},{\"1\":\"Director - Data Operations\",\"2\":\"1\"},{\"1\":\"Director - Data Science\",\"2\":\"1\"},{\"1\":\"Director of Data & Analytics\",\"2\":\"1\"},{\"1\":\"Director of Data & Information Systems\",\"2\":\"1\"},{\"1\":\"Director of Data Analytics\",\"2\":\"1\"},{\"1\":\"Director of Data and Reporting\",\"2\":\"1\"},{\"1\":\"Director of Data Engineering\",\"2\":\"1\"},{\"1\":\"Director of Library and Database Services\",\"2\":\"1\"},{\"1\":\"Director of Research and Data Analytics\",\"2\":\"1\"},{\"1\":\"Director, Advanced Analytics and Statistics\",\"2\":\"1\"},{\"1\":\"Director, Biostatistics\",\"2\":\"1\"},{\"1\":\"Director, Data Analytics\",\"2\":\"1\"},{\"1\":\"Director, Data Management\",\"2\":\"1\"},{\"1\":\"Director, Data Management (non-academic)\",\"2\":\"1\"},{\"1\":\"Director, Master Data\",\"2\":\"1\"},{\"1\":\"District Data Manager\",\"2\":\"1\"},{\"1\":\"Federal consultant (data analytics)\",\"2\":\"1\"},{\"1\":\"Financial Data Specialist\",\"2\":\"1\"},{\"1\":\"Geospatial Data Technician II\",\"2\":\"1\"},{\"1\":\"Gifts and Data Coordinator\",\"2\":\"1\"},{\"1\":\"GIS Data Specialist\",\"2\":\"1\"},{\"1\":\"Global Data Team Leader\",\"2\":\"1\"},{\"1\":\"Government Statistician\",\"2\":\"1\"},{\"1\":\"HCIS Database Analyst\",\"2\":\"1\"},{\"1\":\"Head data scientist\",\"2\":\"1\"},{\"1\":\"Head metadata librarian\",\"2\":\"1\"},{\"1\":\"Head of Data & Analytics\",\"2\":\"1\"},{\"1\":\"Head of Data Science\",\"2\":\"1\"},{\"1\":\"Head of Data Science & Analytics\",\"2\":\"1\"},{\"1\":\"Healthcare Data Analyst\",\"2\":\"1\"},{\"1\":\"Interim Director of Cataloging and Metadata Services\",\"2\":\"1\"},{\"1\":\"IT Project Manager and Data Analyst\",\"2\":\"1\"},{\"1\":\"Lead Data Engineer\",\"2\":\"1\"},{\"1\":\"Lead Data Strategist\",\"2\":\"1\"},{\"1\":\"Management Analyst IV (Data Analyst)\",\"2\":\"1\"},{\"1\":\"Manager of Data Engineering\",\"2\":\"1\"},{\"1\":\"Manager of Data Integrity and Prospect Research\",\"2\":\"1\"},{\"1\":\"Manager of Data Science\",\"2\":\"1\"},{\"1\":\"Manager of Market Research and Data\",\"2\":\"1\"},{\"1\":\"Manager, Gift Processing and Data Management\",\"2\":\"1\"},{\"1\":\"Managing Director Data Science and Analytics\",\"2\":\"1\"},{\"1\":\"Mathematical Statistician\",\"2\":\"1\"},{\"1\":\"Media and Data Analyst\",\"2\":\"1\"},{\"1\":\"Member Data Specialist\",\"2\":\"1\"},{\"1\":\"Membership & Data Analytics Manager\",\"2\":\"1\"},{\"1\":\"Metadata Management Librarian\",\"2\":\"1\"},{\"1\":\"Metadata Specialist II\",\"2\":\"1\"},{\"1\":\"Office specialist-database management\",\"2\":\"1\"},{\"1\":\"Officer, Analyst II- System/Data Security\",\"2\":\"1\"},{\"1\":\"Operations Data Analyst\",\"2\":\"1\"},{\"1\":\"Principal Data Science Manager\",\"2\":\"1\"},{\"1\":\"principal data scientist\",\"2\":\"1\"},{\"1\":\"Principal Project Data Manager\",\"2\":\"1\"},{\"1\":\"Principal Statistical Programmer\",\"2\":\"1\"},{\"1\":\"Product Data Analyst\",\"2\":\"1\"},{\"1\":\"Product Owner: Data, Reporting, & Analytics\",\"2\":\"1\"},{\"1\":\"Project Analyst or Data Manager\",\"2\":\"1\"},{\"1\":\"Provider Data Analyst\",\"2\":\"1\"},{\"1\":\"Provider Data Specialist III\",\"2\":\"1\"},{\"1\":\"Quality data analyst\",\"2\":\"1\"},{\"1\":\"Quality Improvement Data Analyst\",\"2\":\"1\"},{\"1\":\"Records and Data Control Specialist\",\"2\":\"1\"},{\"1\":\"Recruiter & Data Analyst\",\"2\":\"1\"},{\"1\":\"Reporting & Data Analyst\",\"2\":\"1\"},{\"1\":\"Research Data Analyst\",\"2\":\"1\"},{\"1\":\"Research Data Coordinator\",\"2\":\"1\"},{\"1\":\"Research Data Specialist\",\"2\":\"1\"},{\"1\":\"Research Specialist/Data Analyst\",\"2\":\"1\"},{\"1\":\"Senior Advisor, Data Science\",\"2\":\"1\"},{\"1\":\"Senior Associate Data Scientist\",\"2\":\"1\"},{\"1\":\"Senior biostatistician\",\"2\":\"1\"},{\"1\":\"Senior Biostatistician\",\"2\":\"1\"},{\"1\":\"Senior Clinical Data Analyst\",\"2\":\"1\"},{\"1\":\"Senior Data & Policy Specialist\",\"2\":\"1\"},{\"1\":\"senior data analyst\",\"2\":\"1\"},{\"1\":\"Senior Data Analytics Developer\",\"2\":\"1\"},{\"1\":\"Senior Data architect\",\"2\":\"1\"},{\"1\":\"Senior data engineer\",\"2\":\"1\"},{\"1\":\"Senior Data Engineer\",\"2\":\"1\"},{\"1\":\"Senior Data Quality Specialist\",\"2\":\"1\"},{\"1\":\"senior data scientist\",\"2\":\"1\"},{\"1\":\"Senior data scientist\",\"2\":\"1\"},{\"1\":\"Senior Data scientist\",\"2\":\"1\"},{\"1\":\"Senior Database Administrator\",\"2\":\"1\"},{\"1\":\"Senior Database Analyst\",\"2\":\"1\"},{\"1\":\"Senior Database Engineer\",\"2\":\"1\"},{\"1\":\"Senior director data management\",\"2\":\"1\"},{\"1\":\"Senior Director, Data Engineering\",\"2\":\"1\"},{\"1\":\"Senior Editor, Data Visualization\",\"2\":\"1\"},{\"1\":\"Senior GIS Data Analyst\",\"2\":\"1\"},{\"1\":\"Senior Health Data Analyst\",\"2\":\"1\"},{\"1\":\"Senior Machine Learning Engineer\",\"2\":\"1\"},{\"1\":\"Senior Manager, Statistics\",\"2\":\"1\"},{\"1\":\"senior marketing data specialist\",\"2\":\"1\"},{\"1\":\"Senior Research Data Analyst\",\"2\":\"1\"},{\"1\":\"Senior Technical Data Analyst\",\"2\":\"1\"},{\"1\":\"Software and Database Engineer\",\"2\":\"1\"},{\"1\":\"Sr data consultant\",\"2\":\"1\"},{\"1\":\"Sr Database Administrator\",\"2\":\"1\"},{\"1\":\"Sr Fraud Data Analyst\",\"2\":\"1\"},{\"1\":\"Sr Manager, Data\",\"2\":\"1\"},{\"1\":\"Sr. Data Analyst\",\"2\":\"1\"},{\"1\":\"Sr. Data Scientist\",\"2\":\"1\"},{\"1\":\"Sr. Database Analyst\",\"2\":\"1\"},{\"1\":\"Staff Data Scientist\",\"2\":\"1\"},{\"1\":\"Statistical Analyst\",\"2\":\"1\"},{\"1\":\"Statistical Analyst II\",\"2\":\"1\"},{\"1\":\"Statistical Associate\",\"2\":\"1\"},{\"1\":\"Statistical Program Manager\",\"2\":\"1\"},{\"1\":\"Statistical Programmer\",\"2\":\"1\"},{\"1\":\"Statistical Programmer II\",\"2\":\"1\"},{\"1\":\"Statistical Programmer/Data Analyst\",\"2\":\"1\"},{\"1\":\"Statistician II\",\"2\":\"1\"},{\"1\":\"Statistics Supervisor\",\"2\":\"1\"},{\"1\":\"Strategic Data Manager\",\"2\":\"1\"},{\"1\":\"Student data specialist\",\"2\":\"1\"},{\"1\":\"Surveillance Data Manager\",\"2\":\"1\"},{\"1\":\"Survey Statistician\",\"2\":\"1\"},{\"1\":\"Technical consultant (data science/AI)\",\"2\":\"1\"},{\"1\":\"Technical Data Analyst\",\"2\":\"1\"},{\"1\":\"Technical Data Msnager\",\"2\":\"1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\r\n  \r\n\r\n257 unique job_titles if far too many, so I’ll attempt to bucket them into general titles:\r\n\r\n\r\nsurvey_data <- survey_data %>%\r\n  mutate(\r\n    job_title_factor = tolower(job_title),\r\n    job_title_factor = case_when(\r\n      str_detect(job_title_factor, \"analyst|analyti\") ~ \"Data analyst\",\r\n      str_detect(job_title_factor, \"scientist|data sci\") ~ \"Data scientist\",\r\n      str_detect(job_title_factor,\r\n                 \"(data|database) engineer\") ~ \"Data engineer\",\r\n      str_detect(job_title_factor,\r\n                 \"machine learning\") ~ \"Machine learning engineer\",\r\n      str_detect(\r\n        job_title_factor,\r\n        \"(data|database) (man|dev|admin|assoc|special|assist)|librar\"\r\n      ) ~ \"Database specialist\",\r\n      str_detect(job_title_factor, \"statistician\") ~ \"Statistician\",\r\n      str_detect(\r\n        job_title_factor,\r\n        \"director|manager|(lead|leader|head|supervisor)$|coordin|assoc dir|^(head|lead)\"\r\n      ) ~ \"Director/manager/lead/coordinator/supervisor\",\r\n      str_detect(job_title_factor, \"entry|processor\") ~ \"Data entry\",\r\n      str_detect(job_title_factor, \"architect\") ~ \"Data architect\",\r\n      str_detect(job_title_factor, \"consult\") ~ \"Consultant\",\r\n      str_detect(job_title_factor,\r\n                 \"statistical prog\") ~ \"Statistical programmer\",\r\n      TRUE ~ \"Other\"\r\n    ),\r\n    job_title_factor = fct_infreq(job_title_factor)\r\n  )\r\n\r\n\r\n\r\nA few of my choices in the above categorization that should be noted:\r\nStatistician and biostatistician were combined\r\nDatabase specialist\r\nIncludes data managers, administrators, associates,\r\nI included data librarian, which I’m not sure is accurate\r\n\r\nA lot of leadership roles were grouped together, though their typical roles might differ a lot\r\nThere are a few cases with low frequency that I left as “Other”, like:\r\nData Strategist (n=1)\r\nData curator (n=1)\r\nData visualization developer (n=1)\r\n\r\nWe now have the following distribution of job_title:\r\n\r\n\r\nsurvey_data %>%\r\n  ggplot(aes(y = job_title_factor)) +\r\n  geom_bar() +\r\n  scale_x_continuous(expand = c(0, 0))\r\n\r\n\r\n\r\n\r\nDistribution of currency:\r\n\r\n\r\nsurvey_data %>%\r\n  count(currency) %>%\r\n  rmarkdown::paged_table()\r\n\r\n\r\n\r\n\r\n{\"columns\":[{\"label\":[\"currency\"],\"name\":[1],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"n\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"USD\",\"2\":\"502\"},{\"1\":\"CAD\",\"2\":\"27\"},{\"1\":\"Other\",\"2\":\"1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\r\n  \r\n\r\nA single case of currency = “Other”:\r\n\r\n\r\nsurvey_data %>%\r\n  filter(currency == \"Other\") %>%\r\n  select(annual_salary, other_monetary_comp, currency, currency_other,\r\n         additional_context_on_income, country, state) %>%\r\n  glimpse()\r\n\r\n\r\nRows: 1\r\nColumns: 7\r\n$ annual_salary                <dbl> 135000\r\n$ other_monetary_comp          <chr> NA\r\n$ currency                     <fct> Other\r\n$ currency_other               <chr> \"USD\"\r\n$ additional_context_on_income <chr> NA\r\n$ country                      <chr> \"US\"\r\n$ state                        <chr> \"Illinois\"\r\n\r\nSeems like they meant to put USD.\r\n\r\n\r\nsurvey_data <- survey_data %>%\r\n  mutate(currency = ifelse(currency == \"Other\", \"USD\", as.character(currency)))\r\n\r\n\r\n\r\nDistribution of currency by country:\r\n\r\n\r\nsurvey_data %>%\r\n  count(currency, country_clean) %>%\r\n  rmarkdown::paged_table()\r\n\r\n\r\n\r\n\r\n{\"columns\":[{\"label\":[\"currency\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"country_clean\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"n\"],\"name\":[3],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"CAD\",\"2\":\"Canada\",\"3\":\"27\"},{\"1\":\"USD\",\"2\":\"Canada\",\"3\":\"1\"},{\"1\":\"USD\",\"2\":\"USA\",\"3\":\"502\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\r\n  \r\n\r\nA single case of someone in Canada being paid in USD:\r\n\r\n\r\nsurvey_data %>%\r\n  filter(currency == \"USD\", country_clean == \"Canada\") %>%\r\n  glimpse()\r\n\r\n\r\nRows: 1\r\nColumns: 32\r\n$ timestamp                                <dttm> 2021-04-28 15:31:11\r\n$ how_old_are_you                          <chr> \"55-64\"\r\n$ industry                                 <chr> \"Computing or Tech\"\r\n$ job_title                                <chr> \"Senior Data Scien~\r\n$ additional_context_on_job_title          <chr> NA\r\n$ annual_salary                            <dbl> 170000\r\n$ other_monetary_comp                      <chr> \"20000\"\r\n$ currency                                 <chr> \"USD\"\r\n$ currency_other                           <chr> NA\r\n$ additional_context_on_income             <chr> NA\r\n$ country                                  <chr> \"Canada\"\r\n$ state                                    <chr> NA\r\n$ city                                     <chr> \"Annapolis Valley\"\r\n$ overall_years_of_professional_experience <fct> 41 years or more\r\n$ years_of_experience_in_field             <fct> 41 years or more\r\n$ highest_level_of_education_completed     <fct> \"Master's degree\"\r\n$ gender                                   <fct> Man\r\n$ race                                     <chr> \"White\"\r\n$ survey_date                              <date> 2021-04-28\r\n$ age_range                                <fct> 55-64\r\n$ industry_factor                          <fct> \"Computing or Tech\"\r\n$ country_clean                            <chr> \"Canada\"\r\n$ total_salary                             <dbl> 190000\r\n$ race_split                               <list> \"White\"\r\n$ white                                    <lgl> TRUE\r\n$ asian                                    <lgl> FALSE\r\n$ black                                    <lgl> FALSE\r\n$ hispanic_latino_spanish                  <lgl> FALSE\r\n$ middle_eastern_northern_african          <lgl> FALSE\r\n$ native_american_alaska                   <lgl> FALSE\r\n$ other_na                                 <lgl> FALSE\r\n$ job_title_factor                         <fct> Data scientist\r\n\r\nSince it is just the one case, I’ll convert their salary to CAD using today’s exchange rate:\r\n\r\n\r\nsurvey_data <- survey_data %>%\r\n  mutate(\r\n    total_salary = ifelse(currency == \"USD\" & country_clean == \"Canada\",\r\n                          total_salary * 1.20, total_salary),\r\n    currency = ifelse(currency == \"USD\" & country_clean == \"Canada\",\r\n                      \"CAD\", currency)\r\n  )\r\n\r\n\r\n\r\nCheck out total_salary distributions:\r\n\r\n\r\nsurvey_data %>%\r\n  ggplot(aes(y = currency, x = total_salary)) +\r\n  geom_violin(aes(fill = currency), show.legend = FALSE) +\r\n  scale_x_log10(labels = scales::dollar)\r\n\r\n\r\n\r\n\r\nSome pretty bad outliers here – inspect them:\r\n\r\n\r\nsurvey_data %>%\r\n  filter(total_salary < 20000 | total_salary > 300000) %>%\r\n  select(job_title, additional_context_on_job_title,\r\n         annual_salary, other_monetary_comp, total_salary, currency,\r\n         additional_context_on_income, country_clean, city,\r\n         highest_level_of_education_completed, age_range) %>%\r\n  arrange(total_salary) %>%\r\n  rmarkdown::paged_table()\r\n\r\n\r\n\r\n\r\n{\"columns\":[{\"label\":[\"job_title\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"additional_context_on_job_title\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"annual_salary\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"other_monetary_comp\"],\"name\":[4],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"total_salary\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"currency\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"additional_context_on_income\"],\"name\":[7],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"country_clean\"],\"name\":[8],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"city\"],\"name\":[9],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"highest_level_of_education_completed\"],\"name\":[10],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"age_range\"],\"name\":[11],\"type\":[\"fct\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"Chief Data Scientist\",\"2\":\"NA\",\"3\":\"130\",\"4\":\"0\",\"5\":\"130\",\"6\":\"USD\",\"7\":\"NA\",\"8\":\"USA\",\"9\":\"Santa Fe\",\"10\":\"PhD\",\"11\":\"25-34\"},{\"1\":\"Senior Data Scientist\",\"2\":\"NA\",\"3\":\"150\",\"4\":\"0\",\"5\":\"150\",\"6\":\"USD\",\"7\":\"equity options available\",\"8\":\"USA\",\"9\":\"Gainesville\",\"10\":\"Master's degree\",\"11\":\"25-34\"},{\"1\":\"Chief Data Scientist\",\"2\":\"NA\",\"3\":\"240\",\"4\":\"100\",\"5\":\"340\",\"6\":\"USD\",\"7\":\"Additional compensation is expected value of options.\",\"8\":\"USA\",\"9\":\"Oakland\",\"10\":\"PhD\",\"11\":\"25-34\"},{\"1\":\"Director of Library and Database Services\",\"2\":\"I am a library director for a private all girls high school\",\"3\":\"353200\",\"4\":\"10290\",\"5\":\"363490\",\"6\":\"USD\",\"7\":\"I receive additional stipends for teaching a class, coordinating a large event and a cash out from my benefits since I am on my husbands insurance.\",\"8\":\"USA\",\"9\":\"Baltimore\",\"10\":\"Master's degree\",\"11\":\"35-44\"},{\"1\":\"Data Science Manager\",\"2\":\"NA\",\"3\":\"220000\",\"4\":\"150000\",\"5\":\"370000\",\"6\":\"USD\",\"7\":\"40k of the additional amt is bonus the rest is stock comp\",\"8\":\"USA\",\"9\":\"New York\",\"10\":\"Master's degree\",\"11\":\"35-44\"},{\"1\":\"Data Scientist\",\"2\":\"NA\",\"3\":\"185000\",\"4\":\"190000\",\"5\":\"375000\",\"6\":\"USD\",\"7\":\"NA\",\"8\":\"USA\",\"9\":\"New York City\",\"10\":\"College degree\",\"11\":\"25-34\"},{\"1\":\"Data Scientist\",\"2\":\"NA\",\"3\":\"225000\",\"4\":\"200000\",\"5\":\"425000\",\"6\":\"USD\",\"7\":\"The \\\"additional\\\" is estimated approx annual value of stock, and fluctuates a lot. This is a successful company I joined slightly pre-IPO.\",\"8\":\"USA\",\"9\":\"San Francisco\",\"10\":\"PhD\",\"11\":\"25-34\"},{\"1\":\"Data Scientist\",\"2\":\"NA\",\"3\":\"220000\",\"4\":\"800000\",\"5\":\"1020000\",\"6\":\"USD\",\"7\":\"NA\",\"8\":\"USA\",\"9\":\"San Francisco\",\"10\":\"Master's degree\",\"11\":\"35-44\"},{\"1\":\"Manager of Data Science\",\"2\":\"NA\",\"3\":\"280000\",\"4\":\"780000\",\"5\":\"1060000\",\"6\":\"USD\",\"7\":\"NA\",\"8\":\"USA\",\"9\":\"Oakland\",\"10\":\"PhD\",\"11\":\"35-44\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\r\n  \r\n\r\nI’m almost certain that the 3 digit values are in thousands. The largest outliers come from other_monetary_comp and, from the additional_context_on_income column, it comes from options/stock I’ll just adjust the two cases where it puts total_salary over 1 million:\r\n\r\n\r\nsurvey_data <- survey_data %>%\r\n  mutate(\r\n    total_salary = ifelse(total_salary < 1000,\r\n                          total_salary * 1000, total_salary),\r\n    total_salary = ifelse(total_salary > 1000000,\r\n                          annual_salary, total_salary)\r\n  )\r\n\r\n\r\n\r\nWe still have a few people with total_salary > $300k, but some are in expensive cities like NYC and San Francisco, so maybe it’s real.\r\nFinal processing step, dropping some variables and renaming others:\r\n\r\n\r\nsurvey_data <- survey_data %>%\r\n  transmute(\r\n    age_range, industry = industry_factor,\r\n    job_title, job_title_factor = fct_infreq(job_title_factor),\r\n    country = country_clean, state, city,\r\n    education = highest_level_of_education_completed,\r\n    total_salary, currency,\r\n    gender, race_split,\r\n    # Add total salary in CAD and USD for comparing on the same scale\r\n    total_salary_cad = ifelse(currency == \"CAD\", total_salary,\r\n                              total_salary * 1.20),\r\n    total_salary_usd = ifelse(currency == \"USD\", total_salary,\r\n                              total_salary / 1.20)\r\n  )\r\nglimpse(survey_data)\r\n\r\n\r\nRows: 530\r\nColumns: 14\r\n$ age_range        <fct> 25-34, 25-34, 35-44, 25-34, 18-24, 35-44, 2~\r\n$ industry         <fct> \"Health care\", \"Government and Public Admin~\r\n$ job_title        <chr> \"Data Programmer Analyst\", \"Manager of Data~\r\n$ job_title_factor <fct> Data analyst, Director/manager/lead/coordin~\r\n$ country          <chr> \"USA\", \"USA\", \"USA\", \"USA\", \"USA\", \"USA\", \"~\r\n$ state            <chr> \"Pennsylvania\", \"Virginia\", \"North Carolina~\r\n$ city             <chr> \"Philadelphia\", \"Richmond\", \"Raleigh\", \"Chi~\r\n$ education        <fct> \"Master's degree\", \"College degree\", \"Maste~\r\n$ total_salary     <dbl> 74000, 65000, 80000, 100000, 62000, 195000,~\r\n$ currency         <chr> \"USD\", \"USD\", \"USD\", \"USD\", \"USD\", \"USD\", \"~\r\n$ gender           <fct> Woman, Man, Woman, Woman, Woman, Non-binary~\r\n$ race_split       <list> \"White\", \"White\", \"White\", \"White\", \"White~\r\n$ total_salary_cad <dbl> 88800.0, 78000.0, 96000.0, 120000.0, 74400.~\r\n$ total_salary_usd <dbl> 74000.00, 65000.00, 80000.00, 100000.00, 62~\r\n\r\n530 respondents, which represents 2% of the full data. Distribution by job_title and country:\r\n\r\n\r\n# Canada red and USA blue\r\ncountry_colors <- c(\"#FF0000\", \"#3B3B6D\")\r\n\r\nsurvey_data %>%\r\n  group_by(country) %>%\r\n  mutate(country_n = glue::glue(\"{country} (n = {n()})\")) %>%\r\n  ggplot(aes(y = job_title_factor)) +\r\n  geom_bar(aes(fill = country_n)) +\r\n  scale_x_continuous(\"Number of respondents\", expand = c(0, 0)) +\r\n  scale_fill_manual(NULL, values = country_colors) +\r\n  labs(y = NULL) +\r\n  theme(legend.position = c(0.6, 0.7))\r\n\r\n\r\n\r\n\r\n\r\n\r\nsurvey_data %>%\r\n  ggplot(aes(y = job_title_factor, x = total_salary_cad)) +\r\n  geom_boxplot(outlier.shape = NA) +\r\n  geom_jitter(aes(color = country), width = 0, height = 0.25,\r\n              alpha = 0.5, show.legend = FALSE) +\r\n  scale_fill_manual(NULL, values = country_colors) +\r\n  labs(y = NULL) +\r\n  scale_x_log10(\"Total salary in CAD\", labels = scales::dollar,\r\n                breaks = c(30000, 50000, 100000, 200000, 300000))\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-05-18-tidytuesday-week-21/tidytuesday-week-21-ask-a-manager-salary-survey_files/figure-html5/unnamed-chunk-47-1.png",
    "last_modified": "2021-09-15T16:49:53-04:00",
    "input_file": {},
    "preview_width": 1248,
    "preview_height": 768
  },
  {
    "path": "posts/2021-05-06-test-post/",
    "title": "test-post",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Taylor Dunn",
        "url": "https://twitter.com/TDunn12"
      }
    ],
    "date": "2021-05-06",
    "categories": [],
    "contents": "\r\nDistill is a publication format for scientific and technical writing, native to the web.\r\nLearn more about using Distill at https://rstudio.github.io/distill.\r\nHere is some example content.\r\n\r\n\r\nlibrary(dunnr)\r\nlibrary(ggplot2)\r\nlibrary(dplyr)\r\nlibrary(palmerpenguins)\r\nextrafont::loadfonts(device = \"win\", quiet = TRUE)\r\n\r\np1 <- penguins %>%\r\n  filter(!is.na(bill_length_mm)) %>%\r\n  ggplot(aes(x = bill_length_mm, y = bill_depth_mm, color = species)) +\r\n  geom_point(aes(shape = species), size = 3, alpha = 0.5, show.legend = FALSE) +\r\n  geom_smooth(method = \"lm\", formula = \"y ~ x\",\r\n              se = FALSE, show.legend = FALSE) +\r\n  labs(title = \"Penguin bill dimensions\",\r\n       subtitle = \"Bill length and depth for different penguin species\",\r\n       x = \"Bill length (mm)\", y = \"Bill depth (mm)\",\r\n       color = \"Penguin species\", shape = \"Penguin species\",\r\n       caption = \"Data from the palmerpenguins package.\") +\r\n  facet_wrap(~species, nrow = 1)\r\np1 + theme_td() + scale_color_td()\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-05-06-test-post/test-post_files/figure-html5/unnamed-chunk-1-1.png",
    "last_modified": "2021-09-15T15:10:57-04:00",
    "input_file": {},
    "preview_width": 1248,
    "preview_height": 768
  },
  {
    "path": "posts/welcome/",
    "title": "Welcome to Taylor Dunn's personal website",
    "description": "Welcome to our new blog, Taylor Dunn's personal website. We hope you enjoy \nreading what we have to say!",
    "author": [
      {
        "name": "Nora Jones",
        "url": "https://example.com/norajones"
      }
    ],
    "date": "2021-05-06",
    "categories": [],
    "contents": "\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-09-15T15:10:57-04:00",
    "input_file": {}
  }
]
